/*!
 * GSAP 3.6.0
 * https://greensock.com
 * 
 * @license Copyright 2021, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).window=t.window||{})}(this,function(e){"use strict";function _inheritsLoose(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o(t){return"string"==typeof t}function p(t){return"function"==typeof t}function q(t){return"number"==typeof t}function r(t){return void 0===t}function s(t){return"object"==typeof t}function t(t){return!1!==t}function u(){return"undefined"!=typeof window}function v(t){return p(t)||o(t)}function M(t){return(h=mt(t,ot))&&ae}function N(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")}function O(t,e){return!e&&console.warn(t)}function P(t,e){return t&&(ot[t]=e)&&h&&(h[t]=e)||ot}function Q(){return 0}function $(t){var e,r,i=t[0];if(s(i)||p(i)||(t=[t]),!(e=(i._gsap||{}).harness)){for(r=pt.length;r--&&!pt[r].targetTest(i););e=pt[r]}for(r=t.length;r--;)t[r]&&(t[r]._gsap||(t[r]._gsap=new Lt(t[r],e)))||t.splice(r,1);return t}function _(t){return t._gsap||$(Tt(t))[0]._gsap}function aa(t,e,i){return(i=t[e])&&p(i)?t[e]():r(i)&&t.getAttribute&&t.getAttribute(e)||i}function ba(t,e){return(t=t.split(",")).forEach(e)||t}function ca(t){return Math.round(1e5*t)/1e5||0}function da(t,e){for(var r=e.length,i=0;t.indexOf(e[i])<0&&++i<r;);return i<r}function ea(e,r,i){var n,a=q(e[1]),s=(a?2:1)+(r<2?0:1),o=e[s];if(a&&(o.duration=e[1]),o.parent=i,r){for(n=o;i&&!("immediateRender"in n);)n=i.vars.defaults||{},i=t(i.vars.inherit)&&i.parent;o.immediateRender=t(n.immediateRender),r<2?o.runBackwards=1:o.startAt=e[s-1]}return o}function fa(){var t,e,r=ht.length,i=ht.slice(0);for(lt={},t=ht.length=0;t<r;t++)(e=i[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)}function ga(t,e,r,i){ht.length&&fa(),t.render(e,r,i),ht.length&&fa()}function ha(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(at).length<2?e:o(t)?t.trim():t}function ia(t){return t}function ja(t,e){for(var r in e)r in t||(t[r]=e[r]);return t}function ka(t,e){for(var r in e)r in t||"duration"===r||"ease"===r||(t[r]=e[r])}function ma(t,e){for(var r in e)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(t[r]=s(e[r])?ma(t[r]||(t[r]={}),e[r]):e[r]);return t}function na(t,e){var r,i={};for(r in t)r in e||(i[r]=t[r]);return i}function oa(e){var r=e.parent||F,i=e.keyframes?ka:ja;if(t(e.inherit))for(;r;)i(e,r.vars.defaults),r=r.parent||r._dp;return e}function ra(t,e,r,i){void 0===r&&(r="_first"),void 0===i&&(i="_last");var n=e._prev,a=e._next;n?n._next=a:t[r]===e&&(t[r]=a),a?a._prev=n:t[i]===e&&(t[i]=n),e._next=e._prev=e.parent=null}function sa(t,e){!t.parent||e&&!t.parent.autoRemoveChildren||t.parent.remove(t),t._act=0}function ta(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var r=t;r;)r._dirty=1,r=r.parent;return t}function wa(t){return t._repeat?gt(t._tTime,t=t.duration()+t._rDelay)*t:0}function ya(t,e){return(t-e._start)*e._ts+(0<=e._ts?0:e._dirty?e.totalDuration():e._tDur)}function za(t){return t._end=ca(t._start+(t._tDur/Math.abs(t._ts||t._rts||j)||0))}function Aa(t,e){var r=t._dp;return r&&r.smoothChildTiming&&t._ts&&(t._start=ca(r._time-(0<t._ts?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),za(t),r._dirty||ta(r,t)),t}function Ba(t,e){var r;if((e._time||e._initted&&!e._dur)&&(r=ya(t.rawTime(),e),(!e._dur||yt(0,e.totalDuration(),r)-e._tTime>j)&&e.render(r,!0)),ta(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(r=t;r._dp;)0<=r.rawTime()&&r.totalTime(r._tTime),r=r._dp;t._zTime=-j}}function Ca(t,e,r,i){return e.parent&&sa(e),e._start=ca(r+e._delay),e._end=ca(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),function _addLinkedListItem(t,e,r,i,n){void 0===r&&(r="_first"),void 0===i&&(i="_last");var a,s=t[i];if(n)for(a=e[n];s&&s[n]>a;)s=s._prev;s?(e._next=s._next,s._next=e):(e._next=t[r],t[r]=e),e._next?e._next._prev=e:t[i]=e,e._prev=s,e.parent=e._dp=t}(t,e,"_first","_last",t._sort?"_start":0),t._recent=e,i||Ba(t,e),t}function Da(t,e){return(ot.ScrollTrigger||N("scrollTrigger",e))&&ot.ScrollTrigger.create(e,t)}function Ea(t,e,r,i){return Nt(t,e),t._initted?!r&&t._pt&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&f!==Pt.frame?(ht.push(t),t._lazy=[e,i],1):void 0:1}function Ia(t,e,r,i){var n=t._repeat,a=ca(e)||0,s=t._tTime/t._tDur;return s&&!i&&(t._time*=a/t._dur),t._dur=a,t._tDur=n?n<0?1e10:ca(a*(n+1)+t._rDelay*n):a,s&&!i?Aa(t,t._tTime=t._tDur*s):t.parent&&za(t),r||ta(t.parent,t),t}function Ja(t){return t instanceof Bt?ta(t):Ia(t,t._dur)}function La(t,e){var r,i,n=t.labels,a=t._recent||vt,s=t.duration()>=U?a.endTime(!1):t._dur;return o(e)&&(isNaN(e)||e in n)?"<"===(r=e.charAt(0))||">"===r?("<"===r?a._start:a.endTime(0<=a._repeat))+(parseFloat(e.substr(1))||0):(r=e.indexOf("="))<0?(e in n||(n[e]=s),n[e]):(i=+(e.charAt(r-1)+e.substr(r+1)),1<r?La(t,e.substr(0,r-1))+i:s+i):null==e?s:+e}function Ma(t,e){return t||0===t?e(t):e}function Oa(t){if("string"!=typeof t)return"";var e=st.exec(t);return e?t.substr(e.index+e[0].length):""}function Ra(t,e){return t&&s(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&s(t[0]))&&!t.nodeType&&t!==i}function Ua(t){return t.sort(function(){return.5-Math.random()})}function Va(t){if(p(t))return t;var _=s(t)?t:{each:t},m=Et(_.ease),g=_.from||0,v=parseFloat(_.base)||0,y={},e=0<g&&g<1,b=isNaN(g)||e,T=_.axis,w=g,x=g;return o(g)?w=x={center:.5,edges:.5,end:1}[g]||0:!e&&b&&(w=g[0],x=g[1]),function(t,e,r){var i,n,a,s,o,u,h,l,f,d=(r||_).length,c=y[d];if(!c){if(!(f="auto"===_.grid?0:(_.grid||[1,U])[1])){for(h=-U;h<(h=r[f++].getBoundingClientRect().left)&&f<d;);f--}for(c=y[d]=[],i=b?Math.min(f,d)*w-.5:g%f,n=b?d*x/f-.5:g/f|0,l=U,u=h=0;u<d;u++)a=u%f-i,s=n-(u/f|0),c[u]=o=T?Math.abs("y"===T?s:a):J(a*a+s*s),h<o&&(h=o),o<l&&(l=o);"random"===g&&Ua(c),c.max=h-l,c.min=l,c.v=d=(parseFloat(_.amount)||parseFloat(_.each)*(d<f?d-1:T?"y"===T?d/f:f:Math.max(f,d/f))||0)*("edges"===g?-1:1),c.b=d<0?v-d:v,c.u=Oa(_.amount||_.each)||0,m=m&&d<0?It(m):m}return d=(c[t]-c.min)/c.max||0,ca(c.b+(m?m(d):d)*c.v)+c.u}}function Wa(r){var i=r<1?Math.pow(10,(r+"").length-2):1;return function(t){var e=Math.round(parseFloat(t)/r)*r*i;return(e-e%1)/i+(q(t)?0:Oa(t))}}function Xa(u,t){var h,l,e=K(u);return!e&&s(u)&&(h=e=u.radius||U,u.values?(u=Tt(u.values),(l=!q(u[0]))&&(h*=h)):u=Wa(u.increment)),Ma(t,e?p(u)?function(t){return l=u(t),Math.abs(l-t)<=h?l:t}:function(t){for(var e,r,i=parseFloat(l?t.x:t),n=parseFloat(l?t.y:0),a=U,s=0,o=u.length;o--;)(e=l?(e=u[o].x-i)*e+(r=u[o].y-n)*r:Math.abs(u[o]-i))<a&&(a=e,s=o);return s=!h||a<=h?u[s]:t,l||s===t||q(t)?s:s+Oa(t)}:Wa(u))}function Ya(t,e,r,i){return Ma(K(t)?!e:!0===r?!!(r=0):!i,function(){return K(t)?t[~~(Math.random()*t.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((t-r/2+Math.random()*(e-t+.99*r))/r)*r*i)/i})}function ab(e,r,t){return Ma(t,function(t){return e[~~r(t)]})}function db(t){for(var e,r,i,n,a=0,s="";~(e=t.indexOf("random(",a));)i=t.indexOf(")",e),n="["===t.charAt(e+7),r=t.substr(e+7,i-e-7).match(n?at:tt),s+=t.substr(a,e-a)+Ya(n?r:+r[0],n?0:+r[1],+r[2]||1e-5),a=i+1;return s+t.substr(a,t.length-a)}function gb(t,e,r){var i,n,a,s=t.labels,o=U;for(i in s)(n=s[i]-e)<0==!!r&&n&&o>(n=Math.abs(n))&&(a=i,o=n);return a}function ib(t){return sa(t),t.progress()<1&&xt(t,"onInterrupt"),t}function nb(t,e,r){return(6*(t=t<0?t+1:1<t?t-1:t)<1?e+(r-e)*t*6:t<.5?r:3*t<2?e+(r-e)*(2/3-t)*6:e)*Ot+.5|0}function ob(t,e,r){var i,n,a,s,o,u,h,l,f,d,c=t?q(t)?[t>>16,t>>8&Ot,t&Ot]:0:Mt.black;if(!c){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),Mt[t])c=Mt[t];else if("#"===t.charAt(0)){if(t.length<6&&(t="#"+(i=t.charAt(1))+i+(n=t.charAt(2))+n+(a=t.charAt(3))+a+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(c=parseInt(t.substr(1,6),16))>>16,c>>8&Ot,c&Ot,parseInt(t.substr(7),16)/255];c=[(t=parseInt(t.substr(1),16))>>16,t>>8&Ot,t&Ot]}else if("hsl"===t.substr(0,3))if(c=d=t.match(tt),e){if(~t.indexOf("="))return c=t.match(et),r&&c.length<4&&(c[3]=1),c}else s=+c[0]%360/360,o=c[1]/100,i=2*(u=c[2]/100)-(n=u<=.5?u*(o+1):u+o-u*o),3<c.length&&(c[3]*=1),c[0]=nb(s+1/3,i,n),c[1]=nb(s,i,n),c[2]=nb(s-1/3,i,n);else c=t.match(tt)||Mt.transparent;c=c.map(Number)}return e&&!d&&(i=c[0]/Ot,n=c[1]/Ot,a=c[2]/Ot,u=((h=Math.max(i,n,a))+(l=Math.min(i,n,a)))/2,h===l?s=o=0:(f=h-l,o=.5<u?f/(2-h-l):f/(h+l),s=h===i?(n-a)/f+(n<a?6:0):h===n?(a-i)/f+2:(i-n)/f+4,s*=60),c[0]=~~(s+.5),c[1]=~~(100*o+.5),c[2]=~~(100*u+.5)),r&&c.length<4&&(c[3]=1),c}function pb(t){var r=[],i=[],n=-1;return t.split(kt).forEach(function(t){var e=t.match(rt)||[];r.push.apply(r,e),i.push(n+=e.length+1)}),r.c=i,r}function qb(t,e,r){var i,n,a,s,o="",u=(t+o).match(kt),h=e?"hsla(":"rgba(",l=0;if(!u)return t;if(u=u.map(function(t){return(t=ob(t,e,1))&&h+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"}),r&&(a=pb(t),(i=r.c).join(o)!==a.c.join(o)))for(s=(n=t.replace(kt,"1").split(rt)).length-1;l<s;l++)o+=n[l]+(~i.indexOf(l)?u.shift()||h+"0,0,0,0)":(a.length?a:u.length?u:r).shift());if(!n)for(s=(n=t.split(kt)).length-1;l<s;l++)o+=n[l]+u[l];return o+n[s]}function tb(t){var e,r=t.join(" ");if(kt.lastIndex=0,kt.test(r))return e=Ct.test(r),t[1]=qb(t[1],e),t[0]=qb(t[0],e,pb(t[1])),!0}function Cb(t){var e=(t+"").split("("),r=St[e[0]];return r&&1<e.length&&r.config?r.config.apply(null,~t.indexOf("{")?[function _parseObjectInString(t){for(var e,r,i,n={},a=t.substr(1,t.length-3).split(":"),s=a[0],o=1,u=a.length;o<u;o++)r=a[o],e=o!==u-1?r.lastIndexOf(","):r.length,i=r.substr(0,e),n[s]=isNaN(i)?i.replace(zt,"").trim():+i,s=r.substr(e+1).trim();return n}(e[1])]:function _valueInParentheses(t){var e=t.indexOf("(")+1,r=t.indexOf(")"),i=t.indexOf("(",e);return t.substring(e,~i&&i<r?t.indexOf(")",r+1):r)}(t).split(",").map(ha)):St._CE&&Dt.test(t)?St._CE("",t):r}function Eb(t,e){for(var r,i=t._first;i;)i instanceof Bt?Eb(i,e):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===e||(i.timeline?Eb(i.timeline,e):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=e)),i=i._next}function Gb(t,e,r,i){void 0===r&&(r=function easeOut(t){return 1-e(1-t)}),void 0===i&&(i=function easeInOut(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var n,a={easeIn:e,easeOut:r,easeInOut:i};return ba(t,function(t){for(var e in St[t]=ot[t]=a,St[n=t.toLowerCase()]=r,a)St[n+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=St[t+"."+e]=a[e]}),a}function Hb(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}}function Ib(r,t,e){function Cl(t){return 1===t?1:i*Math.pow(2,-10*t)*H((t-a)*n)+1}var i=1<=t?t:1,n=(e||(r?.3:.45))/(t<1?t:1),a=n/X*(Math.asin(1/i)||0),s="out"===r?Cl:"in"===r?function(t){return 1-Cl(1-t)}:Hb(Cl);return n=X/n,s.config=function(t,e){return Ib(r,t,e)},s}function Jb(e,r){function Kl(t){return t?--t*t*((r+1)*t+r)+1:0}void 0===r&&(r=1.70158);var t="out"===e?Kl:"in"===e?function(t){return 1-Kl(1-t)}:Hb(Kl);return t.config=function(t){return Jb(e,t)},t}var L,F,i,n,a,h,l,f,d,c,m,g,y,b,T,w,x,k,C,A,S,D,z,I,E,R,Y={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},B={duration:.5,overwrite:!1,delay:0},U=1e8,j=1/U,X=2*Math.PI,G=X/4,V=0,J=Math.sqrt,W=Math.cos,H=Math.sin,Z="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},K=Array.isArray,tt=/(?:-?\.?\d|\.)+/gi,et=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,rt=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,it=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,nt=/[+-]=-?[.\d]+/,at=/[#\-+.]*\b[a-z\d-=+%.]+/gi,st=/[\d.+\-=]+(?:e[-+]\d*)*/i,ot={},ut={},ht=[],lt={},ft={},dt={},ct=30,pt=[],_t="",mt=function _merge(t,e){for(var r in e)t[r]=e[r];return t},gt=function _animationCycle(t,e){var r=Math.floor(t/=e);return t&&r===t?r-1:r},vt={_start:0,endTime:Q},yt=function _clamp(t,e,r){return r<t?t:e<r?e:r},bt=[].slice,Tt=function toArray(t,e){return!o(t)||e||!n&&At()?K(t)?function _flatten(t,e,r){return void 0===r&&(r=[]),t.forEach(function(t){return o(t)&&!e||Ra(t,1)?r.push.apply(r,Tt(t)):r.push(t)})||r}(t,e):Ra(t)?bt.call(t,0):t?[t]:[]:bt.call(a.querySelectorAll(t),0)},wt=function mapRange(e,t,r,i,n){var a=t-e,s=i-r;return Ma(n,function(t){return r+((t-e)/a*s||0)})},xt=function _callback(t,e,r){var i,n,a=t.vars,s=a[e];if(s)return i=a[e+"Params"],n=a.callbackScope||t,r&&ht.length&&fa(),i?s.apply(n,i):s.call(n)},Ot=255,Mt={aqua:[0,Ot,Ot],lime:[0,Ot,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Ot],navy:[0,0,128],white:[Ot,Ot,Ot],olive:[128,128,0],yellow:[Ot,Ot,0],orange:[Ot,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Ot,0,0],pink:[Ot,192,203],cyan:[0,Ot,Ot],transparent:[Ot,Ot,Ot,0]},kt=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in Mt)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),Ct=/hsl[a]?\(/,Pt=(x=Date.now,k=500,C=33,A=x(),S=A,z=D=1e3/240,b={time:0,frame:0,tick:function tick(){yk(!0)},deltaRatio:function deltaRatio(t){return T/(1e3/(t||60))},wake:function wake(){l&&(!n&&u()&&(i=n=window,a=i.document||{},ot.gsap=ae,(i.gsapVersions||(i.gsapVersions=[])).push(ae.version),M(h||i.GreenSockGlobals||!i.gsap&&i||{}),y=i.requestAnimationFrame),m&&b.sleep(),g=y||function(t){return setTimeout(t,z-1e3*b.time+1|0)},c=1,yk(2))},sleep:function sleep(){(y?i.cancelAnimationFrame:clearTimeout)(m),c=0,g=Q},lagSmoothing:function lagSmoothing(t,e){k=t||1e8,C=Math.min(e,k,0)},fps:function fps(t){D=1e3/(t||240),z=1e3*b.time+D},add:function add(t){I.indexOf(t)<0&&I.push(t),At()},remove:function remove(t){var e;~(e=I.indexOf(t))&&I.splice(e,1)&&e<=w&&w--},_listeners:I=[]}),At=function _wake(){return!c&&Pt.wake()},St={},Dt=/^[\d.\-M][\d.\-,\s]/,zt=/["']/g,It=function _invertEase(e){return function(t){return 1-e(1-t)}},Et=function _parseEase(t,e){return t&&(p(t)?t:St[t]||Cb(t))||e};function yk(t){var e,r,i,n,a=x()-S,s=!0===t;if(k<a&&(A+=a-C),(0<(e=(i=(S+=a)-A)-z)||s)&&(n=++b.frame,T=i-1e3*b.time,b.time=i/=1e3,z+=e+(D<=e?4:D-e),r=1),s||(m=g(yk)),r)for(w=0;w<I.length;w++)I[w](i,T,n,t)}function _l(t){return t<R?E*t*t:t<.7272727272727273?E*Math.pow(t-1.5/2.75,2)+.75:t<.9090909090909092?E*(t-=2.25/2.75)*t+.9375:E*Math.pow(t-2.625/2.75,2)+.984375}ba("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var r=e<5?e+1:e;Gb(t+",Power"+(r-1),e?function(t){return Math.pow(t,r)}:function(t){return t},function(t){return 1-Math.pow(1-t,r)},function(t){return t<.5?Math.pow(2*t,r)/2:1-Math.pow(2*(1-t),r)/2})}),St.Linear.easeNone=St.none=St.Linear.easeIn,Gb("Elastic",Ib("in"),Ib("out"),Ib()),E=7.5625,R=1/2.75,Gb("Bounce",function(t){return 1-_l(1-t)},_l),Gb("Expo",function(t){return t?Math.pow(2,10*(t-1)):0}),Gb("Circ",function(t){return-(J(1-t*t)-1)}),Gb("Sine",function(t){return 1===t?1:1-W(t*G)}),Gb("Back",Jb("in"),Jb("out"),Jb()),St.SteppedEase=St.steps=ot.SteppedEase={config:function config(t,e){void 0===t&&(t=1);var r=1/t,i=t+(e?0:1),n=e?1:0;return function(t){return((i*yt(0,.99999999,t)|0)+n)*r}}},B.ease=St["quad.out"],ba("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return _t+=t+","+t+"Params,"});var Rt,Lt=function GSCache(t,e){this.id=V++,(t._gsap=this).target=t,this.harness=e,this.get=e?e.get:aa,this.set=e?e.getSetter:Wt},Ft=((Rt=Animation.prototype).delay=function delay(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},Rt.duration=function duration(t){return arguments.length?this.totalDuration(0<this._repeat?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},Rt.totalDuration=function totalDuration(t){return arguments.length?(this._dirty=0,Ia(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},Rt.totalTime=function totalTime(t,e){if(At(),!arguments.length)return this._tTime;var r=this._dp;if(r&&r.smoothChildTiming&&this._ts){for(Aa(this,t),!r._dp||r.parent||Ba(r,this);r.parent;)r.parent._time!==r._start+(0<=r._ts?r._tTime/r._ts:(r.totalDuration()-r._tTime)/-r._ts)&&r.totalTime(r._tTime,!0),r=r.parent;!this.parent&&this._dp.autoRemoveChildren&&(0<this._ts&&t<this._tDur||this._ts<0&&0<t||!this._tDur&&!t)&&Ca(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&Math.abs(this._zTime)===j||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),ga(this,t,e)),this},Rt.time=function time(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+wa(this))%this._dur||(t?this._dur:0),e):this._time},Rt.totalProgress=function totalProgress(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},Rt.progress=function progress(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+wa(this),e):this.duration()?Math.min(1,this._time/this._dur):this.ratio},Rt.iteration=function iteration(t,e){var r=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*r,e):this._repeat?gt(this._tTime,r)+1:1},Rt.timeScale=function timeScale(t){if(!arguments.length)return this._rts===-j?0:this._rts;if(this._rts===t)return this;var e=this.parent&&this._ts?ya(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||t===-j?0:this._rts,function _recacheAncestors(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t}(this.totalTime(yt(-this._delay,this._tDur,e),!0))},Rt.paused=function paused(t){return arguments.length?(this._ps!==t&&((this._ps=t)?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(At(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&(this._tTime-=j)&&Math.abs(this._zTime)!==j))),this):this._ps},Rt.startTime=function startTime(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return!e||!e._sort&&this.parent||Ca(e,this,t-this._delay),this}return this._start},Rt.endTime=function endTime(e){return this._start+(t(e)?this.totalDuration():this.duration())/Math.abs(this._ts)},Rt.rawTime=function rawTime(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?ya(e.rawTime(t),this):this._tTime:this._tTime},Rt.globalTime=function globalTime(t){for(var e=this,r=arguments.length?t:e.rawTime();e;)r=e._start+r/(e._ts||1),e=e._dp;return r},Rt.repeat=function repeat(t){return arguments.length?(this._repeat=t===1/0?-2:t,Ja(this)):-2===this._repeat?1/0:this._repeat},Rt.repeatDelay=function repeatDelay(t){return arguments.length?(this._rDelay=t,Ja(this)):this._rDelay},Rt.yoyo=function yoyo(t){return arguments.length?(this._yoyo=t,this):this._yoyo},Rt.seek=function seek(e,r){return this.totalTime(La(this,e),t(r))},Rt.restart=function restart(e,r){return this.play().totalTime(e?-this._delay:0,t(r))},Rt.play=function play(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},Rt.reverse=function reverse(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},Rt.pause=function pause(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},Rt.resume=function resume(){return this.paused(!1)},Rt.reversed=function reversed(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-j:0)),this):this._rts<0},Rt.invalidate=function invalidate(){return this._initted=this._act=0,this._zTime=-j,this},Rt.isActive=function isActive(){var t,e=this.parent||this._dp,r=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=r&&t<this.endTime(!0)-j))},Rt.eventCallback=function eventCallback(t,e,r){var i=this.vars;return 1<arguments.length?(e?(i[t]=e,r&&(i[t+"Params"]=r),"onUpdate"===t&&(this._onUpdate=e)):delete i[t],this):i[t]},Rt.then=function then(t){var i=this;return new Promise(function(e){function rn(){var t=i.then;i.then=null,p(r)&&(r=r(i))&&(r.then||r===i)&&(i.then=t),e(r),i.then=t}var r=p(t)?t:ia;i._initted&&1===i.totalProgress()&&0<=i._ts||!i._tTime&&i._ts<0?rn():i._prom=rn})},Rt.kill=function kill(){ib(this)},Animation);function Animation(t,e){var r=t.parent||F;this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Ia(this,+t.duration,1,1),this.data=t.data,c||Pt.wake(),r&&Ca(r,this,e||0===e?e:r._time,1),t.reversed&&this.reverse(),t.paused&&this.paused(!0)}ja(Ft.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-j,_prom:0,_ps:!1,_rts:1});var Bt=function(n){function Timeline(e,r){var i;return void 0===e&&(e={}),(i=n.call(this,e,r)||this).labels={},i.smoothChildTiming=!!e.smoothChildTiming,i.autoRemoveChildren=!!e.autoRemoveChildren,i._sort=t(e.sortChildren),i.parent&&Ba(i.parent,_assertThisInitialized(i)),e.scrollTrigger&&Da(_assertThisInitialized(i),e.scrollTrigger),i}_inheritsLoose(Timeline,n);var e=Timeline.prototype;return e.to=function to(t,e,r,i){return new Gt(t,ea(arguments,0,this),La(this,q(e)?i:r)),this},e.from=function from(t,e,r,i){return new Gt(t,ea(arguments,1,this),La(this,q(e)?i:r)),this},e.fromTo=function fromTo(t,e,r,i,n){return new Gt(t,ea(arguments,2,this),La(this,q(e)?n:i)),this},e.set=function set(t,e,r){return e.duration=0,e.parent=this,oa(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new Gt(t,e,La(this,r),1),this},e.call=function call(t,e,r){return Ca(this,Gt.delayedCall(0,t,e),La(this,r))},e.staggerTo=function staggerTo(t,e,r,i,n,a,s){return r.duration=e,r.stagger=r.stagger||i,r.onComplete=a,r.onCompleteParams=s,r.parent=this,new Gt(t,r,La(this,n)),this},e.staggerFrom=function staggerFrom(e,r,i,n,a,s,o){return i.runBackwards=1,oa(i).immediateRender=t(i.immediateRender),this.staggerTo(e,r,i,n,a,s,o)},e.staggerFromTo=function staggerFromTo(e,r,i,n,a,s,o,u){return n.startAt=i,oa(n).immediateRender=t(n.immediateRender),this.staggerTo(e,r,n,a,s,o,u)},e.render=function render(t,e,r){var i,n,a,s,o,u,h,l,f,d,c,p,_=this._time,m=this._dirty?this.totalDuration():this._tDur,g=this._dur,v=this!==F&&m-j<t&&0<=t?m:t<j?0:t,y=this._zTime<0!=t<0&&(this._initted||!g);if(v!==this._tTime||r||y){if(_!==this._time&&g&&(v+=this._time-_,t+=this._time-_),i=v,f=this._start,u=!(l=this._ts),y&&(g||(_=this._zTime),!t&&e||(this._zTime=t)),this._repeat){if(c=this._yoyo,o=g+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*o+t,e,r);if(i=ca(v%o),v===m?(s=this._repeat,i=g):((s=~~(v/o))&&s===v/o&&(i=g,s--),g<i&&(i=g)),d=gt(this._tTime,o),!_&&this._tTime&&d!==s&&(d=s),c&&1&s&&(i=g-i,p=1),s!==d&&!this._lock){var b=c&&1&d,T=b===(c&&1&s);if(s<d&&(b=!b),_=b?0:g,this._lock=1,this.render(_||(p?0:ca(s*o)),e,!g)._lock=0,!e&&this.parent&&xt(this,"onRepeat"),this.vars.repeatRefresh&&!p&&(this.invalidate()._lock=1),_!==this._time||u!=!this._ts)return this;if(g=this._dur,m=this._tDur,T&&(this._lock=2,_=b?g:-1e-4,this.render(_,!0),this.vars.repeatRefresh&&!p&&this.invalidate()),this._lock=0,!this._ts&&!u)return this;Eb(this,p)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(h=function _findNextPauseTween(t,e,r){var i;if(e<r)for(i=t._first;i&&i._start<=r;){if(!i._dur&&"isPause"===i.data&&i._start>e)return i;i=i._next}else for(i=t._last;i&&i._start>=r;){if(!i._dur&&"isPause"===i.data&&i._start<e)return i;i=i._prev}}(this,ca(_),ca(i)))&&(v-=i-(i=h._start)),this._tTime=v,this._time=i,this._act=!l,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,_=0),_||!(i||!g&&0<=t)||e||xt(this,"onStart"),_<=i&&0<=t)for(n=this._first;n;){if(a=n._next,(n._act||i>=n._start)&&n._ts&&h!==n){if(n.parent!==this)return this.render(t,e,r);if(n.render(0<n._ts?(i-n._start)*n._ts:(n._dirty?n.totalDuration():n._tDur)+(i-n._start)*n._ts,e,r),i!==this._time||!this._ts&&!u){h=0,a&&(v+=this._zTime=-j);break}}n=a}else{n=this._last;for(var w=t<0?t:i;n;){if(a=n._prev,(n._act||w<=n._end)&&n._ts&&h!==n){if(n.parent!==this)return this.render(t,e,r);if(n.render(0<n._ts?(w-n._start)*n._ts:(n._dirty?n.totalDuration():n._tDur)+(w-n._start)*n._ts,e,r),i!==this._time||!this._ts&&!u){h=0,a&&(v+=this._zTime=w?-j:j);break}}n=a}}if(h&&!e&&(this.pause(),h.render(_<=i?0:-j)._zTime=_<=i?1:-1,this._ts))return this._start=f,za(this),this.render(t,e,r);this._onUpdate&&!e&&xt(this,"onUpdate",!0),(v===m&&m>=this.totalDuration()||!v&&_)&&(f!==this._start&&Math.abs(l)===Math.abs(this._ts)||this._lock||(!t&&g||!(v===m&&0<this._ts||!v&&this._ts<0)||sa(this,1),e||t<0&&!_||!v&&!_||(xt(this,v===m?"onComplete":"onReverseComplete",!0),!this._prom||v<m&&0<this.timeScale()||this._prom())))}return this},e.add=function add(t,e){var r=this;if(q(e)||(e=La(this,e)),!(t instanceof Ft)){if(K(t))return t.forEach(function(t){return r.add(t,e)}),this;if(o(t))return this.addLabel(t,e);if(!p(t))return this;t=Gt.delayedCall(0,t)}return this!==t?Ca(this,t,e):this},e.getChildren=function getChildren(t,e,r,i){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===r&&(r=!0),void 0===i&&(i=-U);for(var n=[],a=this._first;a;)a._start>=i&&(a instanceof Gt?e&&n.push(a):(r&&n.push(a),t&&n.push.apply(n,a.getChildren(!0,e,r)))),a=a._next;return n},e.getById=function getById(t){for(var e=this.getChildren(1,1,1),r=e.length;r--;)if(e[r].vars.id===t)return e[r]},e.remove=function remove(t){return o(t)?this.removeLabel(t):p(t)?this.killTweensOf(t):(ra(this,t),t===this._recent&&(this._recent=this._last),ta(this))},e.totalTime=function totalTime(t,e){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=ca(Pt.time-(0<this._ts?t/this._ts:(this.totalDuration()-t)/-this._ts))),n.prototype.totalTime.call(this,t,e),this._forcing=0,this):this._tTime},e.addLabel=function addLabel(t,e){return this.labels[t]=La(this,e),this},e.removeLabel=function removeLabel(t){return delete this.labels[t],this},e.addPause=function addPause(t,e,r){var i=Gt.delayedCall(0,e||Q,r);return i.data="isPause",this._hasPause=1,Ca(this,i,La(this,t))},e.removePause=function removePause(t){var e=this._first;for(t=La(this,t);e;)e._start===t&&"isPause"===e.data&&sa(e),e=e._next},e.killTweensOf=function killTweensOf(t,e,r){for(var i=this.getTweensOf(t,r),n=i.length;n--;)qt!==i[n]&&i[n].kill(t,e);return this},e.getTweensOf=function getTweensOf(t,e){for(var r,i=[],n=Tt(t),a=this._first,s=q(e);a;)a instanceof Gt?da(a._targets,n)&&(s?(!qt||a._initted&&a._ts)&&a.globalTime(0)<=e&&a.globalTime(a.totalDuration())>e:!e||a.isActive())&&i.push(a):(r=a.getTweensOf(n,e)).length&&i.push.apply(i,r),a=a._next;return i},e.tweenTo=function tweenTo(t,e){e=e||{};var r=this,i=La(r,t),n=e.startAt,a=e.onStart,s=e.onStartParams,o=e.immediateRender,u=Gt.to(r,ja({ease:"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:e.duration||Math.abs((i-(n&&"time"in n?n.time:r._time))/r.timeScale())||j,onStart:function onStart(){r.pause();var t=e.duration||Math.abs((i-r._time)/r.timeScale());u._dur!==t&&Ia(u,t,0,1).render(u._time,!0,!0),a&&a.apply(u,s||[])}},e));return o?u.render(0):u},e.tweenFromTo=function tweenFromTo(t,e,r){return this.tweenTo(e,ja({startAt:{time:La(this,t)}},r))},e.recent=function recent(){return this._recent},e.nextLabel=function nextLabel(t){return void 0===t&&(t=this._time),gb(this,La(this,t))},e.previousLabel=function previousLabel(t){return void 0===t&&(t=this._time),gb(this,La(this,t),1)},e.currentLabel=function currentLabel(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+j)},e.shiftChildren=function shiftChildren(t,e,r){void 0===r&&(r=0);for(var i,n=this._first,a=this.labels;n;)n._start>=r&&(n._start+=t,n._end+=t),n=n._next;if(e)for(i in a)a[i]>=r&&(a[i]+=t);return ta(this)},e.invalidate=function invalidate(){var t=this._first;for(this._lock=0;t;)t.invalidate(),t=t._next;return n.prototype.invalidate.call(this)},e.clear=function clear(t){void 0===t&&(t=!0);for(var e,r=this._first;r;)e=r._next,this.remove(r),r=e;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),ta(this)},e.totalDuration=function totalDuration(t){var e,r,i,n=0,a=this,s=a._last,o=U;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-t:t));if(a._dirty){for(i=a.parent;s;)e=s._prev,s._dirty&&s.totalDuration(),o<(r=s._start)&&a._sort&&s._ts&&!a._lock?(a._lock=1,Ca(a,s,r-s._delay,1)._lock=0):o=r,r<0&&s._ts&&(n-=r,(!i&&!a._dp||i&&i.smoothChildTiming)&&(a._start+=r/a._ts,a._time-=r,a._tTime-=r),a.shiftChildren(-r,!1,-Infinity),o=0),s._end>n&&s._ts&&(n=s._end),s=e;Ia(a,a===F&&a._time>n?a._time:n,1,1),a._dirty=0}return a._tDur},Timeline.updateRoot=function updateRoot(t){if(F._ts&&(ga(F,ya(t,F)),f=Pt.frame),Pt.frame>=ct){ct+=Y.autoSleep||120;var e=F._first;if((!e||!e._ts)&&Y.autoSleep&&Pt._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||Pt.sleep()}}},Timeline}(Ft);ja(Bt.prototype,{_lock:0,_hasPause:0,_forcing:0});function Qb(t,e,r,i,n,a){var u,h,l,f;if(ft[t]&&!1!==(u=new ft[t]).init(n,u.rawVars?e[t]:function _processVars(t,e,r,i,n){if(p(t)&&(t=Ut(t,n,e,r,i)),!s(t)||t.style&&t.nodeType||K(t)||Z(t))return o(t)?Ut(t,n,e,r,i):t;var a,u={};for(a in t)u[a]=Ut(t[a],n,e,r,i);return u}(e[t],i,n,a,r),r,i,a)&&(r._pt=h=new ie(r._pt,n,t,0,1,u.render,u,0,u.priority),r!==d))for(l=r._ptLookup[r._targets.indexOf(n)],f=u._props.length;f--;)l[u._props[f]]=h;return u}var qt,Yt=function _addPropTween(t,e,r,i,n,a,s,u,h){p(i)&&(i=i(n||0,t,a));var l,f=t[e],d="get"!==r?r:p(f)?h?t[e.indexOf("set")||!p(t["get"+e.substr(3)])?e:"get"+e.substr(3)](h):t[e]():f,c=p(f)?h?Jt:Qt:Vt;if(o(i)&&(~i.indexOf("random(")&&(i=db(i)),"="===i.charAt(1)&&(i=parseFloat(d)+parseFloat(i.substr(2))*("-"===i.charAt(0)?-1:1)+(Oa(d)||0))),d!==i)return isNaN(d*i)?(f||e in t||N(e,i),function _addComplexStringPropTween(t,e,r,i,n,a,s){var o,u,h,l,f,d,c,p,_=new ie(this._pt,t,e,0,1,Zt,null,n),m=0,g=0;for(_.b=r,_.e=i,r+="",(c=~(i+="").indexOf("random("))&&(i=db(i)),a&&(a(p=[r,i],t,e),r=p[0],i=p[1]),u=r.match(it)||[];o=it.exec(i);)l=o[0],f=i.substring(m,o.index),h?h=(h+1)%5:"rgba("===f.substr(-5)&&(h=1),l!==u[g++]&&(d=parseFloat(u[g-1])||0,_._pt={_next:_._pt,p:f||1===g?f:",",s:d,c:"="===l.charAt(1)?parseFloat(l.substr(2))*("-"===l.charAt(0)?-1:1):parseFloat(l)-d,m:h&&h<4?Math.round:0},m=it.lastIndex);return _.c=m<i.length?i.substring(m,i.length):"",_.fp=s,(nt.test(i)||c)&&(_.e=0),this._pt=_}.call(this,t,e,d,i,c,u||Y.stringFilter,h)):(l=new ie(this._pt,t,e,+d||0,i-(d||0),"boolean"==typeof f?$t:Ht,0,c),h&&(l.fp=h),s&&l.modifier(s,this,t),this._pt=l)},Nt=function _initTween(e,r){var i,n,a,s,o,u,h,l,f,d,c,p,m,g=e.vars,v=g.ease,y=g.startAt,b=g.immediateRender,T=g.lazy,w=g.onUpdate,x=g.onUpdateParams,O=g.callbackScope,M=g.runBackwards,k=g.yoyoEase,C=g.keyframes,P=g.autoRevert,A=e._dur,S=e._startAt,D=e._targets,z=e.parent,I=z&&"nested"===z.data?z.parent._targets:D,E="auto"===e._overwrite&&!L,R=e.timeline;if(!R||C&&v||(v="none"),e._ease=Et(v,B.ease),e._yEase=k?It(Et(!0===k?v:k,B.ease)):0,k&&e._yoyo&&!e._repeat&&(k=e._yEase,e._yEase=e._ease,e._ease=k),!R){if(p=(l=D[0]?_(D[0]).harness:0)&&g[l.prop],i=na(g,ut),S&&S.render(-1,!0).kill(),y){if(sa(e._startAt=Gt.set(D,ja({data:"isStart",overwrite:!1,parent:z,immediateRender:!0,lazy:t(T),startAt:null,delay:0,onUpdate:w,onUpdateParams:x,callbackScope:O,stagger:0},y))),b)if(0<r)P||(e._startAt=0);else if(A&&!(r<0&&S))return void(r&&(e._zTime=r))}else if(M&&A)if(S)P||(e._startAt=0);else if(r&&(b=!1),a=ja({overwrite:!1,data:"isFromStart",lazy:b&&t(T),immediateRender:b,stagger:0,parent:z},i),p&&(a[l.prop]=p),sa(e._startAt=Gt.set(D,a)),b){if(!r)return}else _initTween(e._startAt,j);for(e._pt=0,T=A&&t(T)||T&&!A,n=0;n<D.length;n++){if(h=(o=D[n])._gsap||$(D)[n]._gsap,e._ptLookup[n]=d={},lt[h.id]&&ht.length&&fa(),c=I===D?n:I.indexOf(o),l&&!1!==(f=new l).init(o,p||i,e,c,I)&&(e._pt=s=new ie(e._pt,o,f.name,0,1,f.render,f,0,f.priority),f._props.forEach(function(t){d[t]=s}),f.priority&&(u=1)),!l||p)for(a in i)ft[a]&&(f=Qb(a,i,e,c,o,I))?f.priority&&(u=1):d[a]=s=Yt.call(e,o,a,"get",i[a],c,I,0,g.stringFilter);e._op&&e._op[n]&&e.kill(o,e._op[n]),E&&e._pt&&(qt=e,F.killTweensOf(o,d,e.globalTime(0)),m=!e.parent,qt=0),e._pt&&T&&(lt[h.id]=1)}u&&re(e),e._onInit&&e._onInit(e)}e._from=!R&&!!g.runBackwards,e._onUpdate=w,e._initted=(!e._op||e._pt)&&!m},Ut=function _parseFuncOrString(t,e,r,i,n){return p(t)?t.call(e,r,i,n):o(t)&&~t.indexOf("random(")?db(t):t},jt=_t+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",Xt=(jt+",id,stagger,delay,duration,paused,scrollTrigger").split(","),Gt=function(A){function Tween(e,r,i,n){var a;"number"==typeof r&&(i.duration=r,r=i,i=null);var o,u,h,l,f,d,c,p,_=(a=A.call(this,n?r:oa(r),i)||this).vars,m=_.duration,g=_.delay,y=_.immediateRender,b=_.stagger,T=_.overwrite,w=_.keyframes,x=_.defaults,M=_.scrollTrigger,k=_.yoyoEase,C=a.parent,P=(K(e)||Z(e)?q(e[0]):"length"in r)?[e]:Tt(e);if(a._targets=P.length?$(P):O("GSAP target "+e+" not found. https://greensock.com",!Y.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=T,w||b||v(m)||v(g)){if(r=a.vars,(o=a.timeline=new Bt({data:"nested",defaults:x||{}})).kill(),o.parent=o._dp=_assertThisInitialized(a),o._start=0,w)ja(o.vars.defaults,{ease:"none"}),w.forEach(function(t){return o.to(P,t,">")});else{if(l=P.length,c=b?Va(b):Q,s(b))for(f in b)~jt.indexOf(f)&&((p=p||{})[f]=b[f]);for(u=0;u<l;u++){for(f in h={},r)Xt.indexOf(f)<0&&(h[f]=r[f]);h.stagger=0,k&&(h.yoyoEase=k),p&&mt(h,p),d=P[u],h.duration=+Ut(m,_assertThisInitialized(a),u,d,P),h.delay=(+Ut(g,_assertThisInitialized(a),u,d,P)||0)-a._delay,!b&&1===l&&h.delay&&(a._delay=g=h.delay,a._start+=g,h.delay=0),o.to(d,h,c(u,d,P))}o.duration()?m=g=0:a.timeline=0}m||a.duration(m=o.duration())}else a.timeline=0;return!0!==T||L||(qt=_assertThisInitialized(a),F.killTweensOf(P),qt=0),C&&Ba(C,_assertThisInitialized(a)),(y||!m&&!w&&a._start===ca(C._time)&&t(y)&&function _hasNoPausedAncestors(t){return!t||t._ts&&_hasNoPausedAncestors(t.parent)}(_assertThisInitialized(a))&&"nested"!==C.data)&&(a._tTime=-j,a.render(Math.max(0,-g))),M&&Da(_assertThisInitialized(a),M),a}_inheritsLoose(Tween,A);var e=Tween.prototype;return e.render=function render(t,e,r){var i,n,a,s,o,u,h,l,f,d=this._time,c=this._tDur,p=this._dur,_=c-j<t&&0<=t?c:t<j?0:t;if(p){if(_!==this._tTime||!t||r||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=t<0){if(i=_,l=this.timeline,this._repeat){if(s=p+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*s+t,e,r);if(i=ca(_%s),_===c?(a=this._repeat,i=p):((a=~~(_/s))&&a===_/s&&(i=p,a--),p<i&&(i=p)),(u=this._yoyo&&1&a)&&(f=this._yEase,i=p-i),o=gt(this._tTime,s),i===d&&!r&&this._initted)return this;a!==o&&(l&&this._yEase&&Eb(l,u),!this.vars.repeatRefresh||u||this._lock||(this._lock=r=1,this.render(ca(s*a),!0).invalidate()._lock=0))}if(!this._initted){if(Ea(this,t<0?t:i,r,e))return this._tTime=0,this;if(p!==this._dur)return this.render(t,e,r)}for(this._tTime=_,this._time=i,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=h=(f||this._ease)(i/p),this._from&&(this.ratio=h=1-h),!i||d||e||xt(this,"onStart"),n=this._pt;n;)n.r(h,n.d),n=n._next;l&&l.render(t<0?t:!i&&u?-j:l._dur*h,e,r)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(t<0&&this._startAt&&this._startAt.render(t,!0,r),xt(this,"onUpdate")),this._repeat&&a!==o&&this.vars.onRepeat&&!e&&this.parent&&xt(this,"onRepeat"),_!==this._tDur&&_||this._tTime!==_||(t<0&&this._startAt&&!this._onUpdate&&this._startAt.render(t,!0,!0),!t&&p||!(_===this._tDur&&0<this._ts||!_&&this._ts<0)||sa(this,1),e||t<0&&!d||!_&&!d||(xt(this,_===c?"onComplete":"onReverseComplete",!0),!this._prom||_<c&&0<this.timeScale()||this._prom()))}}else!function _renderZeroDurationTween(t,e,r,i){var n,a,s,o=t.ratio,u=e<0||!e&&(!t._start&&function _parentPlayheadIsBeforeStart(t){var e=t.parent;return e&&e._ts&&e._initted&&!e._lock&&(e.rawTime()<0||_parentPlayheadIsBeforeStart(e))}(t)||(t._ts<0||t._dp._ts<0)&&"isFromStart"!==t.data&&"isStart"!==t.data)?0:1,h=t._rDelay,l=0;if(h&&t._repeat&&(l=yt(0,t._tDur,e),a=gt(l,h),s=gt(t._tTime,h),t._yoyo&&1&a&&(u=1-u),a!==s&&(o=1-u,t.vars.repeatRefresh&&t._initted&&t.invalidate())),u!==o||i||t._zTime===j||!e&&t._zTime){if(!t._initted&&Ea(t,e,i,r))return;for(s=t._zTime,t._zTime=e||(r?j:0),r=r||e&&!s,t.ratio=u,t._from&&(u=1-u),t._time=0,t._tTime=l,r||xt(t,"onStart"),n=t._pt;n;)n.r(u,n.d),n=n._next;t._startAt&&e<0&&t._startAt.render(e,!0,!0),t._onUpdate&&!r&&xt(t,"onUpdate"),l&&t._repeat&&!r&&t.parent&&xt(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===u&&(u&&sa(t,1),r||(xt(t,u?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,t,e,r);return this},e.targets=function targets(){return this._targets},e.invalidate=function invalidate(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),A.prototype.invalidate.call(this)},e.kill=function kill(t,e){if(void 0===e&&(e="all"),!(t||e&&"all"!==e))return this._lazy=this._pt=0,this.parent?ib(this):this;if(this.timeline){var r=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,qt&&!0!==qt.vars.overwrite)._first||ib(this),this.parent&&r!==this.timeline.totalDuration()&&Ia(this,this._dur*this.timeline._tDur/r,0,1),this}var i,n,a,s,u,h,l,f=this._targets,d=t?Tt(t):f,c=this._ptLookup,p=this._pt;if((!e||"all"===e)&&function _arraysMatch(t,e){for(var r=t.length,i=r===e.length;i&&r--&&t[r]===e[r];);return r<0}(f,d))return"all"===e&&(this._pt=0),ib(this);for(i=this._op=this._op||[],"all"!==e&&(o(e)&&(u={},ba(e,function(t){return u[t]=1}),e=u),e=function _addAliasesToVars(t,e){var r,i,n,a,s=t[0]?_(t[0]).harness:0,o=s&&s.aliases;if(!o)return e;for(i in r=mt({},e),o)if(i in r)for(n=(a=o[i].split(",")).length;n--;)r[a[n]]=r[i];return r}(f,e)),l=f.length;l--;)if(~d.indexOf(f[l]))for(u in n=c[l],"all"===e?(i[l]=e,s=n,a={}):(a=i[l]=i[l]||{},s=e),s)(h=n&&n[u])&&("kill"in h.d&&!0!==h.d.kill(u)||ra(this,h,"_pt"),delete n[u]),"all"!==a&&(a[u]=1);return this._initted&&!this._pt&&p&&ib(this),this},Tween.to=function to(t,e,r){return new Tween(t,e,r)},Tween.from=function from(t,e){return new Tween(t,ea(arguments,1))},Tween.delayedCall=function delayedCall(t,e,r,i){return new Tween(e,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:e,onReverseComplete:e,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:i})},Tween.fromTo=function fromTo(t,e,r){return new Tween(t,ea(arguments,2))},Tween.set=function set(t,e){return e.duration=0,e.repeatDelay||(e.repeat=0),new Tween(t,e)},Tween.killTweensOf=function killTweensOf(t,e,r){return F.killTweensOf(t,e,r)},Tween}(Ft);ja(Gt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),ba("staggerTo,staggerFrom,staggerFromTo",function(r){Gt[r]=function(){var t=new Bt,e=bt.call(arguments,0);return e.splice("staggerFromTo"===r?5:4,0,0),t[r].apply(t,e)}});function _b(t,e,r){return t.setAttribute(e,r)}function hc(t,e,r,i){i.mSet(t,e,i.m.call(i.tween,r,i.mt),i)}var Vt=function _setterPlain(t,e,r){return t[e]=r},Qt=function _setterFunc(t,e,r){return t[e](r)},Jt=function _setterFuncWithParam(t,e,r,i){return t[e](i.fp,r)},Wt=function _getSetter(t,e){return p(t[e])?Qt:r(t[e])&&t.setAttribute?_b:Vt},Ht=function _renderPlain(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4,e)},$t=function _renderBoolean(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},Zt=function _renderComplexString(t,e){var r=e._pt,i="";if(!t&&e.b)i=e.b;else if(1===t&&e.e)i=e.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*t):Math.round(1e4*(r.s+r.c*t))/1e4)+i,r=r._next;i+=e.c}e.set(e.t,e.p,i,e)},Kt=function _renderPropTweens(t,e){for(var r=e._pt;r;)r.r(t,r.d),r=r._next},te=function _addPluginModifier(t,e,r,i){for(var n,a=this._pt;a;)n=a._next,a.p===i&&a.modifier(t,e,r),a=n},ee=function _killPropTweensOf(t){for(var e,r,i=this._pt;i;)r=i._next,i.p===t&&!i.op||i.op===t?ra(this,i,"_pt"):i.dep||(e=1),i=r;return!e},re=function _sortPropTweensByPriority(t){for(var e,r,i,n,a=t._pt;a;){for(e=a._next,r=i;r&&r.pr>a.pr;)r=r._next;(a._prev=r?r._prev:n)?a._prev._next=a:i=a,(a._next=r)?r._prev=a:n=a,a=e}t._pt=i},ie=(PropTween.prototype.modifier=function modifier(t,e,r){this.mSet=this.mSet||this.set,this.set=hc,this.m=t,this.mt=r,this.tween=e},PropTween);function PropTween(t,e,r,i,n,a,s,o,u){this.t=e,this.s=i,this.c=n,this.p=r,this.r=a||Ht,this.d=s||this,this.set=o||Vt,this.pr=u||0,(this._next=t)&&(t._prev=this)}ba(_t+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return ut[t]=1}),ot.TweenMax=ot.TweenLite=Gt,ot.TimelineLite=ot.TimelineMax=Bt,F=new Bt({sortChildren:!1,defaults:B,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),Y.stringFilter=tb;var ne={registerPlugin:function registerPlugin(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];e.forEach(function(t){return function _createPlugin(t){var e=(t=!t.name&&t.default||t).name,r=p(t),i=e&&!r&&t.init?function(){this._props=[]}:t,n={init:Q,render:Kt,add:Yt,kill:ee,modifier:te,rawVars:0},a={targetTest:0,get:0,getSetter:Wt,aliases:{},register:0};if(At(),t!==i){if(ft[e])return;ja(i,ja(na(t,n),a)),mt(i.prototype,mt(n,na(t,a))),ft[i.prop=e]=i,t.targetTest&&(pt.push(i),ut[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}P(e,i),t.register&&t.register(ae,i,ie)}(t)})},timeline:function timeline(t){return new Bt(t)},getTweensOf:function getTweensOf(t,e){return F.getTweensOf(t,e)},getProperty:function getProperty(i,t,e,r){o(i)&&(i=Tt(i)[0]);var n=_(i||{}).get,a=e?ia:ha;return"native"===e&&(e=""),i?t?a((ft[t]&&ft[t].get||n)(i,t,e,r)):function(t,e,r){return a((ft[t]&&ft[t].get||n)(i,t,e,r))}:i},quickSetter:function quickSetter(r,e,i){if(1<(r=Tt(r)).length){var n=r.map(function(t){return ae.quickSetter(t,e,i)}),a=n.length;return function(t){for(var e=a;e--;)n[e](t)}}r=r[0]||{};var s=ft[e],o=_(r),u=o.harness&&(o.harness.aliases||{})[e]||e,h=s?function(t){var e=new s;d._pt=0,e.init(r,i?t+i:t,d,0,[r]),e.render(1,e),d._pt&&Kt(1,d)}:o.set(r,u);return s?h:function(t){return h(r,u,i?t+i:t,o,1)}},isTweening:function isTweening(t){return 0<F.getTweensOf(t,!0).length},defaults:function defaults(t){return t&&t.ease&&(t.ease=Et(t.ease,B.ease)),ma(B,t||{})},config:function config(t){return ma(Y,t||{})},registerEffect:function registerEffect(t){var i=t.name,n=t.effect,e=t.plugins,a=t.defaults,r=t.extendTimeline;(e||"").split(",").forEach(function(t){return t&&!ft[t]&&!ot[t]&&O(i+" effect requires "+t+" plugin.")}),dt[i]=function(t,e,r){return n(Tt(t),ja(e||{},a),r)},r&&(Bt.prototype[i]=function(t,e,r){return this.add(dt[i](t,s(e)?e:(r=e)&&{},this),r)})},registerEase:function registerEase(t,e){St[t]=Et(e)},parseEase:function parseEase(t,e){return arguments.length?Et(t,e):St},getById:function getById(t){return F.getById(t)},exportRoot:function exportRoot(e,r){void 0===e&&(e={});var i,n,a=new Bt(e);for(a.smoothChildTiming=t(e.smoothChildTiming),F.remove(a),a._dp=0,a._time=a._tTime=F._time,i=F._first;i;)n=i._next,!r&&!i._dur&&i instanceof Gt&&i.vars.onComplete===i._targets[0]||Ca(a,i,i._start-i._delay),i=n;return Ca(F,a,0),a},utils:{wrap:function wrap(e,t,r){var i=t-e;return K(e)?ab(e,wrap(0,e.length),t):Ma(r,function(t){return(i+(t-e)%i)%i+e})},wrapYoyo:function wrapYoyo(e,t,r){var i=t-e,n=2*i;return K(e)?ab(e,wrapYoyo(0,e.length-1),t):Ma(r,function(t){return e+(i<(t=(n+(t-e)%n)%n||0)?n-t:t)})},distribute:Va,random:Ya,snap:Xa,normalize:function normalize(t,e,r){return wt(t,e,0,1,r)},getUnit:Oa,clamp:function clamp(e,r,t){return Ma(t,function(t){return yt(e,r,t)})},splitColor:ob,toArray:Tt,mapRange:wt,pipe:function pipe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t){return e.reduce(function(t,e){return e(t)},t)}},unitize:function unitize(e,r){return function(t){return e(parseFloat(t))+(r||Oa(t))}},interpolate:function interpolate(e,r,t,i){var n=isNaN(e+r)?0:function(t){return(1-t)*e+t*r};if(!n){var a,s,u,h,l,f=o(e),d={};if(!0===t&&(i=1)&&(t=null),f)e={p:e},r={p:r};else if(K(e)&&!K(r)){for(u=[],h=e.length,l=h-2,s=1;s<h;s++)u.push(interpolate(e[s-1],e[s]));h--,n=function func(t){t*=h;var e=Math.min(l,~~t);return u[e](t-e)},t=r}else i||(e=mt(K(e)?[]:{},e));if(!u){for(a in r)Yt.call(d,e,a,"get",r[a]);n=function func(t){return Kt(t,d)||(f?e.p:e)}}}return Ma(t,n)},shuffle:Ua},install:M,effects:dt,ticker:Pt,updateRoot:Bt.updateRoot,plugins:ft,globalTimeline:F,core:{PropTween:ie,globals:P,Tween:Gt,Timeline:Bt,Animation:Ft,getCache:_,_removeLinkedListItem:ra,suppressOverwrites:function suppressOverwrites(t){return L=t}}};ba("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return ne[t]=Gt[t]}),Pt.add(Bt.updateRoot),d=ne.to({},{duration:0});function lc(t,e){for(var r=t._pt;r&&r.p!==e&&r.op!==e&&r.fp!==e;)r=r._next;return r}function nc(t,n){return{name:t,rawVars:1,init:function init(t,i,e){e._onInit=function(t){var e,r;if(o(i)&&(e={},ba(i,function(t){return e[t]=1}),i=e),n){for(r in e={},i)e[r]=n(i[r]);i=e}!function _addModifiers(t,e){var r,i,n,a=t._targets;for(r in e)for(i=a.length;i--;)(n=(n=t._ptLookup[i][r])&&n.d)&&(n._pt&&(n=lc(n,r)),n&&n.modifier&&n.modifier(e[r],t,a[i],r))}(t,i)}}}}var ae=ne.registerPlugin({name:"attr",init:function init(t,e,r,i,n){var a,s;for(a in e)(s=this.add(t,"setAttribute",(t.getAttribute(a)||0)+"",e[a],i,n,0,0,a))&&(s.op=a),this._props.push(a)}},{name:"endArray",init:function init(t,e){for(var r=e.length;r--;)this.add(t,r,t[r]||0,e[r])}},nc("roundProps",Wa),nc("modifiers"),nc("snap",Xa))||ne;Gt.version=Bt.version=ae.version="3.6.0",l=1,u()&&At();function Yc(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)}function Zc(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)}function $c(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)}function _c(t,e){var r=e.s+e.c*t;e.set(e.t,e.p,~~(r+(r<0?-.5:.5))+e.u,e)}function ad(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)}function bd(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)}function cd(t,e,r){return t.style[e]=r}function dd(t,e,r){return t.style.setProperty(e,r)}function ed(t,e,r){return t._gsap[e]=r}function fd(t,e,r){return t._gsap.scaleX=t._gsap.scaleY=r}function gd(t,e,r,i,n){var a=t._gsap;a.scaleX=a.scaleY=r,a.renderTransform(n,a)}function hd(t,e,r,i,n){var a=t._gsap;a[e]=r,a.renderTransform(n,a)}function ld(t,e){var r=oe.createElementNS?oe.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):oe.createElement(t);return r.style?r:oe.createElement(t)}function md(t,e,r){var i=getComputedStyle(t);return i[e]||i.getPropertyValue(e.replace(Le,"-$1").toLowerCase())||i.getPropertyValue(e)||!r&&md(t,je(e)||e,1)||""}function pd(){(function _windowExists(){return"undefined"!=typeof window})()&&window.document&&(se=window,oe=se.document,ue=oe.documentElement,le=ld("div")||{style:{}},fe=ld("div"),Ye=je(Ye),Ne=Ye+"Origin",le.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",ce=!!je("perspective"),he=1)}function qd(t){var e,r=ld("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,n=this.nextSibling,a=this.style.cssText;if(ue.appendChild(r),r.appendChild(this),this.style.display="block",t)try{e=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=qd}catch(t){}else this._gsapBBox&&(e=this._gsapBBox());return i&&(n?i.insertBefore(this,n):i.appendChild(this)),ue.removeChild(r),this.style.cssText=a,e}function rd(t,e){for(var r=e.length;r--;)if(t.hasAttribute(e[r]))return t.getAttribute(e[r])}function sd(e){var r;try{r=e.getBBox()}catch(t){r=qd.call(e,!0)}return r&&(r.width||r.height)||e.getBBox===qd||(r=qd.call(e,!0)),!r||r.width||r.x||r.y?r:{x:+rd(e,["x","cx","x1"])||0,y:+rd(e,["y","cy","y1"])||0,width:0,height:0}}function td(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!sd(t))}function ud(t,e){if(e){var r=t.style;e in ze&&e!==Ne&&(e=Ye),r.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),r.removeProperty(e.replace(Le,"-$1").toLowerCase())):r.removeAttribute(e)}}function vd(t,e,r,i,n,a){var s=new ie(t._pt,e,r,0,1,a?bd:ad);return(t._pt=s).b=i,s.e=n,t._props.push(r),s}function xd(t,e,r,i){var n,a,s,o,u=parseFloat(r)||0,h=(r+"").trim().substr((u+"").length)||"px",l=le.style,f=Fe.test(e),d="svg"===t.tagName.toLowerCase(),c=(d?"client":"offset")+(f?"Width":"Height"),p="px"===i,m="%"===i;return i===h||!u||Xe[i]||Xe[h]?u:("px"===h||p||(u=xd(t,e,r,"px")),o=t.getCTM&&td(t),!m&&"%"!==h||!ze[e]&&!~e.indexOf("adius")?(l[f?"width":"height"]=100+(p?h:i),a=~e.indexOf("adius")||"em"===i&&t.appendChild&&!d?t:t.parentNode,o&&(a=(t.ownerSVGElement||{}).parentNode),a&&a!==oe&&a.appendChild||(a=oe.body),(s=a._gsap)&&m&&s.width&&f&&s.time===Pt.time?ca(u/s.width*100):(!m&&"%"!==h||(l.position=md(t,"position")),a===t&&(l.position="static"),a.appendChild(le),n=le[c],a.removeChild(le),l.position="absolute",f&&m&&((s=_(a)).time=Pt.time,s.width=a[c]),ca(p?n*u/100:n&&u?100/n*u:0))):(n=o?t.getBBox()[f?"width":"height"]:t[c],ca(m?u/n*100:u/100*n)))}function yd(t,e,r,i){var n;return he||pd(),e in qe&&"transform"!==e&&~(e=qe[e]).indexOf(",")&&(e=e.split(",")[0]),ze[e]&&"transform"!==e?(n=We(t,i),n="transformOrigin"!==e?n[e]:He(md(t,Ne))+" "+n.zOrigin+"px"):(n=t.style[e])&&"auto"!==n&&!i&&!~(n+"").indexOf("calc(")||(n=Ve[e]&&Ve[e](t,e,r)||md(t,e)||aa(t,e)||("opacity"===e?1:0)),r&&!~(n+"").trim().indexOf(" ")?xd(t,e,n,r)+r:n}function zd(t,e,r,i){if(!r||"none"===r){var n=je(e,t,1),a=n&&md(t,n,1);a&&a!==r?(e=n,r=a):"borderColor"===e&&(r=md(t,"borderTopColor"))}var s,o,u,h,l,f,d,c,p,_,m,g,v=new ie(this._pt,t.style,e,0,1,Zt),y=0,b=0;if(v.b=r,v.e=i,r+="","auto"===(i+="")&&(t.style[e]=i,i=md(t,e)||i,t.style[e]=r),tb(s=[r,i]),i=s[1],u=(r=s[0]).match(rt)||[],(i.match(rt)||[]).length){for(;o=rt.exec(i);)d=o[0],p=i.substring(y,o.index),l?l=(l+1)%5:"rgba("!==p.substr(-5)&&"hsla("!==p.substr(-5)||(l=1),d!==(f=u[b++]||"")&&(h=parseFloat(f)||0,m=f.substr((h+"").length),(g="="===d.charAt(1)?+(d.charAt(0)+"1"):0)&&(d=d.substr(2)),c=parseFloat(d),_=d.substr((c+"").length),y=rt.lastIndex-_.length,_||(_=_||Y.units[e]||m,y===i.length&&(i+=_,v.e+=_)),m!==_&&(h=xd(t,e,f,_)||0),v._pt={_next:v._pt,p:p||1===b?p:",",s:h,c:g?g*c:c-h,m:l&&l<4||"zIndex"===e?Math.round:0});v.c=y<i.length?i.substring(y,i.length):""}else v.r="display"===e&&"none"===i?bd:ad;return nt.test(i)&&(v.e=0),this._pt=v}function Bd(t){var e=t.split(" "),r=e[0],i=e[1]||"50%";return"top"!==r&&"bottom"!==r&&"left"!==i&&"right"!==i||(t=r,r=i,i=t),e[0]=Ge[r]||r,e[1]=Ge[i]||i,e.join(" ")}function Cd(t,e){if(e.tween&&e.tween._time===e.tween._dur){var r,i,n,a=e.t,s=a.style,o=e.u,u=a._gsap;if("all"===o||!0===o)s.cssText="",i=1;else for(n=(o=o.split(",")).length;-1<--n;)r=o[n],ze[r]&&(i=1,r="transformOrigin"===r?Ne:Ye),ud(a,r);i&&(ud(a,Ye),u&&(u.svg&&a.removeAttribute("transform"),We(a,1),u.uncache=1))}}function Gd(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t}function Hd(t){var e=md(t,Ye);return Gd(e)?Qe:e.substr(7).match(et).map(ca)}function Id(t,e){var r,i,n,a,s=t._gsap||_(t),o=t.style,u=Hd(t);return s.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(u=[(n=t.transform.baseVal.consolidate().matrix).a,n.b,n.c,n.d,n.e,n.f]).join(",")?Qe:u:(u!==Qe||t.offsetParent||t===ue||s.svg||(n=o.display,o.display="block",(r=t.parentNode)&&t.offsetParent||(a=1,i=t.nextSibling,ue.appendChild(t)),u=Hd(t),n?o.display=n:ud(t,"display"),a&&(i?r.insertBefore(t,i):r?r.appendChild(t):ue.removeChild(t))),e&&6<u.length?[u[0],u[1],u[4],u[5],u[12],u[13]]:u)}function Jd(t,e,r,i,n,a){var s,o,u,h=t._gsap,l=n||Id(t,!0),f=h.xOrigin||0,d=h.yOrigin||0,c=h.xOffset||0,p=h.yOffset||0,_=l[0],m=l[1],g=l[2],v=l[3],y=l[4],b=l[5],T=e.split(" "),w=parseFloat(T[0])||0,x=parseFloat(T[1])||0;r?l!==Qe&&(o=_*v-m*g)&&(u=w*(-m/o)+x*(_/o)-(_*b-m*y)/o,w=w*(v/o)+x*(-g/o)+(g*b-v*y)/o,x=u):(w=(s=sd(t)).x+(~T[0].indexOf("%")?w/100*s.width:w),x=s.y+(~(T[1]||T[0]).indexOf("%")?x/100*s.height:x)),i||!1!==i&&h.smooth?(y=w-f,b=x-d,h.xOffset=c+(y*_+b*g)-y,h.yOffset=p+(y*m+b*v)-b):h.xOffset=h.yOffset=0,h.xOrigin=w,h.yOrigin=x,h.smooth=!!i,h.origin=e,h.originIsAbsolute=!!r,t.style[Ne]="0px 0px",a&&(vd(a,h,"xOrigin",f,w),vd(a,h,"yOrigin",d,x),vd(a,h,"xOffset",c,h.xOffset),vd(a,h,"yOffset",p,h.yOffset)),t.setAttribute("data-svg-origin",w+" "+x)}function Md(t,e,r){var i=Oa(e);return ca(parseFloat(e)+parseFloat(xd(t,"x",r+"px",i)))+i}function Td(t,e,r,i,n,a){var s,u,h=360,l=o(n),f=parseFloat(n)*(l&&~n.indexOf("rad")?Ie:1),d=a?f*a:f-i,c=i+d+"deg";return l&&("short"===(s=n.split("_")[1])&&(d%=h)!==d%180&&(d+=d<0?h:-h),"cw"===s&&d<0?d=(d+36e9)%h-~~(d/h)*h:"ccw"===s&&0<d&&(d=(d-36e9)%h-~~(d/h)*h)),t._pt=u=new ie(t._pt,e,r,i,d,Zc),u.e=c,u.u="deg",t._props.push(r),u}function Ud(t,e,r){var i,n,a,s,o,u,h,l=fe.style,f=r._gsap;for(n in l.cssText=getComputedStyle(r).cssText+";position:absolute;display:block;",l[Ye]=e,oe.body.appendChild(fe),i=We(fe,1),ze)(a=f[n])!==(s=i[n])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(n)<0&&(o=Oa(a)!==(h=Oa(s))?xd(r,n,a,h):parseFloat(a),u=parseFloat(s),t._pt=new ie(t._pt,f,n,o,u-o,Yc),t._pt.u=h||0,t._props.push(n));oe.body.removeChild(fe)}var se,oe,ue,he,le,fe,de,ce,pe=St.Power0,_e=St.Power1,me=St.Power2,ge=St.Power3,ve=St.Power4,ye=St.Linear,be=St.Quad,Te=St.Cubic,we=St.Quart,xe=St.Quint,Oe=St.Strong,Me=St.Elastic,ke=St.Back,Ce=St.SteppedEase,Pe=St.Bounce,Ae=St.Sine,Se=St.Expo,De=St.Circ,ze={},Ie=180/Math.PI,Ee=Math.PI/180,Re=Math.atan2,Le=/([A-Z])/g,Fe=/(?:left|right|width|margin|padding|x)/i,Be=/[\s,\(]\S/,qe={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Ye="transform",Ne=Ye+"Origin",Ue="O,Moz,ms,Ms,Webkit".split(","),je=function _checkPropPrefix(t,e,r){var i=(e||le).style,n=5;if(t in i&&!r)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);n--&&!(Ue[n]+t in i););return n<0?null:(3===n?"ms":0<=n?Ue[n]:"")+t},Xe={deg:1,rad:1,turn:1},Ge={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Ve={clearProps:function clearProps(t,e,r,i,n){if("isFromStart"!==n.data){var a=t._pt=new ie(t._pt,e,r,0,0,Cd);return a.u=i,a.pr=-10,a.tween=n,t._props.push(r),1}}},Qe=[1,0,0,1,0,0],Je={},We=function _parseTransform(t,e){var r=t._gsap||new Lt(t);if("x"in r&&!e&&!r.uncache)return r;var i,n,a,s,o,u,h,l,f,d,c,p,_,m,g,v,y,b,T,w,x,O,M,k,C,P,A,S,D,z,I,E,R=t.style,L=r.scaleX<0,F="deg",B=md(t,Ne)||"0";return i=n=a=u=h=l=f=d=c=0,s=o=1,r.svg=!(!t.getCTM||!td(t)),m=Id(t,r.svg),r.svg&&(k=!r.uncache&&t.getAttribute("data-svg-origin"),Jd(t,k||B,!!k||r.originIsAbsolute,!1!==r.smooth,m)),p=r.xOrigin||0,_=r.yOrigin||0,m!==Qe&&(b=m[0],T=m[1],w=m[2],x=m[3],i=O=m[4],n=M=m[5],6===m.length?(s=Math.sqrt(b*b+T*T),o=Math.sqrt(x*x+w*w),u=b||T?Re(T,b)*Ie:0,(f=w||x?Re(w,x)*Ie+u:0)&&(o*=Math.cos(f*Ee)),r.svg&&(i-=p-(p*b+_*w),n-=_-(p*T+_*x))):(E=m[6],z=m[7],A=m[8],S=m[9],D=m[10],I=m[11],i=m[12],n=m[13],a=m[14],h=(g=Re(E,D))*Ie,g&&(k=O*(v=Math.cos(-g))+A*(y=Math.sin(-g)),C=M*v+S*y,P=E*v+D*y,A=O*-y+A*v,S=M*-y+S*v,D=E*-y+D*v,I=z*-y+I*v,O=k,M=C,E=P),l=(g=Re(-w,D))*Ie,g&&(v=Math.cos(-g),I=x*(y=Math.sin(-g))+I*v,b=k=b*v-A*y,T=C=T*v-S*y,w=P=w*v-D*y),u=(g=Re(T,b))*Ie,g&&(k=b*(v=Math.cos(g))+T*(y=Math.sin(g)),C=O*v+M*y,T=T*v-b*y,M=M*v-O*y,b=k,O=C),h&&359.9<Math.abs(h)+Math.abs(u)&&(h=u=0,l=180-l),s=ca(Math.sqrt(b*b+T*T+w*w)),o=ca(Math.sqrt(M*M+E*E)),g=Re(O,M),f=2e-4<Math.abs(g)?g*Ie:0,c=I?1/(I<0?-I:I):0),r.svg&&(k=t.getAttribute("transform"),r.forceCSS=t.setAttribute("transform","")||!Gd(md(t,Ye)),k&&t.setAttribute("transform",k))),90<Math.abs(f)&&Math.abs(f)<270&&(L?(s*=-1,f+=u<=0?180:-180,u+=u<=0?180:-180):(o*=-1,f+=f<=0?180:-180)),r.x=i-((r.xPercent=i&&(r.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-i)?-50:0)))?t.offsetWidth*r.xPercent/100:0)+"px",r.y=n-((r.yPercent=n&&(r.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-n)?-50:0)))?t.offsetHeight*r.yPercent/100:0)+"px",r.z=a+"px",r.scaleX=ca(s),r.scaleY=ca(o),r.rotation=ca(u)+F,r.rotationX=ca(h)+F,r.rotationY=ca(l)+F,r.skewX=f+F,r.skewY=d+F,r.transformPerspective=c+"px",(r.zOrigin=parseFloat(B.split(" ")[2])||0)&&(R[Ne]=He(B)),r.xOffset=r.yOffset=0,r.force3D=Y.force3D,r.renderTransform=r.svg?rr:ce?er:$e,r.uncache=0,r},He=function _firstTwoOnly(t){return(t=t.split(" "))[0]+" "+t[1]},$e=function _renderNon3DTransforms(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,er(t,e)},Ze="0deg",Ke="0px",tr=") ",er=function _renderCSSTransforms(t,e){var r=e||this,i=r.xPercent,n=r.yPercent,a=r.x,s=r.y,o=r.z,u=r.rotation,h=r.rotationY,l=r.rotationX,f=r.skewX,d=r.skewY,c=r.scaleX,p=r.scaleY,_=r.transformPerspective,m=r.force3D,g=r.target,v=r.zOrigin,y="",b="auto"===m&&t&&1!==t||!0===m;if(v&&(l!==Ze||h!==Ze)){var T,w=parseFloat(h)*Ee,x=Math.sin(w),O=Math.cos(w);w=parseFloat(l)*Ee,T=Math.cos(w),a=Md(g,a,x*T*-v),s=Md(g,s,-Math.sin(w)*-v),o=Md(g,o,O*T*-v+v)}_!==Ke&&(y+="perspective("+_+tr),(i||n)&&(y+="translate("+i+"%, "+n+"%) "),!b&&a===Ke&&s===Ke&&o===Ke||(y+=o!==Ke||b?"translate3d("+a+", "+s+", "+o+") ":"translate("+a+", "+s+tr),u!==Ze&&(y+="rotate("+u+tr),h!==Ze&&(y+="rotateY("+h+tr),l!==Ze&&(y+="rotateX("+l+tr),f===Ze&&d===Ze||(y+="skew("+f+", "+d+tr),1===c&&1===p||(y+="scale("+c+", "+p+tr),g.style[Ye]=y||"translate(0, 0)"},rr=function _renderSVGTransforms(t,e){var r,i,n,a,s,o=e||this,u=o.xPercent,h=o.yPercent,l=o.x,f=o.y,d=o.rotation,c=o.skewX,p=o.skewY,_=o.scaleX,m=o.scaleY,g=o.target,v=o.xOrigin,y=o.yOrigin,b=o.xOffset,T=o.yOffset,w=o.forceCSS,x=parseFloat(l),O=parseFloat(f);d=parseFloat(d),c=parseFloat(c),(p=parseFloat(p))&&(c+=p=parseFloat(p),d+=p),d||c?(d*=Ee,c*=Ee,r=Math.cos(d)*_,i=Math.sin(d)*_,n=Math.sin(d-c)*-m,a=Math.cos(d-c)*m,c&&(p*=Ee,s=Math.tan(c-p),n*=s=Math.sqrt(1+s*s),a*=s,p&&(s=Math.tan(p),r*=s=Math.sqrt(1+s*s),i*=s)),r=ca(r),i=ca(i),n=ca(n),a=ca(a)):(r=_,a=m,i=n=0),(x&&!~(l+"").indexOf("px")||O&&!~(f+"").indexOf("px"))&&(x=xd(g,"x",l,"px"),O=xd(g,"y",f,"px")),(v||y||b||T)&&(x=ca(x+v-(v*r+y*n)+b),O=ca(O+y-(v*i+y*a)+T)),(u||h)&&(s=g.getBBox(),x=ca(x+u/100*s.width),O=ca(O+h/100*s.height)),s="matrix("+r+","+i+","+n+","+a+","+x+","+O+")",g.setAttribute("transform",s),w&&(g.style[Ye]=s)};ba("padding,margin,Width,Radius",function(e,r){var t="Right",i="Bottom",n="Left",o=(r<3?["Top",t,i,n]:["Top"+n,"Top"+t,i+t,i+n]).map(function(t){return r<2?e+t:"border"+t+e});Ve[1<r?"border"+e:e]=function(e,t,r,i,n){var a,s;if(arguments.length<4)return a=o.map(function(t){return yd(e,t,r)}),5===(s=a.join(" ")).split(a[0]).length?a[0]:s;a=(i+"").split(" "),s={},o.forEach(function(t,e){return s[t]=a[e]=a[e]||a[(e-1)/2|0]}),e.init(t,s,n)}});var ir,nr,ar,sr={name:"css",register:pd,targetTest:function targetTest(t){return t.style&&t.nodeType},init:function init(t,e,r,i,n){var a,s,o,u,h,l,f,d,c,p,_,m,g,v,y,b=this._props,T=t.style,w=r.vars.startAt;for(f in he||pd(),e)if("autoRound"!==f&&(s=e[f],!ft[f]||!Qb(f,e,r,i,t,n)))if(h=typeof s,l=Ve[f],"function"===h&&(h=typeof(s=s.call(r,i,t,n))),"string"===h&&~s.indexOf("random(")&&(s=db(s)),l)l(this,t,f,s,r)&&(y=1);else if("--"===f.substr(0,2))a=(getComputedStyle(t).getPropertyValue(f)+"").trim(),s+="",d=Oa(a),(c=Oa(s))?d!==c&&(a=xd(t,f,a,c)+c):d&&(s+=d),this.add(T,"setProperty",a,s,i,n,0,0,f);else if("undefined"!==h){if(w&&f in w?(a="function"==typeof w[f]?w[f].call(r,i,t,n):w[f],f in Y.units&&!Oa(a)&&(a+=Y.units[f]),"="===(a+"").charAt(1)&&(a=yd(t,f))):a=yd(t,f),u=parseFloat(a),(p="string"===h&&"="===s.charAt(1)?+(s.charAt(0)+"1"):0)&&(s=s.substr(2)),o=parseFloat(s),f in qe&&("autoAlpha"===f&&(1===u&&"hidden"===yd(t,"visibility")&&o&&(u=0),vd(this,T,"visibility",u?"inherit":"hidden",o?"inherit":"hidden",!o)),"scale"!==f&&"transform"!==f&&~(f=qe[f]).indexOf(",")&&(f=f.split(",")[0])),_=f in ze)if(m||((g=t._gsap).renderTransform&&!e.parseTransform||We(t,e.parseTransform),v=!1!==e.smoothOrigin&&g.smooth,(m=this._pt=new ie(this._pt,T,Ye,0,1,g.renderTransform,g,0,-1)).dep=1),"scale"===f)this._pt=new ie(this._pt,g,"scaleY",g.scaleY,p?p*o:o-g.scaleY),b.push("scaleY",f),f+="X";else{if("transformOrigin"===f){s=Bd(s),g.svg?Jd(t,s,0,v,0,this):((c=parseFloat(s.split(" ")[2])||0)!==g.zOrigin&&vd(this,g,"zOrigin",g.zOrigin,c),vd(this,T,f,He(a),He(s)));continue}if("svgOrigin"===f){Jd(t,s,1,v,0,this);continue}if(f in Je){Td(this,g,f,u,s,p);continue}if("smoothOrigin"===f){vd(this,g,"smooth",g.smooth,s);continue}if("force3D"===f){g[f]=s;continue}if("transform"===f){Ud(this,s,t);continue}}else f in T||(f=je(f)||f);if(_||(o||0===o)&&(u||0===u)&&!Be.test(s)&&f in T)o=o||0,(d=(a+"").substr((u+"").length))!==(c=Oa(s)||(f in Y.units?Y.units[f]:d))&&(u=xd(t,f,a,c)),this._pt=new ie(this._pt,_?g:T,f,u,p?p*o:o-u,_||"px"!==c&&"zIndex"!==f||!1===e.autoRound?Yc:_c),this._pt.u=c||0,d!==c&&(this._pt.b=a,this._pt.r=$c);else if(f in T)zd.call(this,t,f,a,s);else{if(!(f in t)){N(f,s);continue}this.add(t,f,t[f],s,i,n)}b.push(f)}y&&re(this)},get:yd,aliases:qe,getSetter:function getSetter(t,e,i){var n=qe[e];return n&&n.indexOf(",")<0&&(e=n),e in ze&&e!==Ne&&(t._gsap.x||yd(t,"x"))?i&&de===i?"scale"===e?fd:ed:(de=i||{})&&("scale"===e?gd:hd):t.style&&!r(t.style[e])?cd:~e.indexOf("-")?dd:Wt(t,e)},core:{_removeProperty:ud,_getMatrix:Id}};ae.utils.checkPrefix=je,ar=ba((ir="x,y,z,scale,scaleX,scaleY,xPercent,yPercent")+","+(nr="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(t){ze[t]=1}),ba(nr,function(t){Y.units[t]="deg",Je[t]=1}),qe[ar[13]]=ir+","+nr,ba("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(t){var e=t.split(":");qe[e[1]]=ar[e[0]]}),ba("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){Y.units[t]="px"}),ae.registerPlugin(sr);var or=ae.registerPlugin(sr)||ae,ur=or.core.Tween;e.Back=ke,e.Bounce=Pe,e.CSSPlugin=sr,e.Circ=De,e.Cubic=Te,e.Elastic=Me,e.Expo=Se,e.Linear=ye,e.Power0=pe,e.Power1=_e,e.Power2=me,e.Power3=ge,e.Power4=ve,e.Quad=be,e.Quart=we,e.Quint=xe,e.Sine=Ae,e.SteppedEase=Ce,e.Strong=Oe,e.TimelineLite=Bt,e.TimelineMax=Bt,e.TweenLite=Gt,e.TweenMax=ur,e.default=or,e.gsap=or;if (typeof(window)==="undefined"||window!==e){Object.defineProperty(e,"__esModule",{value:!0})} else {delete e.default}});


/*!
 * Draggable 3.6.0
 * https://greensock.com
 * 
 * @license Copyright 2021, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).window=e.window||{})}(this,function(e){"use strict";function v(e,t){if(e.parentNode&&(h||M(e))){var n=k(e),o=n?n.getAttribute("xmlns")||"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",r=n?t?"rect":"g":"div",i=2!==t?0:100,a=3===t?100:0,l="position:absolute;display:block;pointer-events:none;margin:0;padding:0;",s=h.createElementNS?h.createElementNS(o.replace(/^https/,"http"),r):h.createElement(r);return t&&(n?(g=g||v(e),s.setAttribute("width",.01),s.setAttribute("height",.01),s.setAttribute("transform","translate("+i+","+a+")"),g.appendChild(s)):(f||((f=v(e)).style.cssText=l),s.style.cssText=l+"width:0.1px;height:0.1px;top:"+a+"px;left:"+i+"px",f.appendChild(s))),s}throw"Need document and parent."}function y(e,t,n,o,r,i,a){return e.a=t,e.b=n,e.c=o,e.d=r,e.e=i,e.f=a,e}var h,u,r,i,f,g,x,m,t,w="transform",b=w+"Origin",M=function _setDoc(e){var t=e.ownerDocument||e;!(w in e.style)&&"msTransform"in e.style&&(b=(w="msTransform")+"Origin");for(;t.parentNode&&(t=t.parentNode););if(u=window,x=new fe,t){r=(h=t).documentElement,i=t.body;var n=t.createElement("div"),o=t.createElement("div");i.appendChild(n),n.appendChild(o),n.style.position="static",n.style[w]="translate3d(0,0,1px)",m=o.offsetParent!==n,i.removeChild(n)}return t},D=function _forceNonZeroScale(e){for(var t,n;e&&e!==i;)(n=e._gsap)&&n.uncache&&n.get(e,"x"),n&&!n.scaleX&&!n.scaleY&&n.renderTransform&&(n.scaleX=n.scaleY=1e-4,n.renderTransform(1,n),t?t.push(n):t=[n]),e=e.parentNode;return t},E=[],S=[],L=function _getDocScrollTop(){return u.pageYOffset||h.scrollTop||r.scrollTop||i.scrollTop||0},C=function _getDocScrollLeft(){return u.pageXOffset||h.scrollLeft||r.scrollLeft||i.scrollLeft||0},k=function _svgOwner(e){return e.ownerSVGElement||("svg"===(e.tagName+"").toLowerCase()?e:null)},N=function _isFixed(e){return"fixed"===u.getComputedStyle(e).position||((e=e.parentNode)&&1===e.nodeType?_isFixed(e):void 0)},P=function _placeSiblings(e,t){var n,o,r,i,a,l,s=k(e),c=e===s,d=s?E:S,p=e.parentNode;if(e===u)return e;if(d.length||d.push(v(e,1),v(e,2),v(e,3)),n=s?g:f,s)r=c?{x:0,y:0}:e.getBBox(),a=(o=e.transform?e.transform.baseVal:{}).numberOfItems?(i=(o=1<o.numberOfItems?function _consolidate(e){for(var t=new fe,n=0;n<e.numberOfItems;n++)t.multiply(e.getItem(n).matrix);return t}(o):o.getItem(0).matrix).a*r.x+o.c*r.y,o.b*r.x+o.d*r.y):(o=x,i=r.x,r.y),t&&"g"===e.tagName.toLowerCase()&&(i=a=0),n.setAttribute("transform","matrix("+o.a+","+o.b+","+o.c+","+o.d+","+(o.e+i)+","+(o.f+a)+")"),(c?s:p).appendChild(n);else{if(i=a=0,m)for(o=e.offsetParent,r=e;(r=r&&r.parentNode)&&r!==o&&r.parentNode;)4<(u.getComputedStyle(r)[w]+"").length&&(i=r.offsetLeft,a=r.offsetTop,r=0);if("absolute"!==(l=u.getComputedStyle(e)).position)for(o=e.offsetParent;p!==o;)i+=p.scrollLeft||0,a+=p.scrollTop||0,p=p.parentNode;(r=n.style).top=e.offsetTop-a+"px",r.left=e.offsetLeft-i+"px",r[w]=l[w],r[b]=l[b],r.position="fixed"===l.position?"fixed":"absolute",e.parentNode.appendChild(n)}return n},fe=((t=Matrix2D.prototype).inverse=function inverse(){var e=this.a,t=this.b,n=this.c,o=this.d,r=this.e,i=this.f,a=e*o-t*n||1e-10;return y(this,o/a,-t/a,-n/a,e/a,(n*i-o*r)/a,-(e*i-t*r)/a)},t.multiply=function multiply(e){var t=this.a,n=this.b,o=this.c,r=this.d,i=this.e,a=this.f,l=e.a,s=e.c,c=e.b,d=e.d,p=e.e,u=e.f;return y(this,l*t+c*o,l*n+c*r,s*t+d*o,s*n+d*r,i+p*t+u*o,a+p*n+u*r)},t.clone=function clone(){return new Matrix2D(this.a,this.b,this.c,this.d,this.e,this.f)},t.equals=function equals(e){var t=this.a,n=this.b,o=this.c,r=this.d,i=this.e,a=this.f;return t===e.a&&n===e.b&&o===e.c&&r===e.d&&i===e.e&&a===e.f},t.apply=function apply(e,t){void 0===t&&(t={});var n=e.x,o=e.y,r=this.a,i=this.b,a=this.c,l=this.d,s=this.e,c=this.f;return t.x=n*r+o*a+s||0,t.y=n*i+o*l+c||0,t},Matrix2D);function Matrix2D(e,t,n,o,r,i){void 0===e&&(e=1),void 0===t&&(t=0),void 0===n&&(n=0),void 0===o&&(o=1),void 0===r&&(r=0),void 0===i&&(i=0),y(this,e,t,n,o,r,i)}function getGlobalMatrix(e,t,n,o){if(!e||!e.parentNode||(h||M(e)).documentElement===e)return new fe;var r=D(e),i=k(e)?E:S,a=P(e,n),l=i[0].getBoundingClientRect(),s=i[1].getBoundingClientRect(),c=i[2].getBoundingClientRect(),d=a.parentNode,p=!o&&N(e),u=new fe((s.left-l.left)/100,(s.top-l.top)/100,(c.left-l.left)/100,(c.top-l.top)/100,l.left+(p?0:C()),l.top+(p?0:L()));if(d.removeChild(a),r)for(l=r.length;l--;)(s=r[l]).scaleX=s.scaleY=0,s.renderTransform(1,s);return t?u.inverse():u}function T(){return"undefined"!=typeof window}function U(){return ge||T()&&(ge=window.gsap)&&ge.registerPlugin&&ge}function V(e){return"function"==typeof e}function W(e){return"object"==typeof e}function X(e){return void 0===e}function Y(){return!1}function _(e){return Math.round(1e4*e)/1e4}function ba(e,t){var n=ve.createElementNS?ve.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):ve.createElement(e);return n.style?n:ve.createElement(e)}function na(e,t){var n,o={};for(n in e)o[n]=t?e[n]*t:e[n];return o}function pa(e,t){for(var n,o=e.length;o--;)t?e[o].style.touchAction=t:e[o].style.removeProperty("touch-action"),(n=e[o].children)&&n.length&&pa(n,t)}function qa(){return Pe.forEach(function(e){return e()})}function sa(){return!Pe.length&&ge.ticker.remove(qa)}function ta(e){for(var t=Pe.length;t--;)Pe[t]===e&&Pe.splice(t,1);ge.to(sa,{overwrite:!0,delay:15,duration:0,onComplete:sa,data:"_draggable"})}function va(e,t,n,o){if(e.addEventListener){var r=Me[t];o=o||(p?{passive:!1}:null),e.addEventListener(r||t,n,o),r&&t!==r&&e.addEventListener(t,n,o)}}function wa(e,t,n){if(e.removeEventListener){var o=Me[t];e.removeEventListener(o||t,n),o&&t!==o&&e.removeEventListener(t,n)}}function xa(e){e.preventDefault&&e.preventDefault(),e.preventManipulation&&e.preventManipulation()}function za(e){De=e.touches&&Te<e.touches.length,wa(e.target,"touchend",za)}function Aa(e){De=e.touches&&Te<e.touches.length,va(e.target,"touchend",za)}function Ba(e){return xe.pageYOffset||e.scrollTop||e.documentElement.scrollTop||e.body.scrollTop||0}function Ca(e){return xe.pageXOffset||e.scrollLeft||e.documentElement.scrollLeft||e.body.scrollLeft||0}function Da(e,t){va(e,"scroll",t),He(e.parentNode)||Da(e.parentNode,t)}function Ea(e,t){wa(e,"scroll",t),He(e.parentNode)||Ea(e.parentNode,t)}function Ga(e,t){var n="x"===t?"Width":"Height",o="scroll"+n,r="client"+n;return Math.max(0,He(e)?Math.max(me[o],l[o])-(xe["inner"+n]||me[r]||l[r]):e[o]-e[r])}function Ha(e,t){var n=Ga(e,"x"),o=Ga(e,"y");He(e)?e=Ie:Ha(e.parentNode,t),e._gsMaxScrollX=n,e._gsMaxScrollY=o,t||(e._gsScrollX=e.scrollLeft||0,e._gsScrollY=e.scrollTop||0)}function Ia(e,t,n){var o=e.style;o&&(X(o[t])&&(t=d(t,e)||t),null==n?o.removeProperty&&o.removeProperty(t.replace(/([A-Z])/g,"-$1").toLowerCase()):o[t]=n)}function Ja(e){return xe.getComputedStyle(e instanceof Element?e:e.host||(e.parentNode||{}).host||e)}function La(e){if(e===xe)return A.left=A.top=0,A.width=A.right=me.clientWidth||e.innerWidth||l.clientWidth||0,A.height=A.bottom=(e.innerHeight||0)-20<me.clientHeight?me.clientHeight:e.innerHeight||l.clientHeight||0,A;var t=e.ownerDocument||ve,n=X(e.pageX)?e.nodeType||X(e.left)||X(e.top)?we(e)[0].getBoundingClientRect():e:{left:e.pageX-Ca(t),top:e.pageY-Ba(t),right:e.pageX-Ca(t)+1,bottom:e.pageY-Ba(t)+1};return X(n.right)&&!X(n.width)?(n.right=n.left+n.width,n.bottom=n.top+n.height):X(n.width)&&(n={width:n.right-n.left,height:n.bottom-n.top,right:n.right,left:n.left,bottom:n.bottom,top:n.top}),n}function Ma(e,t,n){var o,r=e.vars,i=r[n],a=e._listeners[t];return V(i)&&(o=i.apply(r.callbackScope||e,r[n+"Params"]||[e.pointerEvent])),a&&!1===e.dispatchEvent(t)&&(o=!1),o}function Na(e,t){var n,o,r,i=we(e)[0];return i.nodeType||i===xe?I(i,t):X(e.left)?{left:o=e.min||e.minX||e.minRotation||0,top:n=e.min||e.minY||0,width:(e.max||e.maxX||e.maxRotation||0)-o,height:(e.max||e.maxY||0)-n}:(r={x:0,y:0},{left:e.left-r.x,top:e.top-r.y,width:e.width,height:e.height})}function Qa(r,i,e,t,a,n){var o,l,s,c={};if(i)if(1!==a&&i instanceof Array){if(c.end=o=[],s=i.length,W(i[0]))for(l=0;l<s;l++)o[l]=na(i[l],a);else for(l=0;l<s;l++)o[l]=i[l]*a;e+=1.1,t-=1.1}else V(i)?c.end=function(e){var t,n,o=i.call(r,e);if(1!==a)if(W(o)){for(n in t={},o)t[n]=o[n]*a;o=t}else o*=a;return o}:c.end=i;return!e&&0!==e||(c.max=e),!t&&0!==t||(c.min=t),n&&(c.velocity=0),c}function Ra(e){var t;return!(!e||!e.getAttribute||e===l)&&(!("true"!==(t=e.getAttribute("data-clickable"))&&("false"===t||!e.onclick&&!o.test(e.nodeName+"")&&"true"!==e.getAttribute("contentEditable")))||Ra(e.parentNode))}function Sa(e,t){for(var n,o=e.length;o--;)(n=e[o]).ondragstart=n.onselectstart=t?null:Y,ge.set(n,{lazy:!0,userSelect:t?"text":"none"})}function Wa(i,r){i=ge.utils.toArray(i)[0],r=r||{};var a,l,s,e,c,d,p=document.createElement("div"),u=p.style,t=i.firstChild,h=0,f=0,g=i.scrollTop,x=i.scrollLeft,v=i.scrollWidth,m=i.scrollHeight,y=0,w=0,b=0;R&&!1!==r.force3D?(c="translate3d(",d="px,0px)"):O&&(c="translate(",d="px)"),this.scrollTop=function(e,t){if(!arguments.length)return-this.top();this.top(-e,t)},this.scrollLeft=function(e,t){if(!arguments.length)return-this.left();this.left(-e,t)},this.left=function(e,t){if(!arguments.length)return-(i.scrollLeft+f);var n=i.scrollLeft-x,o=f;if((2<n||n<-2)&&!t)return x=i.scrollLeft,ge.killTweensOf(this,{left:1,scrollLeft:1}),this.left(-x),void(r.onKill&&r.onKill());(e=-e)<0?(f=e-.5|0,e=0):w<e?(f=e-w|0,e=w):f=0,(f||o)&&(this._skip||(u[O]=c+-f+"px,"+-h+d),0<=f+y&&(u.paddingRight=f+y+"px")),i.scrollLeft=0|e,x=i.scrollLeft},this.top=function(e,t){if(!arguments.length)return-(i.scrollTop+h);var n=i.scrollTop-g,o=h;if((2<n||n<-2)&&!t)return g=i.scrollTop,ge.killTweensOf(this,{top:1,scrollTop:1}),this.top(-g),void(r.onKill&&r.onKill());(e=-e)<0?(h=e-.5|0,e=0):b<e?(h=e-b|0,e=b):h=0,(h||o)&&(this._skip||(u[O]=c+-f+"px,"+-h+d)),i.scrollTop=0|e,g=i.scrollTop},this.maxScrollTop=function(){return b},this.maxScrollLeft=function(){return w},this.disable=function(){for(t=p.firstChild;t;)e=t.nextSibling,i.appendChild(t),t=e;i===p.parentNode&&i.removeChild(p)},this.enable=function(){if((t=i.firstChild)!==p){for(;t;)e=t.nextSibling,p.appendChild(t),t=e;i.appendChild(p),this.calibrate()}},this.calibrate=function(e){var t,n,o,r=i.clientWidth===a;g=i.scrollTop,x=i.scrollLeft,r&&i.clientHeight===l&&p.offsetHeight===s&&v===i.scrollWidth&&m===i.scrollHeight&&!e||((h||f)&&(n=this.left(),o=this.top(),this.left(-i.scrollLeft),this.top(-i.scrollTop)),t=Ja(i),r&&!e||(u.display="block",u.width="auto",u.paddingRight="0px",(y=Math.max(0,i.scrollWidth-i.clientWidth))&&(y+=parseFloat(t.paddingLeft)+(B?parseFloat(t.paddingRight):0))),u.display="inline-block",u.position="relative",u.overflow="visible",u.verticalAlign="top",u.boxSizing="content-box",u.width="100%",u.paddingRight=y+"px",B&&(u.paddingBottom=t.paddingBottom),a=i.clientWidth,l=i.clientHeight,v=i.scrollWidth,m=i.scrollHeight,w=i.scrollWidth-a,b=i.scrollHeight-l,s=p.offsetHeight,u.display="block",(n||o)&&(this.left(n),this.top(o)))},this.content=p,this.element=i,this._skip=!1,this.enable()}function Xa(e){if(T()&&document.body){var t=window&&window.navigator;xe=window,ve=document,me=ve.documentElement,l=ve.body,s=ba("div"),Le=!!window.PointerEvent,(ye=ba("div")).style.cssText="visibility:hidden;height:1px;top:-1px;pointer-events:none;position:relative;clear:both;cursor:grab",Se="grab"===ye.style.cursor?"grab":"move",Ee=t&&-1!==t.userAgent.toLowerCase().indexOf("android"),be="ontouchstart"in me&&"orientation"in xe||t&&(0<t.MaxTouchPoints||0<t.msMaxTouchPoints),o=ba("div"),r=ba("div"),i=r.style,a=l,i.display="inline-block",i.position="relative",o.style.cssText=r.innerHTML="width:90px;height:40px;padding:10px;overflow:auto;visibility:hidden",o.appendChild(r),a.appendChild(o),n=r.offsetHeight+18>o.scrollHeight,a.removeChild(o),B=n,Me=function(e){for(var t=e.split(","),n=(("onpointerdown"in s?"pointerdown,pointermove,pointerup,pointercancel":"onmspointerdown"in s?"MSPointerDown,MSPointerMove,MSPointerUp,MSPointerCancel":e).split(",")),o={},r=4;-1<--r;)o[t[r]]=n[r],o[n[r]]=t[r];try{me.addEventListener("test",null,Object.defineProperty({},"passive",{get:function get(){p=1}}))}catch(e){}return o}("touchstart,touchmove,touchend,touchcancel"),va(ve,"touchcancel",Y),va(xe,"touchmove",Y),l&&l.addEventListener("touchstart",Y),va(ve,"contextmenu",function(){for(var e in Re)Re[e].isPressed&&Re[e].endDrag()}),ge=c=U()}var n,o,r,i,a;ge?(Xe=ge.plugins.inertia,d=ge.utils.checkPrefix,O=d(O),Ye=d(Ye),we=ge.utils.toArray,R=!!d("perspective")):e&&console.warn("Please gsap.registerPlugin(Draggable)")}var ge,xe,ve,me,l,s,ye,c,d,we,p,be,Me,Te,De,Ee,Xe,Se,Le,R,B,n,O="transform",Ye="transformOrigin",_e=Array.isArray,Ce=180/Math.PI,ke=1e20,a=new fe,Ne=Date.now||function(){return(new Date).getTime()},Pe=[],Re={},Be=0,o=/^(?:a|input|textarea|button|select)$/i,Oe=0,Ae={},Ie={},He=function _isRoot(e){return!(e&&e!==me&&9!==e.nodeType&&e!==ve.body&&e!==xe&&e.nodeType&&e.parentNode)},A={},Fe={},I=function _getElementBounds(e,t){t=we(t)[0];var n,o,r,i,a,l,s,c,d,p,u,h,f,g,x=e.getBBox&&e.ownerSVGElement,v=e.ownerDocument||ve;if(e===xe)r=Ba(v),o=(n=Ca(v))+(v.documentElement.clientWidth||e.innerWidth||v.body.clientWidth||0),i=r+((e.innerHeight||0)-20<v.documentElement.clientHeight?v.documentElement.clientHeight:e.innerHeight||v.body.clientHeight||0);else{if(t===xe||X(t))return e.getBoundingClientRect();n=r=0,x?(u=(p=e.getBBox()).width,h=p.height):(e.viewBox&&(p=e.viewBox.baseVal)&&(n=p.x||0,r=p.y||0,u=p.width,h=p.height),u||(p="border-box"===(f=Ja(e)).boxSizing,u=(parseFloat(f.width)||e.clientWidth||0)+(p?0:parseFloat(f.borderLeftWidth)+parseFloat(f.borderRightWidth)),h=(parseFloat(f.height)||e.clientHeight||0)+(p?0:parseFloat(f.borderTopWidth)+parseFloat(f.borderBottomWidth)))),o=u,i=h}return e===t?{left:n,top:r,width:o-n,height:i-r}:(l=(a=getGlobalMatrix(t,!0).multiply(getGlobalMatrix(e))).apply({x:n,y:r}),s=a.apply({x:o,y:r}),c=a.apply({x:o,y:i}),d=a.apply({x:n,y:i}),n=Math.min(l.x,s.x,c.x,d.x),r=Math.min(l.y,s.y,c.y,d.y),{left:n+((g=t.parentNode||{}).scrollLeft||0),top:r+(g.scrollTop||0),width:Math.max(l.x,s.x,c.x,d.x)-n,height:Math.max(l.y,s.y,c.y,d.y)-r})},H=((n=EventDispatcher.prototype).addEventListener=function addEventListener(e,t){var n=this._listeners[e]||(this._listeners[e]=[]);~n.indexOf(t)||n.push(t)},n.removeEventListener=function removeEventListener(e,t){var n=this._listeners[e],o=n&&n.indexOf(t)||-1;-1<o&&n.splice(o,1)},n.dispatchEvent=function dispatchEvent(t){var n,o=this;return(this._listeners[t]||[]).forEach(function(e){return!1===e.call(o,{type:t,target:o.target})&&(n=!1)}),n},EventDispatcher);function EventDispatcher(e){this._listeners={},this.target=e||this}var We,F=(function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}(Draggable,We=H),Draggable.register=function register(e){ge=e,Xa()},Draggable.create=function create(e,t){return c||Xa(!0),we(e).map(function(e){return new Draggable(e,t)})},Draggable.get=function get(e){return Re[(we(e)[0]||{})._gsDragID]},Draggable.timeSinceDrag=function timeSinceDrag(){return(Ne()-Oe)/1e3},Draggable.hitTest=function hitTest(e,t,n){if(e===t)return!1;var o,r,i,a=La(e),l=La(t),s=a.top,c=a.left,d=a.right,p=a.bottom,u=a.width,h=a.height,f=l.left>d||l.right<c||l.top>p||l.bottom<s;return f||!n?!f:(i=-1!==(n+"").indexOf("%"),n=parseFloat(n)||0,(o={left:Math.max(c,l.left),top:Math.max(s,l.top)}).width=Math.min(d,l.right)-o.left,o.height=Math.min(p,l.bottom)-o.top,!(o.width<0||o.height<0)&&(i?u*h*(n*=.01)<=(r=o.width*o.height)||r>=l.width*l.height*n:o.width>n&&o.height>n))},Draggable);function Draggable(h,p){var e;e=We.call(this)||this,ge||Xa(1),h=we(h)[0],Xe=Xe||ge.plugins.inertia,e.vars=p=na(p||{}),e.target=h,e.x=e.y=e.rotation=0,e.dragResistance=parseFloat(p.dragResistance)||0,e.edgeResistance=isNaN(p.edgeResistance)?1:parseFloat(p.edgeResistance)||0,e.lockAxis=p.lockAxis,e.autoScroll=p.autoScroll||0,e.lockedAxis=null,e.allowEventDefault=!!p.allowEventDefault,ge.getProperty(h,"x");function Jg(e,t){return parseFloat(le.get(h,e,t))}function oh(e){return xa(e),e.stopImmediatePropagation&&e.stopImmediatePropagation(),!1}function ph(e){if(Q.autoScroll&&Q.isDragging&&(ee||k)){var t,n,o,r,i,a,l,s,c=h,d=15*Q.autoScroll;for(ee=!1,Ie.scrollTop=null!=xe.pageYOffset?xe.pageYOffset:null!=ce.documentElement.scrollTop?ce.documentElement.scrollTop:ce.body.scrollTop,Ie.scrollLeft=null!=xe.pageXOffset?xe.pageXOffset:null!=ce.documentElement.scrollLeft?ce.documentElement.scrollLeft:ce.body.scrollLeft,r=Q.pointerX-Ie.scrollLeft,i=Q.pointerY-Ie.scrollTop;c&&!n;)t=(n=He(c.parentNode))?Ie:c.parentNode,o=n?{bottom:Math.max(me.clientHeight,xe.innerHeight||0),right:Math.max(me.clientWidth,xe.innerWidth||0),left:0,top:0}:t.getBoundingClientRect(),a=l=0,U&&((s=t._gsMaxScrollY-t.scrollTop)<0?l=s:i>o.bottom-oe&&s?(ee=!0,l=Math.min(s,d*(1-Math.max(0,o.bottom-i)/oe)|0)):i<o.top+te&&t.scrollTop&&(ee=!0,l=-Math.min(t.scrollTop,d*(1-Math.max(0,i-o.top)/te)|0)),l&&(t.scrollTop+=l)),K&&((s=t._gsMaxScrollX-t.scrollLeft)<0?a=s:r>o.right-ne&&s?(ee=!0,a=Math.min(s,d*(1-Math.max(0,o.right-r)/ne)|0)):r<o.left+re&&t.scrollLeft&&(ee=!0,a=-Math.min(t.scrollLeft,d*(1-Math.max(0,r-o.left)/re)|0)),a&&(t.scrollLeft+=a)),n&&(a||l)&&(xe.scrollTo(t.scrollLeft,t.scrollTop),ue(Q.pointerX+a,Q.pointerY+l)),c=t}if(k){var p=Q.x,u=Q.y;z?(Q.deltaX=p-parseFloat(le.rotation),Q.rotation=p,le.rotation=p+"deg",le.renderTransform(1,le)):f?(U&&(Q.deltaY=u-f.top(),f.top(u)),K&&(Q.deltaX=p-f.left(),f.left(p))):q?(U&&(Q.deltaY=u-parseFloat(le.y),le.y=u+"px"),K&&(Q.deltaX=p-parseFloat(le.x),le.x=p+"px"),le.renderTransform(1,le)):(U&&(Q.deltaY=u-parseFloat(h.style.top||0),h.style.top=u+"px"),K&&(Q.deltaY=p-parseFloat(h.style.left||0),h.style.left=p+"px")),!g||e||H||(!(H=!0)===Ma(Q,"drag","onDrag")&&(K&&(Q.x-=Q.deltaX),U&&(Q.y-=Q.deltaY),ph(!0)),H=!1)}k=!1}function qh(e,t){var n,o,r=Q.x,i=Q.y;h._gsap||(le=ge.core.getCache(h)),le.uncache&&ge.getProperty(h,"x"),q?(Q.x=parseFloat(le.x),Q.y=parseFloat(le.y)):z?Q.x=Q.rotation=parseFloat(le.rotation):f?(Q.y=f.top(),Q.x=f.left()):(Q.y=parseInt(h.style.top||(o=Ja(h))&&o.top,10)||0,Q.x=parseInt(h.style.left||(o||{}).left,10)||0),(N||P||R)&&!t&&(Q.isDragging||Q.isThrowing)&&(R&&(Ae.x=Q.x,Ae.y=Q.y,(n=R(Ae)).x!==Q.x&&(Q.x=n.x,k=!0),n.y!==Q.y&&(Q.y=n.y,k=!0)),N&&(n=N(Q.x))!==Q.x&&(Q.x=n,z&&(Q.rotation=n),k=!0),P&&((n=P(Q.y))!==Q.y&&(Q.y=n),k=!0)),k&&ph(!0),e||(Q.deltaX=Q.x-r,Q.deltaY=Q.y-i,Ma(Q,"throwupdate","onThrowUpdate"))}function rh(a,l,s,n){return null==l&&(l=-ke),null==s&&(s=ke),V(a)?function(e){var t=Q.isPressed?1-Q.edgeResistance:1;return a.call(Q,s<e?s+(e-s)*t:e<l?l+(e-l)*t:e)*n}:_e(a)?function(e){for(var t,n,o=a.length,r=0,i=ke;-1<--o;)(n=(t=a[o])-e)<0&&(n=-n),n<i&&l<=t&&t<=s&&(r=o,i=n);return a[r]}:isNaN(a)?function(e){return e}:function(){return a*n}}function th(){var e,t,n,o;D=!1,f?(f.calibrate(),Q.minX=S=-f.maxScrollLeft(),Q.minY=Y=-f.maxScrollTop(),Q.maxX=E=Q.maxY=L=0,D=!0):p.bounds&&(e=Na(p.bounds,h.parentNode),z?(Q.minX=S=e.left,Q.maxX=E=e.left+e.width,Q.minY=Y=Q.maxY=L=0):X(p.bounds.maxX)&&X(p.bounds.maxY)?(t=Na(h,h.parentNode),Q.minX=S=Math.round(Jg(d,"px")+e.left-t.left-.5),Q.minY=Y=Math.round(Jg(J,"px")+e.top-t.top-.5),Q.maxX=E=Math.round(S+(e.width-t.width)),Q.maxY=L=Math.round(Y+(e.height-t.height))):(e=p.bounds,Q.minX=S=e.minX,Q.minY=Y=e.minY,Q.maxX=E=e.maxX,Q.maxY=L=e.maxY),E<S&&(Q.minX=E,Q.maxX=E=S,S=Q.minX),L<Y&&(Q.minY=L,Q.maxY=L=Y,Y=Q.minY),z&&(Q.minRotation=S,Q.maxRotation=E),D=!0),p.liveSnap&&(n=!0===p.liveSnap?p.snap||{}:p.liveSnap,o=_e(n)||V(n),z?(N=rh(o?n:n.rotation,S,E,1),P=null):n.points?R=function buildPointSnapFunc(s,l,c,d,p,u,h){return u=u&&u<ke?u*u:ke,V(s)?function(e){var t,n,o,r=Q.isPressed?1-Q.edgeResistance:1,i=e.x,a=e.y;return e.x=i=c<i?c+(i-c)*r:i<l?l+(i-l)*r:i,e.y=a=p<a?p+(a-p)*r:a<d?d+(a-d)*r:a,(t=s.call(Q,e))!==e&&(e.x=t.x,e.y=t.y),1!==h&&(e.x*=h,e.y*=h),u<ke&&(n=e.x-i,o=e.y-a,u<n*n+o*o&&(e.x=i,e.y=a)),e}:_e(s)?function(e){for(var t,n,o,r,i=s.length,a=0,l=ke;-1<--i;)(r=(t=(o=s[i]).x-e.x)*t+(n=o.y-e.y)*n)<l&&(a=i,l=r);return l<=u?s[a]:e}:function(e){return e}}(o?n:n.points,S,E,Y,L,n.radius,f?-1:1):(K&&(N=rh(o?n:n.x||n.left||n.scrollLeft,S,E,f?-1:1)),U&&(P=rh(o?n:n.y||n.top||n.scrollTop,Y,L,f?-1:1))))}function uh(){Q.isThrowing=!1,Ma(Q,"throwcomplete","onThrowComplete")}function vh(){Q.isThrowing=!1}function wh(e,t){var n,o,r,i;e&&Xe?(!0===e&&(n=p.snap||p.liveSnap||{},o=_e(n)||V(n),e={resistance:(p.throwResistance||p.resistance||1e3)/(z?10:1)},z?e.rotation=Qa(Q,o?n:n.rotation,E,S,1,t):(K&&(e[d]=Qa(Q,o?n:n.points||n.x||n.left,E,S,f?-1:1,t||"x"===Q.lockedAxis)),U&&(e[J]=Qa(Q,o?n:n.points||n.y||n.top,L,Y,f?-1:1,t||"y"===Q.lockedAxis)),(n.points||_e(n)&&W(n[0]))&&(e.linkedProps=d+","+J,e.radius=n.radius))),Q.isThrowing=!0,i=isNaN(p.overshootTolerance)?1===p.edgeResistance?0:1-Q.edgeResistance+.2:p.overshootTolerance,e.duration||(e.duration={max:Math.max(p.minDuration||0,"maxDuration"in p?p.maxDuration:2),min:isNaN(p.minDuration)?0===i||W(e)&&1e3<e.resistance?0:.5:p.minDuration,overshoot:i}),Q.tween=r=ge.to(f||h,{inertia:e,data:"_draggable",onComplete:uh,onInterrupt:vh,onUpdate:p.fastMode?Ma:qh,onUpdateParams:p.fastMode?[Q,"onthrowupdate","onThrowUpdate"]:n&&n.radius?[!1,!0]:[]}),p.fastMode||(f&&(f._skip=!0),r.render(1e9,!0,!0),qh(!0,!0),Q.endX=Q.x,Q.endY=Q.y,z&&(Q.endRotation=Q.x),r.play(0),qh(!0,!0),f&&(f._skip=!1))):D&&Q.applyBounds()}function xh(e){var t,n=B;B=getGlobalMatrix(h.parentNode,!0),e&&Q.isPressed&&!B.equals(n||new fe)&&(t=n.inverse().apply({x:w,y:b}),B.apply(t,t),w=t.x,b=t.y),B.equals(a)&&(B=null)}function yh(){var e,t,n,o=1-Q.edgeResistance,r=se?Ca(ce):0,i=se?Ba(ce):0;xh(!1),Fe.x=Q.pointerX-r,Fe.y=Q.pointerY-i,B&&B.apply(Fe,Fe),w=Fe.x,b=Fe.y,k&&(ue(Q.pointerX,Q.pointerY),ph(!0)),f?(th(),T=f.top(),M=f.left()):(de()?(qh(!0,!0),th()):Q.applyBounds(),z?(e=h.ownerSVGElement?[le.xOrigin-h.getBBox().x,le.yOrigin-h.getBBox().y]:(Ja(h)[Ye]||"0 0").split(" "),C=Q.rotationOrigin=getGlobalMatrix(h).apply({x:parseFloat(e[0])||0,y:parseFloat(e[1])||0}),qh(!0,!0),t=Q.pointerX-C.x-r,n=C.y-Q.pointerY+i,M=Q.x,T=Q.y=Math.atan2(n,t)*Ce):(T=Jg(J,"px"),M=Jg(d,"px"))),D&&o&&(E<M?M=E+(M-E)/o:M<S&&(M=S-(S-M)/o),z||(L<T?T=L+(T-L)/o:T<Y&&(T=Y-(Y-T)/o))),Q.startX=M,Q.startY=T}function Ah(){!ye.parentNode||de()||Q.isDragging||ye.parentNode.removeChild(ye)}function Bh(e,t){var n;if(!u||Q.isPressed||!e||!("mousedown"!==e.type&&"pointerdown"!==e.type||t)&&Ne()-ae<30&&Me[Q.pointerEvent.type])G&&e&&u&&xa(e);else{if(O=de(),Q.pointerEvent=e,Me[e.type]?(y=~e.type.indexOf("touch")?e.currentTarget||e.target:ce,va(y,"touchend",he),va(y,"touchmove",pe),va(y,"touchcancel",he),va(ce,"touchstart",Aa)):(y=null,va(ce,"mousemove",pe)),I=null,Le&&y||(va(ce,"mouseup",he),e&&e.target&&va(e.target,"mouseup",he)),m=ie.call(Q,e.target)&&!1===p.dragClickables&&!t)return va(e.target,"change",he),Ma(Q,"pressInit","onPressInit"),Ma(Q,"press","onPress"),Sa(Z,!0),void(G=!1);if(A=!(!y||K==U||!1===Q.vars.allowNativeTouchScrolling||Q.vars.allowContextMenu&&e&&(e.ctrlKey||2<e.which))&&(K?"y":"x"),(G=!A&&!Q.allowEventDefault)&&(xa(e),va(xe,"touchforcechange",xa)),e.changedTouches?(e=x=e.changedTouches[0],v=e.identifier):e.pointerId?v=e.pointerId:x=v=null,Te++,function _addToRenderQueue(e){Pe.push(e),1===Pe.length&&ge.ticker.add(qa)}(ph),b=Q.pointerY=e.pageY,w=Q.pointerX=e.pageX,Ma(Q,"pressInit","onPressInit"),(A||Q.autoScroll)&&Ha(h.parentNode),!h.parentNode||!Q.autoScroll||f||z||!h.parentNode._gsMaxScrollX||ye.parentNode||h.getBBox||(ye.style.width=h.parentNode.scrollWidth+"px",h.parentNode.appendChild(ye)),yh(),Q.tween&&Q.tween.kill(),Q.isThrowing=!1,ge.killTweensOf(f||h,o,!0),f&&ge.killTweensOf(h,{scrollTo:1},!0),Q.tween=Q.lockedAxis=null,!p.zIndexBoost&&(z||f||!1===p.zIndexBoost)||(h.style.zIndex=Draggable.zIndex++),Q.isPressed=!0,g=!(!p.onDrag&&!Q._listeners.drag),s=!(!p.onMove&&!Q._listeners.move),!z&&(!1!==p.cursor||p.activeCursor))for(n=Z.length;-1<--n;)ge.set(Z[n],{cursor:p.activeCursor||p.cursor||("grab"===Se?"grabbing":Se)});Ma(Q,"press","onPress")}}function Fh(e){if(e&&Q.isDragging&&!f){var t=e.target||h.parentNode,n=t.scrollLeft-t._gsScrollX,o=t.scrollTop-t._gsScrollY;(n||o)&&(B?(w-=n*B.a+o*B.c,b-=o*B.d+n*B.b):(w-=n,b-=o),t._gsScrollX+=n,t._gsScrollY+=o,ue(Q.pointerX,Q.pointerY))}}function Gh(e){var t=Ne(),n=t-ae<40,o=t-$<40,r=n&&F===ae,i=Q.pointerEvent&&Q.pointerEvent.defaultPrevented,a=n&&c===ae,l=e.isTrusted||null==e.isTrusted&&n&&r;if((r||o&&!1!==Q.vars.suppressClickOnDrag)&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),n&&(!Q.pointerEvent||!Q.pointerEvent.defaultPrevented)&&(!r||l&&!a))return l&&r&&(c=ae),void(F=ae);(Q.isPressed||o||n)&&(l&&e.detail&&n&&!i||xa(e)),n||o||(e&&e.target&&(Q.pointerEvent=e),Ma(Q,"click","onClick"))}function Hh(e){return B?{x:e.x*B.a+e.y*B.c+B.e,y:e.x*B.b+e.y*B.d+B.f}:{x:e.x,y:e.y}}var u,f,w,b,M,T,D,g,s,E,S,L,Y,x,v,C,k,t,N,P,R,m,y,B,O,A,I,H,F,c,G,n=(p.type||"x,y").toLowerCase(),q=~n.indexOf("x")||~n.indexOf("y"),z=-1!==n.indexOf("rotation"),d=z?"rotation":q?"x":"left",J=q?"y":"top",K=!(!~n.indexOf("x")&&!~n.indexOf("left")&&"scroll"!==n),U=!(!~n.indexOf("y")&&!~n.indexOf("top")&&"scroll"!==n),j=p.minimumMovement||2,Q=function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e),Z=we(p.trigger||p.handle||h),o={},$=0,ee=!1,te=p.autoScrollMarginTop||40,ne=p.autoScrollMarginRight||40,oe=p.autoScrollMarginBottom||40,re=p.autoScrollMarginLeft||40,ie=p.clickableTest||Ra,ae=0,le=h._gsap||ge.core.getCache(h),se=function _isFixed(e){return"fixed"===Ja(e).position||((e=e.parentNode)&&1===e.nodeType?_isFixed(e):void 0)}(h),ce=h.ownerDocument||ve,de=function isTweening(){return Q.tween&&Q.tween.isActive()},pe=function onMove(e){var t,n,o,r,i,a,l=e;if(u&&!De&&Q.isPressed&&e){if(t=(Q.pointerEvent=e).changedTouches){if((e=t[0])!==x&&e.identifier!==v){for(r=t.length;-1<--r&&(e=t[r]).identifier!==v&&e.target!==h;);if(r<0)return}}else if(e.pointerId&&v&&e.pointerId!==v)return;y&&A&&!I&&(Fe.x=e.pageX,Fe.y=e.pageY,B&&B.apply(Fe,Fe),n=Fe.x,o=Fe.y,((i=Math.abs(n-w))!==(a=Math.abs(o-b))&&(j<i||j<a)||Ee&&A===I)&&(I=a<i&&K?"x":"y",A&&I!==A&&va(xe,"touchforcechange",xa),!1!==Q.vars.lockAxisOnTouchScroll&&K&&U&&(Q.lockedAxis="x"===I?"y":"x",V(Q.vars.onLockAxis)&&Q.vars.onLockAxis.call(Q,l)),Ee&&A===I))?he(l):(G=Q.allowEventDefault||A&&(!I||A===I)||!1===l.cancelable?G&&!1:(xa(l),!0),Q.autoScroll&&(ee=!0),ue(e.pageX,e.pageY,s))}else G&&e&&u&&xa(e)},ue=function setPointerPosition(e,t,n){var o,r,i,a,l,s,c=1-Q.dragResistance,d=1-Q.edgeResistance,p=Q.pointerX,u=Q.pointerY,h=T,f=Q.x,g=Q.y,x=Q.endX,v=Q.endY,m=Q.endRotation,y=k;Q.pointerX=e,Q.pointerY=t,se&&(e-=Ca(ce),t-=Ba(ce)),z?(a=Math.atan2(C.y-t,e-C.x)*Ce,180<(l=Q.y-a)?(T-=360,Q.y=a):l<-180&&(T+=360,Q.y=a),i=Q.x!==M||Math.abs(T-a)>j?(Q.y=a,M+(T-a)*c):M):(B&&(s=e*B.a+t*B.c+B.e,t=e*B.b+t*B.d+B.f,e=s),(r=t-b)<j&&-j<r&&(r=0),(o=e-w)<j&&-j<o&&(o=0),(Q.lockAxis||Q.lockedAxis)&&(o||r)&&((s=Q.lockedAxis)||(Q.lockedAxis=s=K&&Math.abs(o)>Math.abs(r)?"y":U?"x":null,s&&V(Q.vars.onLockAxis)&&Q.vars.onLockAxis.call(Q,Q.pointerEvent)),"y"===s?r=0:"x"===s&&(o=0)),i=_(M+o*c),a=_(T+r*c)),(N||P||R)&&(Q.x!==i||Q.y!==a&&!z)?(R&&(Ae.x=i,Ae.y=a,s=R(Ae),i=_(s.x),a=_(s.y)),N&&(i=_(N(i))),P&&(a=_(P(a)))):D&&(E<i?i=E+Math.round((i-E)*d):i<S&&(i=S+Math.round((i-S)*d)),z||(L<a?a=Math.round(L+(a-L)*d):a<Y&&(a=Math.round(Y+(a-Y)*d)))),Q.x===i&&(Q.y===a||z)||(z?(Q.endRotation=Q.x=Q.endX=i,k=!0):(U&&(Q.y=Q.endY=a,k=!0),K&&(Q.x=Q.endX=i,k=!0)),n&&!1===Ma(Q,"move","onMove")?(Q.pointerX=p,Q.pointerY=u,T=h,Q.x=f,Q.y=g,Q.endX=x,Q.endY=v,Q.endRotation=m,k=y):!Q.isDragging&&Q.isPressed&&(Q.isDragging=!0,Ma(Q,"dragstart","onDragStart")))},he=function onRelease(e,t){if(u&&Q.isPressed&&(!e||null==v||t||!(e.pointerId&&e.pointerId!==v&&e.target!==h||e.changedTouches&&!function _hasTouchID(e,t){for(var n=e.length;n--;)if(e[n].identifier===t)return!0}(e.changedTouches,v)))){Q.isPressed=!1;var n,o,r,i,a,l=e,s=Q.isDragging,c=Q.vars.allowContextMenu&&e&&(e.ctrlKey||2<e.which),d=ge.delayedCall(.001,Ah);if(y?(wa(y,"touchend",onRelease),wa(y,"touchmove",pe),wa(y,"touchcancel",onRelease),wa(ce,"touchstart",Aa)):wa(ce,"mousemove",pe),wa(xe,"touchforcechange",xa),Le&&y||(wa(ce,"mouseup",onRelease),e&&e.target&&wa(e.target,"mouseup",onRelease)),k=!1,m&&!c)return e&&(wa(e.target,"change",onRelease),Q.pointerEvent=l),Sa(Z,!1),Ma(Q,"release","onRelease"),Ma(Q,"click","onClick"),void(m=!1);if(ta(ph),!z)for(o=Z.length;-1<--o;)Ia(Z[o],"cursor",p.cursor||(!1!==p.cursor?Se:null));if(s&&($=Oe=Ne(),Q.isDragging=!1),Te--,e){if((n=e.changedTouches)&&(e=n[0])!==x&&e.identifier!==v){for(o=n.length;-1<--o&&(e=n[o]).identifier!==v&&e.target!==h;);if(o<0)return}Q.pointerEvent=l,Q.pointerX=e.pageX,Q.pointerY=e.pageY}return c&&l?(xa(l),G=!0,Ma(Q,"release","onRelease")):l&&!s?(G=!1,O&&(p.snap||p.bounds)&&wh(p.inertia||p.throwProps),Ma(Q,"release","onRelease"),Ee&&"touchmove"===l.type||-1!==l.type.indexOf("cancel")||(Ma(Q,"click","onClick"),Ne()-ae<300&&Ma(Q,"doubleclick","onDoubleClick"),i=l.target||h,ae=Ne(),a=function syntheticClick(){ae===F||!Q.enabled()||Q.isPressed||l.defaultPrevented||(i.click?i.click():ce.createEvent&&((r=ce.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,xe,1,Q.pointerEvent.screenX,Q.pointerEvent.screenY,Q.pointerX,Q.pointerY,!1,!1,!1,!1,0,null),i.dispatchEvent(r)))},Ee||l.defaultPrevented||ge.delayedCall(.05,a))):(wh(p.inertia||p.throwProps),Q.allowEventDefault||!l||!1===p.dragClickables&&ie.call(Q,l.target)||!s||A&&(!I||A!==I)||!1===l.cancelable?G=!1:(G=!0,xa(l)),Ma(Q,"release","onRelease")),de()&&d.duration(Q.tween.duration()),s&&Ma(Q,"dragend","onDragEnd"),!0}G&&e&&u&&xa(e)};return(t=Draggable.get(h))&&t.kill(),e.startDrag=function(e,t){var n,o,r,i;Bh(e||Q.pointerEvent,!0),t&&!Q.hitTest(e||Q.pointerEvent)&&(n=La(e||Q.pointerEvent),o=La(h),r=Hh({x:n.left+n.width/2,y:n.top+n.height/2}),i=Hh({x:o.left+o.width/2,y:o.top+o.height/2}),w-=r.x-i.x,b-=r.y-i.y),Q.isDragging||(Q.isDragging=!0,Ma(Q,"dragstart","onDragStart"))},e.drag=pe,e.endDrag=function(e){return he(e||Q.pointerEvent,!0)},e.timeSinceDrag=function(){return Q.isDragging?0:(Ne()-$)/1e3},e.timeSinceClick=function(){return(Ne()-ae)/1e3},e.hitTest=function(e,t){return Draggable.hitTest(Q.target,e,t)},e.getDirection=function(e,t){var n,o,r,i,a,l,s="velocity"===e&&Xe?e:W(e)&&!z?"element":"start";return"element"===s&&(a=La(Q.target),l=La(e)),n="start"===s?Q.x-M:"velocity"===s?Xe.getVelocity(h,d):a.left+a.width/2-(l.left+l.width/2),z?n<0?"counter-clockwise":"clockwise":(t=t||2,o="start"===s?Q.y-T:"velocity"===s?Xe.getVelocity(h,J):a.top+a.height/2-(l.top+l.height/2),i=(r=Math.abs(n/o))<1/t?"":n<0?"left":"right",r<t&&(""!==i&&(i+="-"),i+=o<0?"up":"down"),i)},e.applyBounds=function(e,t){var n,o,r,i,a,l;if(e&&p.bounds!==e)return p.bounds=e,Q.update(!0,t);if(qh(!0),th(),D&&!de()){if(n=Q.x,o=Q.y,E<n?n=E:n<S&&(n=S),L<o?o=L:o<Y&&(o=Y),(Q.x!==n||Q.y!==o)&&(r=!0,Q.x=Q.endX=n,z?Q.endRotation=n:Q.y=Q.endY=o,ph(k=!0),Q.autoScroll&&!Q.isDragging))for(Ha(h.parentNode),i=h,Ie.scrollTop=null!=xe.pageYOffset?xe.pageYOffset:null!=ce.documentElement.scrollTop?ce.documentElement.scrollTop:ce.body.scrollTop,Ie.scrollLeft=null!=xe.pageXOffset?xe.pageXOffset:null!=ce.documentElement.scrollLeft?ce.documentElement.scrollLeft:ce.body.scrollLeft;i&&!l;)a=(l=He(i.parentNode))?Ie:i.parentNode,U&&a.scrollTop>a._gsMaxScrollY&&(a.scrollTop=a._gsMaxScrollY),K&&a.scrollLeft>a._gsMaxScrollX&&(a.scrollLeft=a._gsMaxScrollX),i=a;Q.isThrowing&&(r||Q.endX>E||Q.endX<S||Q.endY>L||Q.endY<Y)&&wh(p.inertia||p.throwProps,r)}return Q},e.update=function(e,t,n){var o=Q.x,r=Q.y;return xh(!t),e?Q.applyBounds():(k&&n&&ph(!0),qh(!0)),t&&(ue(Q.pointerX,Q.pointerY),k&&ph(!0)),Q.isPressed&&!t&&(K&&.01<Math.abs(o-Q.x)||U&&.01<Math.abs(r-Q.y)&&!z)&&yh(),Q.autoScroll&&(Ha(h.parentNode,Q.isDragging),ee=Q.isDragging,ph(!0),Ea(h,Fh),Da(h,Fh)),Q},e.enable=function(e){var t,n,o,r={lazy:!0};if(z||!1===p.cursor||(r.cursor=p.cursor||Se),ge.utils.checkPrefix("touchCallout")&&(r.touchCallout="none"),"soft"!==e){for(pa(Z,K==U?"none":p.allowNativeTouchScrolling&&h.scrollHeight===h.clientHeight==(h.scrollWidth===h.clientHeight)||p.allowEventDefault?"manipulation":K?"pan-y":"pan-x"),n=Z.length;-1<--n;)o=Z[n],Le||va(o,"mousedown",Bh),va(o,"touchstart",Bh),va(o,"click",Gh,!0),ge.set(o,r),o.getBBox&&o.ownerSVGElement&&ge.set(o.ownerSVGElement,{touchAction:K==U?"none":p.allowNativeTouchScrolling||p.allowEventDefault?"manipulation":K?"pan-y":"pan-x"}),p.allowContextMenu||va(o,"contextmenu",oh);Sa(Z,!1)}return Da(h,Fh),u=!0,Xe&&"soft"!==e&&Xe.track(f||h,q?"x,y":z?"rotation":"top,left"),h._gsDragID=t="d"+Be++,Re[t]=Q,f&&(f.enable(),f.element._gsDragID=t),(p.bounds||z)&&yh(),p.bounds&&Q.applyBounds(),Q},e.disable=function(e){var t,n,o=Q.isDragging;if(!z)for(t=Z.length;-1<--t;)Ia(Z[t],"cursor",null);if("soft"!==e){for(pa(Z,null),t=Z.length;-1<--t;)n=Z[t],Ia(n,"touchCallout",null),wa(n,"mousedown",Bh),wa(n,"touchstart",Bh),wa(n,"click",Gh),wa(n,"contextmenu",oh);Sa(Z,!0),y&&(wa(y,"touchcancel",he),wa(y,"touchend",he),wa(y,"touchmove",pe)),wa(ce,"mouseup",he),wa(ce,"mousemove",pe)}return Ea(h,Fh),u=!1,Xe&&"soft"!==e&&Xe.untrack(f||h,q?"x,y":z?"rotation":"top,left"),f&&f.disable(),ta(ph),Q.isDragging=Q.isPressed=m=!1,o&&Ma(Q,"dragend","onDragEnd"),Q},e.enabled=function(e,t){return arguments.length?e?Q.enable(t):Q.disable(t):u},e.kill=function(){return Q.isThrowing=!1,Q.tween&&Q.tween.kill(),Q.disable(),ge.set(Z,{clearProps:"userSelect"}),delete Re[h._gsDragID],Q},~n.indexOf("scroll")&&(f=e.scrollProxy=new Wa(h,function _extend(e,t){for(var n in t)n in e||(e[n]=t[n]);return e}({onKill:function onKill(){Q.isPressed&&he(null)}},p)),h.style.overflowY=U&&!be?"auto":"hidden",h.style.overflowX=K&&!be?"auto":"hidden",h=f.content),z?o.rotation=1:(K&&(o[d]=1),U&&(o[J]=1)),le.force3D=!("force3D"in p)||p.force3D,e.enable(),e}!function _setDefaults(e,t){for(var n in t)n in e||(e[n]=t[n])}(F.prototype,{pointerX:0,pointerY:0,startX:0,startY:0,deltaX:0,deltaY:0,isDragging:!1,isPressed:!1}),F.zIndex=1e3,F.version="3.6.0",U()&&ge.registerPlugin(F),e.Draggable=F,e.default=F;if (typeof(window)==="undefined"||window!==e){Object.defineProperty(e,"__esModule",{value:!0})} else {delete e.default}});


/*!
 * InertiaPlugin 3.6.0
 * https://greensock.com
 * 
 * @license Copyright 2021, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).window=t.window||{})}(this,function(e){"use strict";function m(){return i||"undefined"!=typeof window&&(i=window.gsap)}function p(t){return c(t).id}function q(t){return f[p("string"==typeof t?g(t)[0]:t)]}function r(t){var e,r=o;if(.05<=t-s)for(s=t;r;)((e=r.g(r.t,r.p))!==r.v1||.2<t-r.t1)&&(r.v2=r.v1,r.v1=e,r.t2=r.t1,r.t1=t),r=r._next}function t(){(i=m())&&(g=i.utils.toArray,n=i.utils.getUnit,c=i.core.getCache,a=i.ticker,l=1)}function u(t,e,r,i){this.t=t,this.p=e,this.g=t._gsap.get,this.rCap=d[r||n(this.g(t,e))],this.v1=this.v2=0,this.t1=this.t2=a.time,i&&((this._next=i)._prev=this)}var i,l,g,n,o,a,s,c,f={},d={deg:360,rad:2*Math.PI},v=function(){function VelocityTracker(e,r){l||t(),this.target=g(e)[0],(f[p(this.target)]=this)._props={},r&&this.add(r)}VelocityTracker.register=function register(e){i=e,t()};var e=VelocityTracker.prototype;return e.get=function get(t,e){var r,i,n=this._props[t]||console.warn("Not tracking "+t+" velocity.");return r=parseFloat(e?n.v1:n.g(n.t,n.p))-parseFloat(n.v2),(i=n.rCap)&&(r%=i)!==r%(i/2)&&(r=r<0?r+i:r-i),function _round(t){return Math.round(1e4*t)/1e4}(r/((e?n.t1:a.time)-n.t2))},e.getAll=function getAll(){var t,e={},r=this._props;for(t in r)e[t]=this.get(t);return e},e.isTracking=function isTracking(t){return t in this._props},e.add=function add(t,e){t in this._props||(o||(a.add(r),s=a.time),o=this._props[t]=new u(this.target,t,e,o))},e.remove=function remove(t){var e,i,n=this._props[t];n&&(e=n._prev,i=n._next,e&&(e._next=i),i?i._prev=e:o===n&&(a.remove(r),o=0),delete this._props[t])},e.kill=function kill(t){for(var e in this._props)this.remove(e);t||delete f[p(this.target)]},VelocityTracker.track=function track(e,r,i){l||t();for(var n,o,a=[],s=g(e),c=r.split(","),u=(i||"").split(","),f=s.length;f--;){for(n=q(s[f])||new VelocityTracker(s[f]),o=c.length;o--;)n.add(c[o],u[o]||u[0]);a.push(n)}return a},VelocityTracker.untrack=function untrack(t,e){var r=(e||"").split(",");g(t).forEach(function(t){var e=q(t);e&&(r.length?r.forEach(function(t){return e.remove(t)}):e.kill(1))})},VelocityTracker.isTracking=function isTracking(t,e){var r=q(t);return r&&r.isTracking(e)},VelocityTracker.getVelocity=function getVelocity(t,e){var r=q(t);return r&&r.isTracking(e)?r.get(e):console.warn("Not tracking velocity of "+e)},VelocityTracker}();v.getByTarget=q,m()&&i.registerPlugin(v);function J(){return h||"undefined"!=typeof window&&(h=window.gsap)&&h.registerPlugin&&h}function L(t){return"number"==typeof t}function M(t){return"object"==typeof t}function N(t){return"function"==typeof t}function Q(t){return t}function U(t){return Math.round(1e4*t)/1e4}function V(t,e,r){for(var i in e)i in t||i===r||(t[i]=e[i]);return t}function W(t){var e,r,i={};for(e in t)i[e]=M(r=t[e])?W(r):r;return i}function X(t,e,r,i,n){var o,a,s,c,u=e.length,f=0,l=B;if(M(t)){for(;u--;){for(s in o=e[u],a=0,t)a+=(c=o[s]-t[s])*c;a<l&&(f=u,l=a)}if((n||B)<B&&n<Math.sqrt(l))return t}else for(;u--;)(a=(o=e[u])-t)<0&&(a=-a),a<l&&i<=o&&o<=r&&(f=u,l=a);return e[f]}function Y(t,e,r,i,n,o){if("auto"===t.end)return t;var a,s,c=t.end;if(r=isNaN(r)?B:r,i=isNaN(i)?-B:i,M(e)){if(a=e.calculated?e:(N(c)?c(e):X(e,c,r,i,o))||e,!e.calculated){for(s in a)e[s]=a[s];e.calculated=!0}a=a[n]}else a=N(c)?c(e):w(c)?X(e,c,r,i,o):parseFloat(c);return r<a?a=r:a<i&&(a=i),{max:a,min:a,unitFactor:t.unitFactor}}function Z(t,e,r){return isNaN(t[e])?r:+t[e]}function $(t,e){return.05*e*t/T}function _(t,e,r){return Math.abs((e-t)*T/r/.05)}function ba(t,e,r,i){if(e.linkedProps){var n,o,a,s,c,u,f=e.linkedProps.split(","),l={};for(n=0;n<f.length;n++)(a=e[o=f[n]])&&(s=L(a.velocity)?a.velocity:(c=c||j(t))&&c.isTracking(o)?c.get(o):0,u=Math.abs(s/Z(a,"resistance",i)),l[o]=parseFloat(r(t,o))+$(s,u));return l}}function da(){(h=J())&&(y=h.parseEase,F=h.utils.toArray,b=h.utils.getUnit,O=h.core.getCache,E=h.utils.clamp,k=y("power3"),T=k(.05),A=h.core.PropTween,h.config({resistance:100,unitFactors:{time:1e3,totalTime:1e3,progress:1e3,totalProgress:1e3}}),P=h.config(),h.registerPlugin(v),x=1)}var h,x,y,F,k,P,b,A,O,T,E,C,j=v.getByTarget,w=Array.isArray,B=1e10,I={resistance:1,checkpoint:1,preventOvershoot:1,linkedProps:1,radius:1,duration:1},R={version:"3.6.0",name:"inertia",register:function register(t){h=t,da()},init:function init(t,e,r,i,n){x||da();var o=j(t);if("auto"===e){if(!o)return void console.warn("No inertia tracking on "+t+". InertiaPlugin.track(target) first.");e=o.getAll()}this.target=t,this.tween=r,C=e;var a,s,c,u,f,l,p,g,d,v=t._gsap,h=v.get,m=e.duration,y=M(m),k=e.preventOvershoot||y&&0===m.overshoot,T=Z(e,"resistance",P.resistance),w=L(m)?m:function _calculateTweenDuration(t,e,r,i,n,o){if(void 0===r&&(r=10),void 0===i&&(i=.2),void 0===n&&(n=1),void 0===o&&(o=0),function _isString(t){return"string"==typeof t}(t)&&(t=F(t)[0]),!t)return 0;var a,s,c,u,f,l,p,g,d,v,h=0,m=B,y=e.inertia||e,k=O(t).get,T=Z(y,"resistance",P.resistance);for(a in v=ba(t,y,k,T),y)I[a]||(s=y[a],M(s)||((g=g||j(t))&&g.isTracking(a)?s=L(s)?{velocity:s}:{velocity:g.get(a)}:(u=+s||0,c=Math.abs(u/T))),M(s)&&(u=L(s.velocity)?s.velocity:(g=g||j(t))&&g.isTracking(a)?g.get(a):0,c=E(i,r,Math.abs(u/Z(s,"resistance",T))),l=(f=parseFloat(k(t,a))||0)+$(u,c),"end"in s&&(s=Y(s,v&&a in v?v:l,s.max,s.min,a,y.radius),o&&(C===e&&(C=y=W(e)),y[a]=V(s,y[a],"end"))),"max"in s&&l>+s.max+1e-10?(d=s.unitFactor||P.unitFactors[a]||1,(p=f>s.max&&s.min!==s.max||-15<u*d&&u*d<45?i+.1*(r-i):_(f,s.max,u))+n<m&&(m=p+n)):"min"in s&&l<s.min-1e-10&&(d=s.unitFactor||P.unitFactors[a]||1,(p=f<s.min&&s.min!==s.max||-45<u*d&&u*d<15?i+.1*(r-i):_(f,s.min,u))+n<m&&(m=p+n)),h<p&&(h=p)),h<c&&(h=c));return m<h&&(h=m),r<h?r:h<i?i:h}(t,e,y&&m.max||10,y&&m.min||.2,y&&"overshoot"in m?+m.overshoot:k?0:1,!0);for(a in e=C,C=0,d=ba(t,e,h,T),e)I[a]||(s=e[a],N(s)&&(s=s(i,t,n)),L(s)?f=s:M(s)&&!isNaN(s.velocity)?f=+s.velocity:o&&o.isTracking(a)?f=o.get(a):console.warn("ERROR: No velocity was defined for "+t+" property: "+a),l=$(f,w),g=0,c=h(t,a),u=b(c),c=parseFloat(c),M(s)&&(p=c+l,"end"in s&&(s=Y(s,d&&a in d?d:p,s.max,s.min,a,e.radius)),"max"in s&&+s.max<p?k||s.preventOvershoot?l=s.max-c:g=s.max-c-l:"min"in s&&+s.min>p&&(k||s.preventOvershoot?l=s.min-c:g=s.min-c-l)),this._props.push(a),this._pt=new A(this._pt,t,a,c,0,Q,0,v.set(t,a,this)),this._pt.u=u||0,this._pt.c1=l,this._pt.c2=g);return r.duration(w),1},render:function render(t,e){var r=e._pt;for(t=k(e.tween._time/e.tween._dur);r;)r.set(r.t,r.p,U(r.s+r.c1*t+r.c2*t*t)+r.u,r.d,t),r=r._next}};"track,untrack,isTracking,getVelocity,getByTarget".split(",").forEach(function(t){return R[t]=v[t]}),J()&&h.registerPlugin(R),e.InertiaPlugin=R,e.VelocityTracker=v,e.default=R;if (typeof(window)==="undefined"||window!==e){Object.defineProperty(e,"__esModule",{value:!0})} else {delete e.default}});


/*!
 * ScrollToPlugin 3.6.0
 * https://greensock.com
 * 
 * @license Copyright 2021, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).window=t.window||{})}(this,function(e){"use strict";function k(){return"undefined"!=typeof window}function l(){return i||k()&&(i=window.gsap)&&i.registerPlugin&&i}function m(t){return"string"==typeof t}function n(t){return"function"==typeof t}function o(t,e){var o="x"===e?"Width":"Height",n="scroll"+o,r="client"+o;return t===x||t===u||t===c?Math.max(u[n],c[n])-(x["inner"+o]||u[r]||c[r]):t[n]-t["offset"+o]}function p(t,e){var o="scroll"+("x"===e?"Left":"Top");return t===x&&(null!=t.pageXOffset?o="page"+e.toUpperCase()+"Offset":t=null!=u[o]?u:c),function(){return t[o]}}function r(t,e){if(!(t=a(t)[0])||!t.getBoundingClientRect)return console.warn("scrollTo target doesn't exist. Using 0")||{x:0,y:0};var o=t.getBoundingClientRect(),n=!e||e===x||e===c,r=n?{top:u.clientTop-(x.pageYOffset||u.scrollTop||c.scrollTop||0),left:u.clientLeft-(x.pageXOffset||u.scrollLeft||c.scrollLeft||0)}:e.getBoundingClientRect(),i={x:o.left-r.left,y:o.top-r.top};return!n&&e&&(i.x+=p(e,"x")(),i.y+=p(e,"y")()),i}function s(t,e,n,i,l){return isNaN(t)||"object"==typeof t?m(t)&&"="===t.charAt(1)?parseFloat(t.substr(2))*("-"===t.charAt(0)?-1:1)+i-l:"max"===t?o(e,n)-l:Math.min(o(e,n),r(t,e)[n]-l):parseFloat(t)-l}function t(){i=l(),k()&&i&&document.body&&(x=window,c=document.body,u=document.documentElement,a=i.utils.toArray,i.config({autoKillThreshold:7}),g=i.config(),f=1)}var i,f,x,u,c,a,g,d={version:"3.6.0",name:"scrollTo",rawVars:1,register:function register(e){i=e,t()},init:function init(e,o,r,i,l){f||t();var u=this;u.isWin=e===x,u.target=e,u.tween=r,o=function _clean(t,e,o,r){if(n(t)&&(t=t(e,o,r)),"object"!=typeof t)return m(t)&&"max"!==t&&"="!==t.charAt(1)?{x:t,y:t}:{y:t};if(t.nodeType)return{y:t,x:t};var i,l={};for(i in t)"onAutoKill"!==i&&(l[i]=n(t[i])?t[i](e,o,r):t[i]);return l}(o,i,e,l),u.vars=o,u.autoKill=!!o.autoKill,u.getX=p(e,"x"),u.getY=p(e,"y"),u.x=u.xPrev=u.getX(),u.y=u.yPrev=u.getY(),null!=o.x?(u.add(u,"x",u.x,s(o.x,e,"x",u.x,o.offsetX||0),i,l,Math.round),u._props.push("scrollTo_x")):u.skipX=1,null!=o.y?(u.add(u,"y",u.y,s(o.y,e,"y",u.y,o.offsetY||0),i,l,Math.round),u._props.push("scrollTo_y")):u.skipY=1},render:function render(t,e){for(var n,r,i,l,s,u=e._pt,f=e.target,p=e.tween,c=e.autoKill,a=e.xPrev,d=e.yPrev,y=e.isWin;u;)u.r(t,u.d),u=u._next;n=y||!e.skipX?e.getX():a,i=(r=y||!e.skipY?e.getY():d)-d,l=n-a,s=g.autoKillThreshold,e.x<0&&(e.x=0),e.y<0&&(e.y=0),c&&(!e.skipX&&(s<l||l<-s)&&n<o(f,"x")&&(e.skipX=1),!e.skipY&&(s<i||i<-s)&&r<o(f,"y")&&(e.skipY=1),e.skipX&&e.skipY&&(p.kill(),e.vars.onAutoKill&&e.vars.onAutoKill.apply(p,e.vars.onAutoKillParams||[]))),y?x.scrollTo(e.skipX?n:e.x,e.skipY?r:e.y):(e.skipY||(f.scrollTop=e.y),e.skipX||(f.scrollLeft=e.x)),e.xPrev=e.x,e.yPrev=e.y},kill:function kill(t){var e="scrollTo"===t;!e&&"scrollTo_x"!==t||(this.skipX=1),!e&&"scrollTo_y"!==t||(this.skipY=1)}};d.max=o,d.getOffset=r,d.buildGetter=p,l()&&i.registerPlugin(d),e.ScrollToPlugin=d,e.default=d;if (typeof(window)==="undefined"||window!==e){Object.defineProperty(e,"__esModule",{value:!0})} else {delete e.default}});


/*!
 * ScrollTrigger 3.6.0
 * https://greensock.com
 * 
 * @license Copyright 2021, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).window=e.window||{})}(this,function(e){"use strict";function J(e){return e}function K(){return"undefined"!=typeof window}function L(){return Ce||K()&&(Ce=window.gsap)&&Ce.registerPlugin&&Ce}function M(e){return!!~o.indexOf(e)}function N(e,t){return~Ve.indexOf(e)&&Ve[Ve.indexOf(e)+1][t]}function O(t,e){var r=e.s,n=e.sc,o=g.indexOf(t),i=n===nt.sc?1:2;return~o||(o=g.push(t)-1),g[o+i]||(g[o+i]=N(t,r)||(M(t)?n:function(e){return arguments.length?t[r]=e:t[r]}))}function P(e){return N(e,"getBoundingClientRect")||(M(e)?function(){return ft.width=Oe.innerWidth,ft.height=Oe.innerHeight,ft}:function(){return ot(e)})}function S(e,t){var r=t.s,n=t.d2,o=t.d,i=t.a;return(r="scroll"+n)&&(i=N(e,r))?i()-P(e)()[o]:M(e)?Math.max(_e[r],Pe[r])-(Oe["inner"+n]||_e["client"+n]||Pe["client"+n]):e[r]-e["offset"+n]}function T(e,t){for(var r=0;r<d.length;r+=3)t&&!~t.indexOf(d[r+1])||e(d[r],d[r+1],d[r+2])}function U(e){return"string"==typeof e}function V(e){return"function"==typeof e}function W(e){return"number"==typeof e}function X(e){return"object"==typeof e}function Y(e){return V(e)&&e()}function Z(r,n){return function(){var e=Y(r),t=Y(n);return function(){Y(e),Y(t)}}}function sa(e){return Oe.getComputedStyle(e)}function ua(e,t){for(var r in t)r in e||(e[r]=t[r]);return e}function wa(e,t){var r=t.d2;return e["offset"+r]||e["client"+r]||0}function xa(e){var t,r=[],n=e.labels,o=e.duration();for(t in n)r.push(n[t]/o);return r}function Aa(t,r,e,n){return e.split(",").forEach(function(e){return t(r,e,n)})}function Ba(e,t,r){return e.addEventListener(t,r,{passive:!0})}function Ca(e,t,r){return e.removeEventListener(t,r)}function Ga(e,t){if(U(e)){var r=e.indexOf("="),n=~r?(e.charAt(r-1)+1)*parseFloat(e.substr(r+1)):0;~r&&(e.indexOf("%")>r&&(n*=t/100),e=e.substr(0,r-1)),e=n+(e in w?w[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e}function Ha(e,t,r,n,o,i,a){var s=o.startColor,l=o.endColor,c=o.fontSize,u=o.indent,f=o.fontWeight,p=ke.createElement("div"),d=M(r)||"fixed"===N(r,"pinType"),h=-1!==e.indexOf("scroller"),g=d?Pe:r,v=-1!==e.indexOf("start"),m=v?s:l,b="border-color:"+m+";font-size:"+c+";color:"+m+";font-weight:"+f+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return b+="position:"+(h&&d?"fixed;":"absolute;"),!h&&d||(b+=(n===nt?x:y)+":"+(i+parseFloat(u))+"px;"),a&&(b+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),p._isStart=v,p.setAttribute("class","gsap-marker-"+e),p.style.cssText=b,p.innerText=t||0===t?e+"-"+t:e,g.children[0]?g.insertBefore(p,g.children[0]):g.appendChild(p),p._offset=p["offset"+n.op.d2],C(p,0,n,v),p}function La(){return l=l||s(H)}function Ma(){l||(l=s(H),Ye||E("scrollStart"),Ye=He())}function Na(){return!Le&&!r&&!ke.fullscreenElement&&a.restart(!0)}function Ta(e){var t,r=Ce.ticker.frame,n=[],o=0;if(h!==r||We){for(R();o<B.length;o+=4)(t=Oe.matchMedia(B[o]).matches)!==B[o+3]&&((B[o+3]=t)?n.push(o):R(1,B[o])||V(B[o+2])&&B[o+2]());for(z(),o=0;o<n.length;o++)t=n[o],Ie=B[t],B[t+2]=B[t+1](e);Ie=0,i&&F(0,1),h=r,E("matchMedia")}}function Ua(){return Ca($,"scrollEnd",Ua)||F(!0)}function eb(e,t,r,n){if(e.parentNode!==t){for(var o,i=D.length,a=t.style,s=e.style;i--;)a[o=D[i]]=r[o];a.position="absolute"===r.position?"absolute":"relative","inline"===r.display&&(a.display="inline-block"),s[y]=s[x]="auto",a.overflow="visible",a.boxSizing="border-box",a[Ge]=wa(e,rt)+tt,a[Je]=wa(e,nt)+tt,a[$e]=s[Qe]=s.top=s[m]="0",ut(n),s[Ge]=s.maxWidth=r[Ge],s[Je]=s.maxHeight=r[Je],s[$e]=r[$e],e.parentNode.insertBefore(t,e),t.appendChild(e)}}function hb(e){for(var t=G.length,r=e.style,n=[],o=0;o<t;o++)n.push(G[o],r[G[o]]);return n.t=e,n}function kb(e,t,r,n,o,i,a,s,l,c,u,f){if(V(e)&&(e=e(s)),U(e)&&"max"===e.substr(0,3)&&(e=f+("="===e.charAt(4)?Ga("0"+e.substr(3),r):0)),W(e))a&&C(a,r,n,!0);else{V(t)&&(t=t(s));var p,d,h,g=Be(t)[0]||Pe,v=ot(g)||{},m=e.split(" ");v&&(v.left||v.top)||"none"!==sa(g).display||(h=g.style.display,g.style.display="block",v=ot(g),h?g.style.display=h:g.style.removeProperty("display")),p=Ga(m[0],v[n.d]),d=Ga(m[1]||"0",r),e=v[n.p]-l[n.p]-c+p+o-d,a&&C(a,d,n,r-d<20||a._isStart&&20<d),r-=r-d}if(i){var b=e+r,x=i._isStart;f="scroll"+n.d2,C(i,b,n,x&&20<b||!x&&(u?Math.max(Pe[f],_e[f]):i.parentNode[f])<=b+1),u&&(l=ot(a),u&&(i.style[n.op.p]=l[n.op.p]-n.op.m-i._offset+tt))}return Math.round(e)}function mb(e,t,r,n){if(e.parentNode!==t){var o,i,a=e.style;if(t===Pe){for(o in e._stOrig=a.cssText,i=sa(e))+o||j.test(o)||!i[o]||"string"!=typeof a[o]||"0"===o||(a[o]=i[o]);a.top=r,a.left=n}else a.cssText=e._stOrig;Ce.core.getCache(e).uncache=1,t.appendChild(e)}}function nb(l,e){function Se(e,t,r,n,o){var i=Se.tween,a=t.onComplete,s={};return i&&i.kill(),c=Math.round(r),t[p]=e,(t.modifiers=s)[p]=function(e){return(e=Math.round(f()))!==c&&e!==u&&2<Math.abs(e-c)?(i.kill(),Se.tween=0):e=r+n*i.ratio+o*i.ratio*i.ratio,u=c,c=Math.round(e)},t.onComplete=function(){Se.tween=0,a&&a.call(i)},i=Se.tween=Ce.to(l,t)}var c,u,f=O(l,e),p="_scroll"+e.p2;return l[p]=f,l.addEventListener("mousewheel",function(){return Se.tween&&Se.tween.kill()&&(Se.tween=0)}),Se}var Ce,i,Oe,ke,_e,Pe,o,a,s,l,Be,Ee,Ne,c,Le,Ae,u,ze,f,p,d,Re,Ue,r,Fe,Ie,h,We=1,Ve=[],g=[],He=Date.now,v=He(),Ye=0,De=1,Xe=Math.abs,t="scrollLeft",n="scrollTop",m="left",x="right",y="bottom",Ge="width",Je="height",qe="Right",Ze="Left",je="Top",Ke="Bottom",$e="padding",Qe="margin",et="Width",b="Height",tt="px",rt={s:t,p:m,p2:Ze,os:x,os2:qe,d:Ge,d2:et,a:"x",sc:function sc(e){return arguments.length?Oe.scrollTo(e,nt.sc()):Oe.pageXOffset||ke[t]||_e[t]||Pe[t]||0}},nt={s:n,p:"top",p2:je,os:y,os2:Ke,d:Je,d2:b,a:"y",op:rt,sc:function sc(e){return arguments.length?Oe.scrollTo(rt.sc(),e):Oe.pageYOffset||ke[n]||_e[n]||Pe[n]||0}},ot=function _getBounds(e,t){var r=t&&"matrix(1, 0, 0, 1, 0, 0)"!==sa(e)[u]&&Ce.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),n=e.getBoundingClientRect();return r&&r.progress(0).kill(),n},it={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},at={toggleActions:"play",anticipatePin:0},w={top:0,left:0,center:.5,bottom:1,right:1},C=function _positionMarker(e,t,r,n){var o={display:"block"},i=r[n?"os2":"p2"],a=r[n?"p2":"os2"];e._isFlipped=n,o[r.a+"Percent"]=n?-100:0,o[r.a]=n?"1px":0,o["border"+i+et]=1,o["border"+a+et]=0,o[r.p]=t+"px",Ce.set(e,o)},st=[],lt={},k={},_=[],B=[],E=function _dispatch(e){return k[e]&&k[e].map(function(e){return e()})||_},A=[],z=function _revertRecorded(e){for(var t=0;t<A.length;t+=4)e&&A[t+3]!==e||(A[t].style.cssText=A[t+1],A[t+2].uncache=1)},R=function _revertAll(e,t){var r;for(ze=0;ze<st.length;ze++)r=st[ze],t&&r.media!==t||(e?r.kill(1):(r.scroll.rec||(r.scroll.rec=r.scroll()),r.revert()));z(t),t||E("revert")},F=function _refreshAll(e,t){if(!Ye||e){var r=E("refreshInit");for(Re&&$.sort(),t||R(),ze=0;ze<st.length;ze++)st[ze].refresh();for(r.forEach(function(e){return e&&e.render&&e.render(-1)}),ze=st.length;ze--;)st[ze].scroll.rec=0;a.pause(),E("refresh")}else Ba($,"scrollEnd",Ua)},I=0,ct=1,H=function _updateAll(){var e=st.length,t=He(),r=50<=t-v,n=e&&st[0].scroll();if(ct=n<I?-1:1,I=n,r&&(Ye&&!Ae&&200<t-Ye&&(Ye=0,E("scrollEnd")),Ne=v,v=t),ct<0){for(ze=e;ze--;)st[ze]&&st[ze].update(0,r);ct=1}else for(ze=0;ze<e;ze++)st[ze]&&st[ze].update(0,r);l=0},D=[m,"top",y,x,Qe+Ke,Qe+qe,Qe+je,Qe+Ze,"display","flexShrink","float","zIndex"],G=D.concat([Ge,Je,"boxSizing","max"+et,"max"+b,"position",Qe,$e,$e+je,$e+qe,$e+Ke,$e+Ze]),q=/([A-Z])/g,ut=function _setState(e){if(e){var t,r,n=e.t.style,o=e.length,i=0;for((e.t._gsap||Ce.core.getCache(e.t)).uncache=1;i<o;i+=2)r=e[i+1],t=e[i],r?n[t]=r:n[t]&&n.removeProperty(t.replace(q,"-$1").toLowerCase())}},ft={left:0,top:0},j=/(?:webkit|moz|length|cssText|inset)/i;rt.op=nt;var $=(ScrollTrigger.prototype.init=function init(y,w){if(this.progress=this.start=0,this.vars&&this.kill(1),De){var d,n,l,T,C,k,_,B,E,L,A,z,e,R,F,I,H,Y,t,D,h,G,q,g,Z,v,m,r,b,x,j,o,c,K,$,Q,ee,te=(y=ua(U(y)||W(y)||y.nodeType?{trigger:y}:y,at)).horizontal?rt:nt,re=y.onUpdate,ne=y.toggleClass,i=y.id,oe=y.onToggle,ie=y.onRefresh,a=y.scrub,ae=y.trigger,se=y.pin,le=y.pinSpacing,ce=y.invalidateOnRefresh,ue=y.anticipatePin,s=y.onScrubComplete,u=y.onSnapComplete,fe=y.once,pe=y.snap,de=y.pinReparent,he=!a&&0!==a,ge=Be(y.scroller||Oe)[0],f=Ce.core.getCache(ge),ve=M(ge),me="pinType"in y?"fixed"===y.pinType:ve||"fixed"===N(ge,"pinType"),be=[y.onEnter,y.onLeave,y.onEnterBack,y.onLeaveBack],xe=he&&y.toggleActions.split(" "),p="markers"in y?y.markers:at.markers,ye=ve?0:parseFloat(sa(ge)["border"+te.p2+et])||0,Se=this,we=y.onRefreshInit&&function(){return y.onRefreshInit(Se)},Te=function _getSizeFunc(e,t,r){var n=r.d,o=r.d2,i=r.a;return(i=N(e,"getBoundingClientRect"))?function(){return i()[n]}:function(){return(t?Oe["inner"+o]:e["client"+o])||0}}(ge,ve,te),Me=function _getOffsetsFunc(e,t){return!t||~Ve.indexOf(e)?P(e):function(){return ft}}(ge,ve);Se.media=Ie,ue*=45,st.push(Se),Se.scroller=ge,Se.scroll=O(ge,te),C=Se.scroll(),Se.vars=y,w=w||y.animation,"refreshPriority"in y&&(Re=1),f.tweenScroll=f.tweenScroll||{top:nb(ge,nt),left:nb(ge,rt)},Se.tweenTo=d=f.tweenScroll[te.p],w&&(w.vars.lazy=!1,w._initted||!1!==w.vars.immediateRender&&!1!==y.immediateRender&&w.render(0,!0,!0),Se.animation=w.pause(),w.scrollTrigger=Se,(o=W(a)&&a)&&(j=Ce.to(w,{ease:"power3",duration:o,onComplete:function onComplete(){return s&&s(Se)}})),b=0,i=i||w.vars.id),pe&&(X(pe)||(pe={snapTo:pe}),"scrollBehavior"in Pe.style&&Ce.set(ve?[Pe,_e]:ge,{scrollBehavior:"auto"}),l=V(pe.snapTo)?pe.snapTo:"labels"===pe.snapTo?function _getClosestLabel(t){return function(e){return Ce.utils.snap(xa(t),e)}}(w):"labelsDirectional"===pe.snapTo?function _getLabelAtDirection(o){return function(e,t){var r,n=xa(o);if(n.sort(function(e,t){return e-t}),0<t.direction){for(r=0;r<n.length;r++)if(n[r]>=e)return n[r];return n.pop()}for(r=n.length;r--;)if(n[r]<=e)return n[r];return n[0]}}(w):Ce.utils.snap(pe.snapTo),c=pe.duration||{min:.1,max:2},c=X(c)?Ee(c.min,c.max):Ee(c,c),K=Ce.delayedCall(pe.delay||o/2||.1,function(){if(Math.abs(Se.getVelocity())<10&&!Ae){var e=w&&!he?w.totalProgress():Se.progress,t=(e-x)/(He()-Ne)*1e3||0,r=Xe(t/2)*t/.185,n=e+r,o=Ee(0,1,l(n,Se)),i=Se.scroll(),a=Math.round(_+o*R),s=d.tween;if(i<=B&&_<=i&&a!==i){if(s&&!s._initted&&s.data<=Math.abs(a-i))return;d(a,{duration:c(Xe(.185*Math.max(Xe(n-e),Xe(o-e))/t/.05||0)),ease:pe.ease||"power3",data:Math.abs(a-i),onComplete:function onComplete(){b=x=w&&!he?w.totalProgress():Se.progress,u&&u(Se)}},i,r*R,a-i-r*R)}}else Se.isActive&&K.restart(!0)}).pause()),i&&(lt[i]=Se),ae=Se.trigger=Be(ae||se)[0],se=!0===se?ae:Be(se)[0],U(ne)&&(ne={targets:ae,className:ne}),se&&(!1===le||le===Qe||(le=!(!le&&"flex"===sa(se.parentNode).display)&&$e),Se.pin=se,!1!==y.force3D&&Ce.set(se,{force3D:!0}),(n=Ce.core.getCache(se)).spacer?F=n.pinState:(n.spacer=Y=ke.createElement("div"),Y.setAttribute("class","pin-spacer"+(i?" pin-spacer-"+i:"")),n.pinState=F=hb(se)),Se.spacer=Y=n.spacer,r=sa(se),g=r[le+te.os2],D=Ce.getProperty(se),h=Ce.quickSetter(se,te.a,tt),eb(se,Y,r),H=hb(se)),p&&(e=X(p)?ua(p,it):it,A=Ha("scroller-start",i,ge,te,e,0),z=Ha("scroller-end",i,ge,te,e,0,A),t=A["offset"+te.op.d2],E=Ha("start",i,ge,te,e,t),L=Ha("end",i,ge,te,e,t),me||(function _makePositionable(e){e.style.position="absolute"===sa(e).position?"absolute":"relative"}(ve?Pe:ge),Ce.set([A,z],{force3D:!0}),v=Ce.quickSetter(A,te.a,tt),m=Ce.quickSetter(z,te.a,tt))),Se.revert=function(e){var t=!1!==e||!Se.enabled,r=Le;t!==T&&(t&&(Q=Math.max(Se.scroll(),Se.scroll.rec||0),$=Se.progress,ee=w&&w.progress()),E&&[E,L,A,z].forEach(function(e){return e.style.display=t?"none":"block"}),t&&(Le=1),Se.update(t),Le=r,se&&(t?function _swapPinOut(e,t,r){if(ut(r),e.parentNode===t){var n=t.parentNode;n&&(n.insertBefore(e,t),n.removeChild(t))}}(se,Y,F):de&&Se.isActive||eb(se,Y,sa(se),Z)),T=t)},Se.refresh=function(e){if(!Le&&Se.enabled)if(se&&e&&Ye)Ba(ScrollTrigger,"scrollEnd",Ua);else{Le=1,j&&j.pause(),ce&&w&&w.progress(0).invalidate(),T||Se.revert();for(var t,r,n,o,i,a,s,l,c,u=Te(),f=Me(),p=S(ge,te),d=0,h=0,g=y.end,v=y.endTrigger||ae,m=y.start||(0!==y.start&&ae?se?"0 0":"0 100%":0),b=ae&&Math.max(0,st.indexOf(Se))||0,x=b;x--;)!(s=st[x].pin)||s!==ae&&s!==se||st[x].revert();for(_=kb(m,ae,u,te,Se.scroll(),E,A,Se,f,ye,me,p)||(se?-.001:0),V(g)&&(g=g(Se)),U(g)&&!g.indexOf("+=")&&(~g.indexOf(" ")?g=(U(m)?m.split(" ")[0]:"")+g:(d=Ga(g.substr(2),u),g=U(m)?m:_+d,v=ae)),B=Math.max(_,kb(g||(v?"100% 0":p),v,u,te,Se.scroll()+d,L,z,Se,f,ye,me,p))||-.001,R=B-_||(_-=.01)&&.001,d=0,x=b;x--;)(s=(a=st[x]).pin)&&a.start-a._pinPush<_&&(t=a.end-a.start,s===ae&&(d+=t),s===se&&(h+=t));if(_+=d,B+=d,Se._pinPush=h,E&&d&&((t={})[te.a]="+="+d,Ce.set([E,L],t)),se)t=sa(se),o=te===nt,n=Se.scroll(),G=parseFloat(D(te.a))+h,!p&&1<B&&((ve?Pe:ge).style["overflow-"+te.a]="scroll"),eb(se,Y,t),H=hb(se),r=ot(se,!0),l=me&&O(ge,o?rt:nt)(),le&&((Z=[le+te.os2,R+h+tt]).t=Y,(x=le===$e?wa(se,te)+R+h:0)&&Z.push(te.d,x+tt),ut(Z),me&&Se.scroll(Q)),me&&((i={top:r.top+(o?n-_:l)+tt,left:r.left+(o?l:n-_)+tt,boxSizing:"border-box",position:"fixed"})[Ge]=i.maxWidth=Math.ceil(r.width)+tt,i[Je]=i.maxHeight=Math.ceil(r.height)+tt,i[Qe]=i[Qe+je]=i[Qe+qe]=i[Qe+Ke]=i[Qe+Ze]="0",i[$e]=t[$e],i[$e+je]=t[$e+je],i[$e+qe]=t[$e+qe],i[$e+Ke]=t[$e+Ke],i[$e+Ze]=t[$e+Ze],I=function _copyState(e,t,r){for(var n,o=[],i=e.length,a=r?8:0;a<i;a+=2)n=e[a],o.push(n,n in t?t[n]:e[a+1]);return o.t=e.t,o}(F,i,de)),w?(c=w._initted,Ue(1),w.progress(1,!0),q=D(te.a)-G+R+h,R!==q&&I.splice(I.length-2,2),w.progress(0,!0),c||w.invalidate(),Ue(0)):q=R;else if(ae&&Se.scroll())for(r=ae.parentNode;r&&r!==Pe;)r._pinOffset&&(_-=r._pinOffset,B-=r._pinOffset),r=r.parentNode;for(x=0;x<b;x++)!(a=st[x].pin)||a!==ae&&a!==se||st[x].revert(!1);Se.start=_,Se.end=B,(C=k=Se.scroll())<Q&&Se.scroll(Q),Se.revert(!1),Le=0,w&&he&&w._initted&&w.progress(ee,!0).render(w.time(),!0,!0),$!==Se.progress&&(j&&w.totalProgress($,!0),Se.progress=$,Se.update()),se&&le&&(Y._pinOffset=Math.round(Se.progress*q)),ie&&ie(Se)}},Se.getVelocity=function(){return(Se.scroll()-k)/(He()-Ne)*1e3||0},Se.update=function(e,t){var r,n,o,i,a,s=Se.scroll(),l=e?0:(s-_)/R,c=l<0?0:1<l?1:l||0,u=Se.progress;if(t&&(k=C,C=s,pe&&(x=b,b=w&&!he?w.totalProgress():c)),ue&&!c&&se&&!Le&&!We&&Ye&&_<s+(s-k)/(He()-Ne)*ue&&(c=1e-4),c!==u&&Se.enabled){if(i=(a=(r=Se.isActive=!!c&&c<1)!=(!!u&&u<1))||!!c!=!!u,Se.direction=u<c?1:-1,Se.progress=c,he||(!j||Le||We?w&&w.totalProgress(c,!!Le):(j.vars.totalProgress=c,j.invalidate().restart())),se)if(e&&le&&(Y.style[le+te.os2]=g),me){if(i){if(o=!e&&u<c&&s<B+1&&s+1>=S(ge,te),de)if(e||!r&&!o)mb(se,Y);else{var f=ot(se,!0),p=s-_;mb(se,Pe,f.top+(te===nt?p:0)+tt,f.left+(te===nt?0:p)+tt)}ut(r||o?I:H),q!==R&&c<1&&r||h(G+(1!==c||o?0:q))}}else h(G+q*c);!pe||d.tween||Le||We||K.restart(!0),ne&&(a||fe&&c&&(c<1||!Fe))&&Be(ne.targets).forEach(function(e){return e.classList[r||fe?"add":"remove"](ne.className)}),!re||he||e||re(Se),i&&!Le?(n=c&&!u?0:1===c?1:1===u?2:3,he&&(o=!a&&"none"!==xe[n+1]&&xe[n+1]||xe[n],w&&("complete"===o||"reset"===o||o in w)&&("complete"===o?w.pause().totalProgress(1):"reset"===o?w.restart(!0).pause():w[o]()),re&&re(Se)),!a&&Fe||(oe&&a&&oe(Se),be[n]&&be[n](Se),fe&&(1===c?Se.kill(!1,1):be[n]=0),a||be[n=1===c?1:3]&&be[n](Se))):he&&re&&!Le&&re(Se)}m&&(v(s+(A._isFlipped?1:0)),m(s))},Se.enable=function(){Se.enabled||(Se.enabled=!0,Ba(ge,"resize",Na),Ba(ge,"scroll",Ma),we&&Ba(ScrollTrigger,"refreshInit",we),w&&w.add?Ce.delayedCall(.01,function(){return _||B||Se.refresh()})&&(R=.01)&&(_=B=0):Se.refresh())},Se.disable=function(e,t){if(Se.enabled&&(!1!==e&&Se.revert(),Se.enabled=Se.isActive=!1,t||j&&j.pause(),Q=0,n&&(n.uncache=1),we&&Ca(ScrollTrigger,"refreshInit",we),K&&(K.pause(),d.tween&&d.tween.kill()&&(d.tween=0)),!ve)){for(var r=st.length;r--;)if(st[r].scroller===ge&&st[r]!==Se)return;Ca(ge,"resize",Na),Ca(ge,"scroll",Ma)}},Se.kill=function(e,t){Se.disable(e,t),i&&delete lt[i];var r=st.indexOf(Se);st.splice(r,1),r===ze&&0<ct&&ze--,w&&(w.scrollTrigger=null,e&&w.render(-1),t||w.kill()),E&&[E,L,A,z].forEach(function(e){return e.parentNode.removeChild(e)}),se&&(n&&(n.uncache=1),r=0,st.forEach(function(e){return e.pin===se&&r++}),r||(n.spacer=0))},Se.enable()}else this.update=this.refresh=this.kill=J},ScrollTrigger.register=function register(e){if(!i&&(Ce=e||L(),K()&&window.document&&(Oe=window,ke=document,_e=ke.documentElement,Pe=ke.body),Ce&&(Be=Ce.utils.toArray,Ee=Ce.utils.clamp,Ue=Ce.core.suppressOverwrites||J,Ce.core.globals("ScrollTrigger",ScrollTrigger),Pe))){s=Oe.requestAnimationFrame||function(e){return setTimeout(e,16)},Ba(Oe,"mousewheel",Ma),o=[Oe,ke,_e,Pe],Ba(ke,"scroll",Ma);var t,r=Pe.style,n=r.borderTop;r.borderTop="1px solid #000",t=ot(Pe),nt.m=Math.round(t.top+nt.sc())||0,rt.m=Math.round(t.left+rt.sc())||0,n?r.borderTop=n:r.removeProperty("border-top"),c=setInterval(La,200),Ce.delayedCall(.5,function(){return We=0}),Ba(ke,"touchcancel",J),Ba(Pe,"touchstart",J),Aa(Ba,ke,"pointerdown,touchstart,mousedown",function(){return Ae=1}),Aa(Ba,ke,"pointerup,touchend,mouseup",function(){return Ae=0}),u=Ce.utils.checkPrefix("transform"),G.push(u),i=He(),a=Ce.delayedCall(.2,F).pause(),d=[ke,"visibilitychange",function(){var e=Oe.innerWidth,t=Oe.innerHeight;ke.hidden?(f=e,p=t):f===e&&p===t||Na()},ke,"DOMContentLoaded",F,Oe,"load",function(){return Ye||F()},Oe,"resize",Na],T(Ba)}return i},ScrollTrigger.defaults=function defaults(e){for(var t in e)at[t]=e[t]},ScrollTrigger.kill=function kill(){De=0,st.slice(0).forEach(function(e){return e.kill(1)})},ScrollTrigger.config=function config(e){"limitCallbacks"in e&&(Fe=!!e.limitCallbacks);var t=e.syncInterval;t&&clearInterval(c)||(c=t)&&setInterval(La,t),"autoRefreshEvents"in e&&(T(Ca)||T(Ba,e.autoRefreshEvents||"none"),r=-1===(e.autoRefreshEvents+"").indexOf("resize"))},ScrollTrigger.scrollerProxy=function scrollerProxy(e,t){var r=Be(e)[0],n=g.indexOf(r),o=M(r);~n&&g.splice(n,o?6:2),o?Ve.unshift(Oe,t,Pe,t,_e,t):Ve.unshift(r,t)},ScrollTrigger.matchMedia=function matchMedia(e){var t,r,n,o,i;for(r in e)n=B.indexOf(r),o=e[r],"all"===(Ie=r)?o():(t=Oe.matchMedia(r))&&(t.matches&&(i=o()),~n?(B[n+1]=Z(B[n+1],o),B[n+2]=Z(B[n+2],i)):(n=B.length,B.push(r,o,i),t.addListener?t.addListener(Ta):t.addEventListener("change",Ta)),B[n+3]=t.matches),Ie=0;return B},ScrollTrigger.clearMatchMedia=function clearMatchMedia(e){e||(B.length=0),0<=(e=B.indexOf(e))&&B.splice(e,4)},ScrollTrigger);function ScrollTrigger(e,t){i||ScrollTrigger.register(Ce)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),this.init(e,t)}$.version="3.6.0",$.saveStyles=function(e){return e?Be(e).forEach(function(e){if(e&&e.style){var t=A.indexOf(e);0<=t&&A.splice(t,4),A.push(e,e.style.cssText,Ce.core.getCache(e),Ie)}}):A},$.revert=function(e,t){return R(!e,t)},$.create=function(e,t){return new $(e,t)},$.refresh=function(e){return e?Na():F(!0)},$.update=H,$.maxScroll=function(e,t){return S(e,t?rt:nt)},$.getScrollFunc=function(e,t){return O(Be(e)[0],t?rt:nt)},$.getById=function(e){return lt[e]},$.getAll=function(){return st.slice(0)},$.isScrolling=function(){return!!Ye},$.addEventListener=function(e,t){var r=k[e]||(k[e]=[]);~r.indexOf(t)||r.push(t)},$.removeEventListener=function(e,t){var r=k[e],n=r&&r.indexOf(t);0<=n&&r.splice(n,1)},$.batch=function(e,t){function ri(e,t){var r=[],n=[],o=Ce.delayedCall(i,function(){t(r,n),r=[],n=[]}).pause();return function(e){r.length||o.restart(!0),r.push(e.trigger),n.push(e),a<=r.length&&o.progress(1)}}var r,n=[],o={},i=t.interval||.016,a=t.batchMax||1e9;for(r in t)o[r]="on"===r.substr(0,2)&&V(t[r])&&"onRefreshInit"!==r?ri(0,t[r]):t[r];return V(a)&&(a=a(),Ba($,"refresh",function(){return a=t.batchMax()})),Be(e).forEach(function(e){var t={};for(r in o)t[r]=o[r];t.trigger=e,n.push($.create(t))}),n},$.sort=function(e){return st.sort(e||function(e,t){return-1e6*(e.vars.refreshPriority||0)+e.start-(t.start+-1e6*(t.vars.refreshPriority||0))})},L()&&Ce.registerPlugin($),e.ScrollTrigger=$,e.default=$;if (typeof(window)==="undefined"||window!==e){Object.defineProperty(e,"__esModule",{value:!0})} else {delete e.default}});


var NVIDIAGDC = NVIDIAGDC || {};
NVIDIAGDC.button = NVIDIAGDC.button || {} ;

NVIDIAGDC.button.click =  function(anchor, url, islink, callback, target) {
// updating the domain cookie with the referrer href and element
//if (target && target !== "overlay") {
 // Cookies.set("nv.buttonReferrer", $(anchor).parent().html()+" | "+ JSON.stringify(window.location) , {domain:'nvidia.com'});
//}
  if (anchor && !target) {
    target = $(anchor).attr('target');
    if (target == '') {
      target = null;
      }
  }

  if (islink && !target) {
    target = '_self';
  }

  try {
    callback.call(anchor);
    } catch (e) {
      nvidiagdclog("open: " + e);
  }
  if (islink){
        if (target && target != '') {
            if (target === "overlay"){
            	var isMobile = NVIDIAGDC.Browser.getViewport() == "mobile" || NVIDIAGDC.Browser.getViewport() == "tablet";
                $('body').addClass('noscroll');
                var linkURL = $(anchor).data('href');
                var url = linkURL;
                var modalId = "";
                var modalWidth = "80%";
                var modalHeight = "80%";
                if (linkURL.indexOf('youtube')!= -1) {
                	
                	/*logic to handle youtube video on button click*/
                	var screenSize = $(window).width();
        			//modalWidth ="100%";
        			modalWidth = screenSize - 30;
        			modalHeight="60%";
        			if (screenSize >= NVIDIAGDC.desktopBreakpoint){
        				modalWidth= "854px";
        			  	modalHeight= "480px";
        			}else{
        				modalHeight= (modalWidth*9)/16;
        			}

        			
                    //console.log("Its youtube ...");
                    var videoId = getUrlParam('v', linkURL);
                    var listId = getUrlParam('list', linkURL);
                    if (videoId != null ) {
                      url="https://www.youtube.com/embed/" + videoId;
                          if(listId!=null)
                              url= url + "?list=" + listId;
                    }
                  } else {
                    modalId=linkURL;
                    if(modalId.indexOf("#") !=-1){
                        //console.log('im overlay');
                        //console.log("modalId  ---- " + modalId);
                        //console.log("$(modalId).data('width')  ----- " + $(modalId).data('width') );
                        //console.log("$(modalId).data('height') ----- " + $(modalId).data('height'));
                        if(typeof $(modalId).data('width')  != 'undefined' && $(modalId).data('width') != ''){
                        	//modalWidth=$(modalId).data('width') + 'px';
                        	modalWidth=$(modalId).data('width') -30 + 'px';
                        }
                        if(typeof $(modalId).data('height')  != 'undefined' && $(modalId).data('height') != ''){
                    		//modalHeight=$(modalId).data('height') + 'px';
                    		modalHeight=$(modalId).data('height') -30 + 'px';
                        }
                    }else {
                    	if($(anchor).data('width') !== undefined && $(anchor).data('width') !== '') {
                    		//modalWidth = $(anchor).data('width');
                    		modalWidth = $(anchor).data('width') - 30;
                        }
                        if($(anchor).data('height') !== undefined && $(anchor).data('height') !== '') {
                        	//modalHeight = $(anchor).data('height');
                        	modalHeight = $(anchor).data('height') - 30;
                        }
                    }
                }

                //console.log(url);
    
                $(anchor).attr('href', url);
                var screenWidth = modalWidth;
                var screenHeight = modalHeight;

                if(isMobile){
                    //screenWidth = "100%";
                    //screenHeight = "100%"

                    screenWidth = $ (window ).width() -30;
                    screenHeight = $ (window ).height() -30;
                    //screenWidth = screenWidth - 30;
                    //screenHeight = screenHeight - 30;
                }

                if (url.indexOf('#')!=-1){
                    if(isMobile){
                       // var screenWidth = $(window).width() -30;
                        //var screenHeight = $(anchor).children().children().height();
                       // var screenHeight = $ (window ).height() -30;
                    }

                    //console.log("inline");
                	//var stkpgycord = $(window).scrollTop();  
                    $.colorbox({
                        inline:true,
                        href: url,
                        width:screenWidth,
                        maxHeight : screenHeight,
                        onComplete : function() {
							if(NVIDIAGDC.Browser.getViewport() === "mobile"){
								$(this).colorbox.resize({width: screenWidth, height: screenHeight});
							}
                        }
                      //Adding values for no scroll effect
                       /* fixed: true,                        
                       onOpen: function() {         
                          var ycoord = stkpgycord * -1;                          
                          $('body').css('position','fixed').css('left','0px').css('right','0px').css('top',ycoord + 'px');                         
                        },
                        //added oncomplete function colorbox to override default overflow hidden to visible
                        onComplete : function() {                        	  
                        	$('#colorbox').css('overflow', 'visible');
                        	},
                        onClosed: function() {
                          $('body').css('position','').css('left','auto').css('right','auto').css('top','auto');                          
                          $(window).scrollTop(stkpgycord);
                        }*/
                    });
					
					$("#cboxClose").off().on("click", function(e){
			            e.preventDefault();
			            e.stopImmediatePropagation();
			            $.colorbox.close();
			            if($('body').hasClass('noscroll')) {
			                $('body').removeClass('noscroll');
			            }
			        });

                }else if(url.indexOf('/nvidia-forms') !==-1) {
                    if(isMobile){
                        var screenWidth = $(window).width() -30;
                        //var screenHeight = $(anchor).children().children().height();
                        var screenHeight = $(window).height() -30;
                    }
                    $(".lb_iframe").colorbox({
                        html: url,
                        iframe: true,
                        inline: false,
                        width: screenWidth,
                        height: screenHeight
                    });					
                    $(document).on('cbox_complete', function(){
                        var timeInterval = setInterval(function(){
                            var cboxHeight = $("#cboxLoadedContent .cboxIframe").contents().find('form').height();
                            if(cboxHeight){
                                $('#cboxLoadedContent').css('background-color', 'transparent');
                                $('.cboxIframe').css('background-color', 'transparent');
                                if(isMobile){ 
                                    if(cboxHeight > window.innerHeight) {
                                        $.colorbox.resize({height: screenHeight});
                                    }
                                /* else {
                                    $.colorbox.resize({height: height+30});
                                }*/
                                
                            	}
                                clearInterval(timeInterval);
                            }
                        }, 300);
                    });
                }else {
					if(isMobile){
                        var screenWidth = $(window).width() - 30;
						var screenHeight = $ (window ).height() - 30;
						if(url.indexOf('youtube') != -1) {
							 screenHeight = (screenWidth*9)/16;
						}
                    }

                    $(".lb_iframe").colorbox({
                        html: url,
                        iframe: true,
                        inline: false,
                        width: screenWidth,
                        height: screenHeight,
                         onComplete: function () {
							// restricting spinner for non .nvidia.com domain urls, fix for yt video (AD-1335)
							if((url.indexOf('images.nvidia.com') === -1) && (url.indexOf('.nvidia.com') > -1 || url.indexOf('.nvidia.cn') > -1)) {
								$('.cboxIframe').addClass($(this).attr('id'));
								$('#cboxLoadedContent').append('<div class="nv-spinner-container"><div class="nv-spinner"></div></div>');
                            }
							if (isMobile) {
								$(this).colorbox.resize({width: screenWidth, height: screenHeight});
							}
						},
						onClosed: function () {
							$.colorbox.remove()
						}
                    });
                }
            }
            else {
                window.open(url, target);
            }
        } else {
            window.location = url;
        }
  } else {
  //DO something
  }

}

getUrlParam = function(name, url){
  var results = new RegExp('[\?&]' + name + '=([^&#]*)').exec(url);
    if (results==null){
       return null;
    }
    else{
       return results[1] || 0;
    }
}
//Below two functions kept outside of color box initiation to avoid unnecessary calls.
$('.dwnldclosebtn').click(function() {
    $.colorbox.close();
    $('body').removeClass('noscroll');
});
//Below Snippet for the Button PopUp auto adjust to screen orientation
var colorbox_resize = false;
$(window).on("orientationchange", function(event) {
//$(window).resize(function() {
    if (colorbox_resize)
        clearTimeout(colorbox_resize);
    colorbox_resize = setTimeout(function() {
    	if($('#cboxLoadedContent').is(':visible')){
   		 $(this).colorbox.resize({width:"96%"});
   		 $('#colorbox').css('overflow', 'visible');
   	 }
    }, 450);
});

$(document).keyup(function(e){
	if($('#cboxLoadedContent').is(':visible')){
		if(e.key === 'Escape' && $('body').hasClass('noscroll')){
        	$('body').removeClass('noscroll');		
    	}
	}
    
});

NVIDIAGDC.button.callbacks = function(anchor) {

};

/*! jQuery UI - v1.12.1 - 2016-09-14
* http://jqueryui.com
* Includes: widget.js, position.js, data.js, disable-selection.js, effect.js, effects/effect-blind.js, effects/effect-bounce.js, effects/effect-clip.js, effects/effect-drop.js, effects/effect-explode.js, effects/effect-fade.js, effects/effect-fold.js, effects/effect-highlight.js, effects/effect-puff.js, effects/effect-pulsate.js, effects/effect-scale.js, effects/effect-shake.js, effects/effect-size.js, effects/effect-slide.js, effects/effect-transfer.js, focusable.js, form-reset-mixin.js, jquery-1-7.js, keycode.js, labels.js, scroll-parent.js, tabbable.js, unique-id.js, widgets/accordion.js, widgets/autocomplete.js, widgets/button.js, widgets/checkboxradio.js, widgets/controlgroup.js, widgets/datepicker.js, widgets/dialog.js, widgets/draggable.js, widgets/droppable.js, widgets/menu.js, widgets/mouse.js, widgets/progressbar.js, widgets/resizable.js, widgets/selectable.js, widgets/selectmenu.js, widgets/slider.js, widgets/sortable.js, widgets/spinner.js, widgets/tabs.js, widgets/tooltip.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */

(function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)})(function(t){function e(t){for(var e=t.css("visibility");"inherit"===e;)t=t.parent(),e=t.css("visibility");return"hidden"!==e}function i(t){for(var e,i;t.length&&t[0]!==document;){if(e=t.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}function s(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=n(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",i,function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",i,o)}function o(){t.datepicker._isDisabledDatepicker(m.inline?m.dpDiv.parent()[0]:m.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function a(e,i){t.extend(e,i);for(var s in i)null==i[s]&&(e[s]=i[s]);return e}function r(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.ui=t.ui||{},t.ui.version="1.12.1";var h=0,l=Array.prototype.slice;t.cleanData=function(e){return function(i){var s,n,o;for(o=0;null!=(n=i[o]);o++)try{s=t._data(n,"events"),s&&s.remove&&t(n).triggerHandler("remove")}catch(a){}e(i)}}(t.cleanData),t.widget=function(e,i,s){var n,o,a,r={},h=e.split(".")[0];e=e.split(".")[1];var l=h+"-"+e;return s||(s=i,i=t.Widget),t.isArray(s)&&(s=t.extend.apply(null,[{}].concat(s))),t.expr[":"][l.toLowerCase()]=function(e){return!!t.data(e,l)},t[h]=t[h]||{},n=t[h][e],o=t[h][e]=function(t,e){return this._createWidget?(arguments.length&&this._createWidget(t,e),void 0):new o(t,e)},t.extend(o,n,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),a=new i,a.options=t.widget.extend({},a.options),t.each(s,function(e,s){return t.isFunction(s)?(r[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function n(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=n,e=s.apply(this,arguments),this._super=i,this._superApply=o,e}}(),void 0):(r[e]=s,void 0)}),o.prototype=t.widget.extend(a,{widgetEventPrefix:n?a.widgetEventPrefix||e:e},r,{constructor:o,namespace:h,widgetName:e,widgetFullName:l}),n?(t.each(n._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete n._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var i,s,n=l.call(arguments,1),o=0,a=n.length;a>o;o++)for(i in n[o])s=n[o][i],n[o].hasOwnProperty(i)&&void 0!==s&&(e[i]=t.isPlainObject(s)?t.isPlainObject(e[i])?t.widget.extend({},e[i],s):t.widget.extend({},s):s);return e},t.widget.bridge=function(e,i){var s=i.prototype.widgetFullName||e;t.fn[e]=function(n){var o="string"==typeof n,a=l.call(arguments,1),r=this;return o?this.length||"instance"!==n?this.each(function(){var i,o=t.data(this,s);return"instance"===n?(r=o,!1):o?t.isFunction(o[n])&&"_"!==n.charAt(0)?(i=o[n].apply(o,a),i!==o&&void 0!==i?(r=i&&i.jquery?r.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+n+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; "+"attempted to call method '"+n+"'")}):r=void 0:(a.length&&(n=t.widget.extend.apply(null,[n].concat(a))),this.each(function(){var e=t.data(this,s);e?(e.option(n||{}),e._init&&e._init()):t.data(this,s,new i(n,this))})),r}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=h++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,i){e._removeClass(i,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,n,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},s=e.split("."),e=s.shift(),s.length){for(n=a[e]=t.widget.extend({},this.options[e]),o=0;s.length-1>o;o++)n[s[o]]=n[s[o]]||{},n=n[s[o]];if(e=s.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,s,n;for(i in e)n=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&n&&n.length&&(s=t(n.get()),this._removeClass(n,i),s.addClass(this._classes({element:s,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function i(i,o){var a,r;for(r=0;i.length>r;r++)a=n.classesElementLookup[i[r]]||t(),a=e.add?t(t.unique(a.get().concat(e.element.get()))):t(a.not(e.element).get()),n.classesElementLookup[i[r]]=a,s.push(i[r]),o&&e.classes[i[r]]&&s.push(e.classes[i[r]])}var s=[],n=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&i(e.keys.match(/\S+/g)||[],!0),e.extra&&i(e.extra.match(/\S+/g)||[]),s.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,function(s,n){-1!==t.inArray(e.target,n)&&(i.classesElementLookup[s]=t(n.not(e.target).get()))})},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,s){s="boolean"==typeof s?s:i;var n="string"==typeof t||null===t,o={extra:n?e:i,keys:n?t:e,element:n?this.element:t,add:s};return o.element.toggleClass(this._classes(o),s),this},_on:function(e,i,s){var n,o=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,function(s,a){function r(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||t.guid++);var h=s.match(/^([\w:-]*)\s*(.*)$/),l=h[1]+o.eventNamespace,c=h[2];c?n.on(l,c,r):i.on(l,r)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){"string"==typeof n&&(n={effect:n});var a,r=n?n===!0||"number"==typeof n?i:n.effect||i:e;n=n||{},"number"==typeof n&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}}),t.widget,function(){function e(t,e,i){return[parseFloat(t[0])*(u.test(t[0])?e/100:1),parseFloat(t[1])*(u.test(t[1])?i/100:1)]}function i(e,i){return parseInt(t.css(e,i),10)||0}function s(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}var n,o=Math.max,a=Math.abs,r=/left|center|right/,h=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,u=/%$/,d=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==n)return n;var e,i,s=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=s.children()[0];return t("body").append(s),e=o.offsetWidth,s.css("overflow","scroll"),i=o.offsetWidth,e===i&&(i=s[0].clientWidth),s.remove(),n=e-i},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),s=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),n="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,o="scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType,o=!s&&!n;return{element:i,isWindow:s,isDocument:n,offset:o?t(e).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},t.fn.position=function(n){if(!n||!n.of)return d.apply(this,arguments);n=t.extend({},n);var u,p,f,g,m,_,v=t(n.of),b=t.position.getWithinInfo(n.within),y=t.position.getScrollInfo(b),w=(n.collision||"flip").split(" "),k={};return _=s(v),v[0].preventDefault&&(n.at="left top"),p=_.width,f=_.height,g=_.offset,m=t.extend({},g),t.each(["my","at"],function(){var t,e,i=(n[this]||"").split(" ");1===i.length&&(i=r.test(i[0])?i.concat(["center"]):h.test(i[0])?["center"].concat(i):["center","center"]),i[0]=r.test(i[0])?i[0]:"center",i[1]=h.test(i[1])?i[1]:"center",t=l.exec(i[0]),e=l.exec(i[1]),k[this]=[t?t[0]:0,e?e[0]:0],n[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===n.at[0]?m.left+=p:"center"===n.at[0]&&(m.left+=p/2),"bottom"===n.at[1]?m.top+=f:"center"===n.at[1]&&(m.top+=f/2),u=e(k.at,p,f),m.left+=u[0],m.top+=u[1],this.each(function(){var s,r,h=t(this),l=h.outerWidth(),c=h.outerHeight(),d=i(this,"marginLeft"),_=i(this,"marginTop"),x=l+d+i(this,"marginRight")+y.width,C=c+_+i(this,"marginBottom")+y.height,D=t.extend({},m),I=e(k.my,h.outerWidth(),h.outerHeight());"right"===n.my[0]?D.left-=l:"center"===n.my[0]&&(D.left-=l/2),"bottom"===n.my[1]?D.top-=c:"center"===n.my[1]&&(D.top-=c/2),D.left+=I[0],D.top+=I[1],s={marginLeft:d,marginTop:_},t.each(["left","top"],function(e,i){t.ui.position[w[e]]&&t.ui.position[w[e]][i](D,{targetWidth:p,targetHeight:f,elemWidth:l,elemHeight:c,collisionPosition:s,collisionWidth:x,collisionHeight:C,offset:[u[0]+I[0],u[1]+I[1]],my:n.my,at:n.at,within:b,elem:h})}),n.using&&(r=function(t){var e=g.left-D.left,i=e+p-l,s=g.top-D.top,r=s+f-c,u={target:{element:v,left:g.left,top:g.top,width:p,height:f},element:{element:h,left:D.left,top:D.top,width:l,height:c},horizontal:0>i?"left":e>0?"right":"center",vertical:0>r?"top":s>0?"bottom":"middle"};l>p&&p>a(e+i)&&(u.horizontal="center"),c>f&&f>a(s+r)&&(u.vertical="middle"),u.important=o(a(e),a(i))>o(a(s),a(r))?"horizontal":"vertical",n.using.call(this,t,u)}),h.offset(t.extend(D,{using:r}))})},t.ui.position={fit:{left:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=t.left-e.collisionPosition.marginLeft,h=n-r,l=r+e.collisionWidth-a-n;e.collisionWidth>a?h>0&&0>=l?(i=t.left+h+e.collisionWidth-a-n,t.left+=h-i):t.left=l>0&&0>=h?n:h>l?n+a-e.collisionWidth:n:h>0?t.left+=h:l>0?t.left-=l:t.left=o(t.left-r,t.left)},top:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,a=e.within.height,r=t.top-e.collisionPosition.marginTop,h=n-r,l=r+e.collisionHeight-a-n;e.collisionHeight>a?h>0&&0>=l?(i=t.top+h+e.collisionHeight-a-n,t.top+=h-i):t.top=l>0&&0>=h?n:h>l?n+a-e.collisionHeight:n:h>0?t.top+=h:l>0?t.top-=l:t.top=o(t.top-r,t.top)}},flip:{left:function(t,e){var i,s,n=e.within,o=n.offset.left+n.scrollLeft,r=n.width,h=n.isWindow?n.scrollLeft:n.offset.left,l=t.left-e.collisionPosition.marginLeft,c=l-h,u=l+e.collisionWidth-r-h,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>c?(i=t.left+d+p+f+e.collisionWidth-r-o,(0>i||a(c)>i)&&(t.left+=d+p+f)):u>0&&(s=t.left-e.collisionPosition.marginLeft+d+p+f-h,(s>0||u>a(s))&&(t.left+=d+p+f))},top:function(t,e){var i,s,n=e.within,o=n.offset.top+n.scrollTop,r=n.height,h=n.isWindow?n.scrollTop:n.offset.top,l=t.top-e.collisionPosition.marginTop,c=l-h,u=l+e.collisionHeight-r-h,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>c?(s=t.top+p+f+g+e.collisionHeight-r-o,(0>s||a(c)>s)&&(t.top+=p+f+g)):u>0&&(i=t.top-e.collisionPosition.marginTop+p+f+g-h,(i>0||u>a(i))&&(t.top+=p+f+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,s){return!!t.data(e,s[3])}}),t.fn.extend({disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}});var c="ui-effects-",u="ui-effects-style",d="ui-effects-animated",p=t;t.effects={effect:{}},function(t,e){function i(t,e,i){var s=u[e.type]||{};return null==t?i||!e.def?null:e.def:(t=s.floor?~~t:parseFloat(t),isNaN(t)?e.def:s.mod?(t+s.mod)%s.mod:0>t?0:t>s.max?s.max:t)}function s(i){var s=l(),n=s._rgba=[];return i=i.toLowerCase(),f(h,function(t,o){var a,r=o.re.exec(i),h=r&&o.parse(r),l=o.space||"rgba";return h?(a=s[l](h),s[c[l].cache]=a[c[l].cache],n=s._rgba=a._rgba,!1):e}),n.length?("0,0,0,0"===n.join()&&t.extend(n,o.transparent),s):o[i]}function n(t,e,i){return i=(i+1)%1,1>6*i?t+6*(e-t)*i:1>2*i?e:2>3*i?t+6*(e-t)*(2/3-i):t}var o,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],l=t.Color=function(e,i,s,n){return new t.Color.fn.parse(e,i,s,n)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=l.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(c,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),l.fn=t.extend(l.prototype,{parse:function(n,a,r,h){if(n===e)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=t(n).css(a),a=e);var u=this,d=t.type(n),p=this._rgba=[];return a!==e&&(n=[n,a,r,h],d="array"),"string"===d?this.parse(s(n)||o._default):"array"===d?(f(c.rgba.props,function(t,e){p[e.idx]=i(n[e.idx],e)}),this):"object"===d?(n instanceof l?f(c,function(t,e){n[e.cache]&&(u[e.cache]=n[e.cache].slice())}):f(c,function(e,s){var o=s.cache;f(s.props,function(t,e){if(!u[o]&&s.to){if("alpha"===t||null==n[t])return;u[o]=s.to(u._rgba)}u[o][e.idx]=i(n[t],e,!0)}),u[o]&&0>t.inArray(null,u[o].slice(0,3))&&(u[o][3]=1,s.from&&(u._rgba=s.from(u[o])))}),this):e},is:function(t){var i=l(t),s=!0,n=this;return f(c,function(t,o){var a,r=i[o.cache];return r&&(a=n[o.cache]||o.to&&o.to(n._rgba)||[],f(o.props,function(t,i){return null!=r[i.idx]?s=r[i.idx]===a[i.idx]:e})),s}),s},_space:function(){var t=[],e=this;return f(c,function(i,s){e[s.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var s=l(t),n=s._space(),o=c[n],a=0===this.alpha()?l("transparent"):this,r=a[o.cache]||o.to(a._rgba),h=r.slice();return s=s[o.cache],f(o.props,function(t,n){var o=n.idx,a=r[o],l=s[o],c=u[n.type]||{};null!==l&&(null===a?h[o]=l:(c.mod&&(l-a>c.mod/2?a+=c.mod:a-l>c.mod/2&&(a-=c.mod)),h[o]=i((l-a)*e+a,n)))}),this[n](h)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),n=l(e)._rgba;return l(t.map(i,function(t,e){return(1-s)*n[e]+s*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),s=i.pop();return e&&i.push(~~(255*s)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,s=t[0]/255,n=t[1]/255,o=t[2]/255,a=t[3],r=Math.max(s,n,o),h=Math.min(s,n,o),l=r-h,c=r+h,u=.5*c;return e=h===r?0:s===r?60*(n-o)/l+360:n===r?60*(o-s)/l+120:60*(s-n)/l+240,i=0===l?0:.5>=u?l/c:l/(2-c),[Math.round(e)%360,i,u,null==a?1:a]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],s=t[2],o=t[3],a=.5>=s?s*(1+i):s+i-s*i,r=2*s-a;return[Math.round(255*n(r,a,e+1/3)),Math.round(255*n(r,a,e)),Math.round(255*n(r,a,e-1/3)),o]},f(c,function(s,n){var o=n.props,a=n.cache,h=n.to,c=n.from;l.fn[s]=function(s){if(h&&!this[a]&&(this[a]=h(this._rgba)),s===e)return this[a].slice();var n,r=t.type(s),u="array"===r||"object"===r?s:arguments,d=this[a].slice();return f(o,function(t,e){var s=u["object"===r?t:e.idx];null==s&&(s=d[e.idx]),d[e.idx]=i(s,e)}),c?(n=l(c(d)),n[a]=d,n):l(d)},f(o,function(e,i){l.fn[e]||(l.fn[e]=function(n){var o,a=t.type(n),h="alpha"===e?this._hsla?"hsla":"rgba":s,l=this[h](),c=l[i.idx];return"undefined"===a?c:("function"===a&&(n=n.call(this,c),a=t.type(n)),null==n&&i.empty?this:("string"===a&&(o=r.exec(n),o&&(n=c+parseFloat(o[2])*("+"===o[1]?1:-1))),l[i.idx]=n,this[h](l)))})})}),l.hook=function(e){var i=e.split(" ");f(i,function(e,i){t.cssHooks[i]={set:function(e,n){var o,a,r="";if("transparent"!==n&&("string"!==t.type(n)||(o=s(n)))){if(n=l(o||n),!d.rgba&&1!==n._rgba[3]){for(a="backgroundColor"===i?e.parentNode:e;(""===r||"transparent"===r)&&a&&a.style;)try{r=t.css(a,"backgroundColor"),a=a.parentNode}catch(h){}n=n.blend(r&&"transparent"!==r?r:"_default")}n=n.toRgbaString()}try{e.style[i]=n}catch(h){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=l(e.elem,i),e.end=l(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},l.hook(a),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(i,s){e["border"+s+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(p),function(){function e(e){var i,s,n=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(n&&n.length&&n[0]&&n[n[0]])for(s=n.length;s--;)i=n[s],"string"==typeof n[i]&&(o[t.camelCase(i)]=n[i]);else for(i in n)"string"==typeof n[i]&&(o[i]=n[i]);return o}function i(e,i){var s,o,a={};for(s in i)o=i[s],e[s]!==o&&(n[s]||(t.fx.step[s]||!isNaN(parseFloat(o)))&&(a[s]=o));return a}var s=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(p.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(n,o,a,r){var h=t.speed(o,a,r);return this.queue(function(){var o,a=t(this),r=a.attr("class")||"",l=h.children?a.find("*").addBack():a;l=l.map(function(){var i=t(this);return{el:i,start:e(this)}}),o=function(){t.each(s,function(t,e){n[e]&&a[e+"Class"](n[e])})},o(),l=l.map(function(){return this.end=e(this.el[0]),this.diff=i(this.start,this.end),this}),a.attr("class",r),l=l.map(function(){var e=this,i=t.Deferred(),s=t.extend({},h,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,s),i.promise()}),t.when.apply(t,l.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),h.complete.call(a[0])})})},t.fn.extend({addClass:function(e){return function(i,s,n,o){return s?t.effects.animateClass.call(this,{add:i},s,n,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,s,n,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},s,n,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(i,s,n,o,a){return"boolean"==typeof s||void 0===s?n?t.effects.animateClass.call(this,s?{add:i}:{remove:i},n,o,a):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},s,n,o)}}(t.fn.toggleClass),switchClass:function(e,i,s,n,o){return t.effects.animateClass.call(this,{add:i,remove:e},s,n,o)}})}(),function(){function e(e,i,s,n){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(n=i,s=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(n=s,s=i,i={}),t.isFunction(s)&&(n=s,s=null),i&&t.extend(e,i),s=s||i.duration,e.duration=t.fx.off?0:"number"==typeof s?s:s in t.fx.speeds?t.fx.speeds[s]:t.fx.speeds._default,e.complete=n||i.complete,e}function i(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"!=typeof e||e.effect?!1:!0:!0}function s(t,e){var i=e.outerWidth(),s=e.outerHeight(),n=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,o=n.exec(t)||["",0,i,s,0];return{top:parseFloat(o[1])||0,right:"auto"===o[2]?i:parseFloat(o[2]),bottom:"auto"===o[3]?s:parseFloat(o[3]),left:parseFloat(o[4])||0}}t.expr&&t.expr.filters&&t.expr.filters.animated&&(t.expr.filters.animated=function(e){return function(i){return!!t(i).data(d)||e(i)}}(t.expr.filters.animated)),t.uiBackCompat!==!1&&t.extend(t.effects,{save:function(t,e){for(var i=0,s=e.length;s>i;i++)null!==e[i]&&t.data(c+e[i],t[0].style[e[i]])},restore:function(t,e){for(var i,s=0,n=e.length;n>s;s++)null!==e[s]&&(i=t.data(c+e[s]),t.css(e[s],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},s=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(a){o=document.body}return e.wrap(s),(e[0]===o||t.contains(e[0],o))&&t(o).trigger("focus"),s=e.parent(),"static"===e.css("position")?(s.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,s){i[s]=e.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(n),s.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).trigger("focus")),e}}),t.extend(t.effects,{version:"1.12.1",define:function(e,i,s){return s||(s=i,i="effect"),t.effects.effect[e]=s,t.effects.effect[e].mode=i,s},scaledDimensions:function(t,e,i){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var s="horizontal"!==i?(e||100)/100:1,n="vertical"!==i?(e||100)/100:1;return{height:t.height()*n,width:t.width()*s,outerHeight:t.outerHeight()*n,outerWidth:t.outerWidth()*s}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,i){var s=t.queue();e>1&&s.splice.apply(s,[1,0].concat(s.splice(e,i))),t.dequeue()},saveStyle:function(t){t.data(u,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(u)||"",t.removeData(u)},mode:function(t,e){var i=t.is(":hidden");return"toggle"===e&&(e=i?"show":"hide"),(i?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var i,s;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=t[1]/e.width}return{x:s,y:i}},createPlaceholder:function(e){var i,s=e.css("position"),n=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(s)&&(s="absolute",i=t("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),"float":e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data(c+"placeholder",i)),e.css({position:s,left:n.left,top:n.top}),i},removePlaceholder:function(t){var e=c+"placeholder",i=t.data(e);i&&(i.remove(),t.removeData(e))},cleanUp:function(e){t.effects.restoreStyle(e),t.effects.removePlaceholder(e)},setTransition:function(e,i,s,n){return n=n||{},t.each(i,function(t,i){var o=e.cssUnit(i);o[0]>0&&(n[i]=o[0]*s+o[1])}),n}}),t.fn.extend({effect:function(){function i(e){function i(){r.removeData(d),t.effects.cleanUp(r),"hide"===s.mode&&r.hide(),a()}function a(){t.isFunction(h)&&h.call(r[0]),t.isFunction(e)&&e()}var r=t(this);s.mode=c.shift(),t.uiBackCompat===!1||o?"none"===s.mode?(r[l](),a()):n.call(r[0],s,i):(r.is(":hidden")?"hide"===l:"show"===l)?(r[l](),a()):n.call(r[0],s,a)}var s=e.apply(this,arguments),n=t.effects.effect[s.effect],o=n.mode,a=s.queue,r=a||"fx",h=s.complete,l=s.mode,c=[],u=function(e){var i=t(this),s=t.effects.mode(i,l)||o;i.data(d,!0),c.push(s),o&&("show"===s||s===o&&"hide"===s)&&i.show(),o&&"none"===s||t.effects.saveStyle(i),t.isFunction(e)&&e()};return t.fx.off||!n?l?this[l](s.duration,h):this.each(function(){h&&h.call(this)}):a===!1?this.each(u).each(i):this.queue(r,u).queue(r,i)},show:function(t){return function(s){if(i(s))return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="show",this.effect.call(this,n)
}}(t.fn.show),hide:function(t){return function(s){if(i(s))return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(t.fn.hide),toggle:function(t){return function(s){if(i(s)||"boolean"==typeof s)return t.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),s=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(s=[parseFloat(i),e])}),s},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):s(this.css("clip"),this)},transfer:function(e,i){var s=t(this),n=t(e.to),o="fixed"===n.css("position"),a=t("body"),r=o?a.scrollTop():0,h=o?a.scrollLeft():0,l=n.offset(),c={top:l.top-r,left:l.left-h,height:n.innerHeight(),width:n.innerWidth()},u=s.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:u.top-r,left:u.left-h,height:s.innerHeight(),width:s.innerWidth(),position:o?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){d.remove(),t.isFunction(i)&&i()})}}),t.fx.step.clip=function(e){e.clipInit||(e.start=t(e.elem).cssClip(),"string"==typeof e.end&&(e.end=s(e.end,e.elem)),e.clipInit=!0),t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;((e=Math.pow(2,--i))-1)/11>t;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?i(2*t)/2:1-i(-2*t+2)/2}})}();var f=t.effects;t.effects.define("blind","hide",function(e,i){var s={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},n=t(this),o=e.direction||"up",a=n.cssClip(),r={clip:t.extend({},a)},h=t.effects.createPlaceholder(n);r.clip[s[o][0]]=r.clip[s[o][1]],"show"===e.mode&&(n.cssClip(r.clip),h&&h.css(t.effects.clipToBox(r)),r.clip=a),h&&h.animate(t.effects.clipToBox(r),e.duration,e.easing),n.animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("bounce",function(e,i){var s,n,o,a=t(this),r=e.mode,h="hide"===r,l="show"===r,c=e.direction||"up",u=e.distance,d=e.times||5,p=2*d+(l||h?1:0),f=e.duration/p,g=e.easing,m="up"===c||"down"===c?"top":"left",_="up"===c||"left"===c,v=0,b=a.queue().length;for(t.effects.createPlaceholder(a),o=a.css(m),u||(u=a["top"===m?"outerHeight":"outerWidth"]()/3),l&&(n={opacity:1},n[m]=o,a.css("opacity",0).css(m,_?2*-u:2*u).animate(n,f,g)),h&&(u/=Math.pow(2,d-1)),n={},n[m]=o;d>v;v++)s={},s[m]=(_?"-=":"+=")+u,a.animate(s,f,g).animate(n,f,g),u=h?2*u:u/2;h&&(s={opacity:0},s[m]=(_?"-=":"+=")+u,a.animate(s,f,g)),a.queue(i),t.effects.unshift(a,b,p+1)}),t.effects.define("clip","hide",function(e,i){var s,n={},o=t(this),a=e.direction||"vertical",r="both"===a,h=r||"horizontal"===a,l=r||"vertical"===a;s=o.cssClip(),n.clip={top:l?(s.bottom-s.top)/2:s.top,right:h?(s.right-s.left)/2:s.right,bottom:l?(s.bottom-s.top)/2:s.bottom,left:h?(s.right-s.left)/2:s.left},t.effects.createPlaceholder(o),"show"===e.mode&&(o.cssClip(n.clip),n.clip=s),o.animate(n,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("drop","hide",function(e,i){var s,n=t(this),o=e.mode,a="show"===o,r=e.direction||"left",h="up"===r||"down"===r?"top":"left",l="up"===r||"left"===r?"-=":"+=",c="+="===l?"-=":"+=",u={opacity:0};t.effects.createPlaceholder(n),s=e.distance||n["top"===h?"outerHeight":"outerWidth"](!0)/2,u[h]=l+s,a&&(n.css(u),u[h]=c+s,u.opacity=1),n.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("explode","hide",function(e,i){function s(){b.push(this),b.length===u*d&&n()}function n(){p.css({visibility:"visible"}),t(b).remove(),i()}var o,a,r,h,l,c,u=e.pieces?Math.round(Math.sqrt(e.pieces)):3,d=u,p=t(this),f=e.mode,g="show"===f,m=p.show().css("visibility","hidden").offset(),_=Math.ceil(p.outerWidth()/d),v=Math.ceil(p.outerHeight()/u),b=[];for(o=0;u>o;o++)for(h=m.top+o*v,c=o-(u-1)/2,a=0;d>a;a++)r=m.left+a*_,l=a-(d-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-a*_,top:-o*v}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:_,height:v,left:r+(g?l*_:0),top:h+(g?c*v:0),opacity:g?0:1}).animate({left:r+(g?0:l*_),top:h+(g?0:c*v),opacity:g?1:0},e.duration||500,e.easing,s)}),t.effects.define("fade","toggle",function(e,i){var s="show"===e.mode;t(this).css("opacity",s?0:1).animate({opacity:s?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("fold","hide",function(e,i){var s=t(this),n=e.mode,o="show"===n,a="hide"===n,r=e.size||15,h=/([0-9]+)%/.exec(r),l=!!e.horizFirst,c=l?["right","bottom"]:["bottom","right"],u=e.duration/2,d=t.effects.createPlaceholder(s),p=s.cssClip(),f={clip:t.extend({},p)},g={clip:t.extend({},p)},m=[p[c[0]],p[c[1]]],_=s.queue().length;h&&(r=parseInt(h[1],10)/100*m[a?0:1]),f.clip[c[0]]=r,g.clip[c[0]]=r,g.clip[c[1]]=0,o&&(s.cssClip(g.clip),d&&d.css(t.effects.clipToBox(g)),g.clip=p),s.queue(function(i){d&&d.animate(t.effects.clipToBox(f),u,e.easing).animate(t.effects.clipToBox(g),u,e.easing),i()}).animate(f,u,e.easing).animate(g,u,e.easing).queue(i),t.effects.unshift(s,_,4)}),t.effects.define("highlight","show",function(e,i){var s=t(this),n={backgroundColor:s.css("backgroundColor")};"hide"===e.mode&&(n.opacity=0),t.effects.saveStyle(s),s.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(n,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("size",function(e,i){var s,n,o,a=t(this),r=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],l=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=e.mode,u="effect"!==c,d=e.scale||"both",p=e.origin||["middle","center"],f=a.css("position"),g=a.position(),m=t.effects.scaledDimensions(a),_=e.from||m,v=e.to||t.effects.scaledDimensions(a,0);t.effects.createPlaceholder(a),"show"===c&&(o=_,_=v,v=o),n={from:{y:_.height/m.height,x:_.width/m.width},to:{y:v.height/m.height,x:v.width/m.width}},("box"===d||"both"===d)&&(n.from.y!==n.to.y&&(_=t.effects.setTransition(a,h,n.from.y,_),v=t.effects.setTransition(a,h,n.to.y,v)),n.from.x!==n.to.x&&(_=t.effects.setTransition(a,l,n.from.x,_),v=t.effects.setTransition(a,l,n.to.x,v))),("content"===d||"both"===d)&&n.from.y!==n.to.y&&(_=t.effects.setTransition(a,r,n.from.y,_),v=t.effects.setTransition(a,r,n.to.y,v)),p&&(s=t.effects.getBaseline(p,m),_.top=(m.outerHeight-_.outerHeight)*s.y+g.top,_.left=(m.outerWidth-_.outerWidth)*s.x+g.left,v.top=(m.outerHeight-v.outerHeight)*s.y+g.top,v.left=(m.outerWidth-v.outerWidth)*s.x+g.left),a.css(_),("content"===d||"both"===d)&&(h=h.concat(["marginTop","marginBottom"]).concat(r),l=l.concat(["marginLeft","marginRight"]),a.find("*[width]").each(function(){var i=t(this),s=t.effects.scaledDimensions(i),o={height:s.height*n.from.y,width:s.width*n.from.x,outerHeight:s.outerHeight*n.from.y,outerWidth:s.outerWidth*n.from.x},a={height:s.height*n.to.y,width:s.width*n.to.x,outerHeight:s.height*n.to.y,outerWidth:s.width*n.to.x};n.from.y!==n.to.y&&(o=t.effects.setTransition(i,h,n.from.y,o),a=t.effects.setTransition(i,h,n.to.y,a)),n.from.x!==n.to.x&&(o=t.effects.setTransition(i,l,n.from.x,o),a=t.effects.setTransition(i,l,n.to.x,a)),u&&t.effects.saveStyle(i),i.css(o),i.animate(a,e.duration,e.easing,function(){u&&t.effects.restoreStyle(i)})})),a.animate(v,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var e=a.offset();0===v.opacity&&a.css("opacity",_.opacity),u||(a.css("position","static"===f?"relative":f).offset(e),t.effects.saveStyle(a)),i()}})}),t.effects.define("scale",function(e,i){var s=t(this),n=e.mode,o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"effect"!==n?0:100),a=t.extend(!0,{from:t.effects.scaledDimensions(s),to:t.effects.scaledDimensions(s,o,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(a.from.opacity=1,a.to.opacity=0),t.effects.effect.size.call(this,a,i)}),t.effects.define("puff","hide",function(e,i){var s=t.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});t.effects.effect.scale.call(this,s,i)}),t.effects.define("pulsate","show",function(e,i){var s=t(this),n=e.mode,o="show"===n,a="hide"===n,r=o||a,h=2*(e.times||5)+(r?1:0),l=e.duration/h,c=0,u=1,d=s.queue().length;for((o||!s.is(":visible"))&&(s.css("opacity",0).show(),c=1);h>u;u++)s.animate({opacity:c},l,e.easing),c=1-c;s.animate({opacity:c},l,e.easing),s.queue(i),t.effects.unshift(s,d,h+1)}),t.effects.define("shake",function(e,i){var s=1,n=t(this),o=e.direction||"left",a=e.distance||20,r=e.times||3,h=2*r+1,l=Math.round(e.duration/h),c="up"===o||"down"===o?"top":"left",u="up"===o||"left"===o,d={},p={},f={},g=n.queue().length;for(t.effects.createPlaceholder(n),d[c]=(u?"-=":"+=")+a,p[c]=(u?"+=":"-=")+2*a,f[c]=(u?"-=":"+=")+2*a,n.animate(d,l,e.easing);r>s;s++)n.animate(p,l,e.easing).animate(f,l,e.easing);n.animate(p,l,e.easing).animate(d,l/2,e.easing).queue(i),t.effects.unshift(n,g,h+1)}),t.effects.define("slide","show",function(e,i){var s,n,o=t(this),a={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},r=e.mode,h=e.direction||"left",l="up"===h||"down"===h?"top":"left",c="up"===h||"left"===h,u=e.distance||o["top"===l?"outerHeight":"outerWidth"](!0),d={};t.effects.createPlaceholder(o),s=o.cssClip(),n=o.position()[l],d[l]=(c?-1:1)*u+n,d.clip=o.cssClip(),d.clip[a[h][1]]=d.clip[a[h][0]],"show"===r&&(o.cssClip(d.clip),o.css(l,d[l]),d.clip=s,d[l]=n),o.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:i})});var f;t.uiBackCompat!==!1&&(f=t.effects.define("transfer",function(e,i){t(this).transfer(e,i)})),t.ui.focusable=function(i,s){var n,o,a,r,h,l=i.nodeName.toLowerCase();return"area"===l?(n=i.parentNode,o=n.name,i.href&&o&&"map"===n.nodeName.toLowerCase()?(a=t("img[usemap='#"+o+"']"),a.length>0&&a.is(":visible")):!1):(/^(input|select|textarea|button|object)$/.test(l)?(r=!i.disabled,r&&(h=t(i).closest("fieldset")[0],h&&(r=!h.disabled))):r="a"===l?i.href||s:s,r&&t(i).is(":visible")&&e(t(i)))},t.extend(t.expr[":"],{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}}),t.ui.focusable,t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)},t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout(function(){var i=e.data("ui-form-reset-instances");t.each(i,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}},"1.7"===t.fn.jquery.substring(0,3)&&(t.each(["Width","Height"],function(e,i){function s(e,i,s,o){return t.each(n,function(){i-=parseFloat(t.css(e,"padding"+this))||0,s&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?a["inner"+i].call(this):this.each(function(){t(this).css(o,s(this,e)+"px")})},t.fn["outer"+i]=function(e,n){return"number"!=typeof e?a["outer"+i].call(this,e):this.each(function(){t(this).css(o,s(this,e,!0,n)+"px")})}}),t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.ui.escapeSelector=function(){var t=/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g;return function(e){return e.replace(t,"\\$1")}}(),t.fn.labels=function(){var e,i,s,n,o;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(n=this.eq(0).parents("label"),s=this.attr("id"),s&&(e=this.eq(0).parents().last(),o=e.add(e.length?e.siblings():this.siblings()),i="label[for='"+t.ui.escapeSelector(s)+"']",n=n.add(o.find(i).addBack(i))),this.pushStack(n))},t.fn.scrollParent=function(e){var i=this.css("position"),s="absolute"===i,n=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return s&&"static"===e.css("position")?!1:n.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&o.length?o:t(this[0].ownerDocument||document)},t.extend(t.expr[":"],{tabbable:function(e){var i=t.attr(e,"tabindex"),s=null!=i;return(!s||i>=0)&&t.ui.focusable(e,s)}}),t.fn.extend({uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),0>e.active&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e,i,s=this.options.icons;s&&(e=t("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+s.header),e.prependTo(this.headers),i=this.active.children(".ui-accordion-header-icon"),this._removeClass(i,s.header)._addClass(i,null,s.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?(this._activate(e),void 0):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||this.options.active!==!1||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),void 0)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,s=this.headers.length,n=this.headers.index(e.target),o=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:o=this.headers[(n+1)%s];break;case i.LEFT:case i.UP:o=this.headers[(n-1+s)%s];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:o=this.headers[0];break;case i.END:o=this.headers[s-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),t(o).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,i=this.options,s=i.heightStyle,n=this.element.parent();this.active=this._findActive(i.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var e=t(this),i=e.uniqueId().attr("id"),s=e.next(),n=s.uniqueId().attr("id");e.attr("aria-controls",n),s.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===s?(e=n.height(),this.element.siblings(":visible").each(function(){var i=t(this),s=i.css("position");"absolute"!==s&&"fixed"!==s&&(e-=i.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===s&&(e=0,this.headers.next().each(function(){var i=t(this).is(":visible");i||t(this).show(),e=Math.max(e,t(this).css("height","").height()),i||t(this).hide()}).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i,s,n=this.options,o=this.active,a=t(e.currentTarget),r=a[0]===o[0],h=r&&n.collapsible,l=h?t():a.next(),c=o.next(),u={oldHeader:o,oldPanel:c,newHeader:h?t():a,newPanel:l};e.preventDefault(),r&&!n.collapsible||this._trigger("beforeActivate",e,u)===!1||(n.active=h?!1:this.headers.index(a),this.active=r?t():a,this._toggle(u),this._removeClass(o,"ui-accordion-header-active","ui-state-active"),n.icons&&(i=o.children(".ui-accordion-header-icon"),this._removeClass(i,null,n.icons.activeHeader)._addClass(i,null,n.icons.header)),r||(this._removeClass(a,"ui-accordion-header-collapsed")._addClass(a,"ui-accordion-header-active","ui-state-active"),n.icons&&(s=a.children(".ui-accordion-header-icon"),this._removeClass(s,null,n.icons.header)._addClass(s,null,n.icons.activeHeader)),this._addClass(a.next(),"ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,s=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=s,this.options.animate?this._animate(i,s,e):(s.hide(),i.show(),this._toggleComplete(e)),s.attr({"aria-hidden":"true"}),s.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&s.length?s.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,i){var s,n,o,a=this,r=0,h=t.css("box-sizing"),l=t.length&&(!e.length||t.index()<e.index()),c=this.options.animate||{},u=l&&c.down||c,d=function(){a._toggleComplete(i)};return"number"==typeof u&&(o=u),"string"==typeof u&&(n=u),n=n||u.easing||c.easing,o=o||u.duration||c.duration,e.length?t.length?(s=t.show().outerHeight(),e.animate(this.hideProps,{duration:o,easing:n,step:function(t,e){e.now=Math.round(t)}}),t.hide().animate(this.showProps,{duration:o,easing:n,complete:d,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?"content-box"===h&&(r+=i.now):"content"!==a.options.heightStyle&&(i.now=Math.round(s-e.outerHeight()-r),r=0)}}),void 0):e.animate(this.hideProps,o,n,d):t.animate(this.showProps,o,n,d)},_toggleComplete:function(t){var e=t.oldPanel,i=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(i,"ui-accordion-header-active")._addClass(i,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(i){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var i=t(e.target),s=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&s.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var i=t(e.target).closest(".ui-menu-item"),s=t(e.currentTarget);i[0]===s[0]&&(this._removeClass(s.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,s))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){var i=!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]));i&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),i=e.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),i.children().each(function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var i,s,n,o,a=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:a=!1,s=this.previousFilter||"",o=!1,n=e.keyCode>=96&&105>=e.keyCode?""+(e.keyCode-96):String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),n===s?o=!0:n=s+n,i=this._filterMenuItems(n),i=o&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(n=String.fromCharCode(e.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(e,i),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}a&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i,s,n,o,a=this,r=this.options.icons.submenu,h=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),s=h.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),i=e.prev(),s=t("<span>").data("ui-menu-submenu-caret",!0);a._addClass(s,"ui-menu-icon","ui-icon "+r),i.attr("aria-haspopup","true").prepend(s),e.attr("aria-labelledby",i.attr("id"))}),this._addClass(s,"ui-menu","ui-widget ui-widget-content ui-front"),e=h.add(this.element),i=e.find(this.options.items),i.not(".ui-menu-item").each(function(){var e=t(this);a._isDivider(e)&&a._addClass(e,"ui-menu-divider","ui-widget-content")}),n=i.not(".ui-menu-item, .ui-menu-divider"),o=n.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(n,"ui-menu-item")._addClass(o,"ui-menu-item-wrapper"),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t+""),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var i,s,n;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),s=this.active.children(".ui-menu-item-wrapper"),this._addClass(s,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),n=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,s,n,o,a,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,n=e.offset().top-this.activeMenu.offset().top-i-s,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),r=e.outerHeight(),0>n?this.activeMenu.scrollTop(o+n):n+r>a&&this.activeMenu.scrollTop(o+n-a+r))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(e),this._removeClass(s.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=s},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var s;this.active&&(s="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[e]()),this.focus(i,s)},nextPage:function(e){var i,s,n;return this.active?(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),0>i.offset().top-s-n}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(e),void 0)},previousPage:function(e){var i,s,n;return this.active?(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-s+n>0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items).first())),void 0):(this.next(e),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)},_filterMenuItems:function(e){var i=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),s=RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return s.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))})}}),t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,i,s,n=this.element[0].nodeName.toLowerCase(),o="textarea"===n,a="input"===n;
this.isMultiLine=o||!a&&this._isContentEditable(this.element),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return e=!0,s=!0,i=!0,void 0;e=!1,s=!1,i=!1;var o=t.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",n);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",n);break;case o.UP:e=!0,this._keyEvent("previous",n);break;case o.DOWN:e=!0,this._keyEvent("next",n);break;case o.ENTER:this.menu.active&&(e=!0,n.preventDefault(),this.menu.select(n));break;case o.TAB:this.menu.active&&this.menu.select(n);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(e)return e=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&s.preventDefault(),void 0;if(!i){var n=t.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(t){return s?(s=!1,t.preventDefault(),void 0):(this._searchTimeout(t),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(t),this._change(t),void 0)}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(e,i){var s,n;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)}),void 0):(n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:n})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value),s=i.item.attr("aria-label")||n.value,s&&t.trim(s).length&&(this.liveRegion.children().hide(),t("<div>").text(s).appendTo(this.liveRegion)),void 0)},menuselect:function(e,i){var s=i.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=s})),!1!==this._trigger("select",e,{item:s})&&this._value(s.value),this.term=this._value(),this.close(e),this.selectedItem=s}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var i=this.menu.element[0];return e.target===this.element[0]||e.target===i||t.contains(i,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,s=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,s){s(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,n){s.xhr&&s.xhr.abort(),s.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){n(t)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),i=this.menu.element.is(":visible"),s=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;(!e||e&&!i&&!s)&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var s=this;t.each(i,function(t,i){s._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<div>").text(i.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[t](e),void 0):(this.search(null,e),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var s=RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return s.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))}}),t.ui.autocomplete;var g=/ui-corner-([a-z]){2,6}/g;t.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,i=[];t.each(this.options.items,function(s,n){var o,a={};return n?"controlgroupLabel"===s?(o=e.element.find(n),o.each(function(){var e=t(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),e._addClass(o,null,"ui-widget ui-widget-content ui-state-default"),i=i.concat(o.get()),void 0):(t.fn[s]&&(a=e["_"+s+"Options"]?e["_"+s+"Options"]("middle"):{classes:{}},e.element.find(n).each(function(){var n=t(this),o=n[s]("instance"),r=t.widget.extend({},a);if("button"!==s||!n.parent(".ui-spinner").length){o||(o=n[s]()[s]("instance")),o&&(r.classes=e._resolveClassesValues(r.classes,o)),n[s](r);var h=n[s]("widget");t.data(h[0],"ui-controlgroup-data",o?o:n[s]("instance")),i.push(h[0])}})),void 0):void 0}),this.childWidgets=t(t.unique(i)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var i=t(this),s=i.data("ui-controlgroup-data");s&&s[e]&&s[e]()})},_updateCornerClass:function(t,e){var i="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all",s=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,i),this._addClass(t,null,s)},_buildSimpleOptions:function(t,e){var i="vertical"===this.options.direction,s={classes:{}};return s.classes[e]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[t],s},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:e?"auto":!1,classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(e,i){var s={};return t.each(e,function(n){var o=i.options.classes[n]||"";o=t.trim(o.replace(g,"")),s[n]=(o+" "+e[n]).replace(/\s+/g," ")}),s},_setOption:function(t,e){return"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"===t?(this._callChildMethod(e?"disable":"enable"),void 0):(this.refresh(),void 0)},refresh:function(){var e,i=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],function(t,s){var n=e[s]().data("ui-controlgroup-data");if(n&&i["_"+n.widgetName+"Options"]){var o=i["_"+n.widgetName+"Options"](1===e.length?"only":s);o.classes=i._resolveClassesValues(o.classes,n),n.element[n.widgetName](o)}else i._updateCornerClass(e[s](),s)}),this._callChildMethod("refresh"))}}),t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,i,s=this,n=this._super()||{};return this._readType(),i=this.element.labels(),this.label=t(i[i.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){s.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML}),this.originalLabel&&(n.label=this.originalLabel),e=this.element[0].disabled,null!=e&&(n.disabled=e),n},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e,i=this.element[0].name,s="input[name='"+t.ui.escapeSelector(i)+"']";return i?(e=this.form.length?t(this.form[0].elements).filter(s):t(s).filter(function(){return 0===t(this).form().length}),e.not(this.element)):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){return"label"!==t||e?(this._super(t,e),"disabled"===t?(this._toggleClass(this.label,null,"ui-state-disabled",e),this.element[0].disabled=e,void 0):(this.refresh(),void 0)):void 0},_updateIcon:function(e){var i="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(i+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):i+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",i),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]),t.ui.checkboxradio,t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),t=this.element[0].disabled,null!=t&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,i){var s="iconPosition"!==e,n=s?this.options.iconPosition:i,o="top"===n||"bottom"===n;this.icon?s&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),s&&this._addClass(this.icon,null,i),this._attachIcon(n),o?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(n))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=void 0===t.showLabel?this.options.showLabel:t.showLabel,i=void 0===t.icon?this.options.icon:t.icon;e||i||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e,e&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),t.uiBackCompat!==!1&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){return"text"===t?(this._super("showLabel",e),void 0):("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),this._superApply(arguments),void 0)}}),t.fn.button=function(e){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?e.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(t.fn.button),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),t.ui.button,t.extend(t.ui,{datepicker:{version:"1.12.1"}});var m;t.extend(s.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return a(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var s,n,o;s=e.nodeName.toLowerCase(),n="div"===s||"span"===s,e.id||(this.uuid+=1,e.id="dp"+this.uuid),o=this._newInst(t(e),n),o.settings=t.extend({},i||{}),"input"===s?this._connectDatepicker(e,o):n&&this._inlineDatepicker(e,o)},_newInst:function(e,i){var s=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var s=t(e);i.append=t([]),i.trigger=t([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var s,n,o,a=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),a&&(i.append=t("<span class='"+this._appendClass+"'>"+a+"</span>"),e[r?"before":"after"](i.append)),e.off("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),s=this._get(i,"showOn"),("focus"===s||"both"===s)&&e.on("focus",this._showDatepicker),("button"===s||"both"===s)&&(n=this._get(i,"buttonText"),o=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:n,title:n}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:n,title:n}):n)),e[r?"before":"after"](i.trigger),i.trigger.on("click",function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,s,n,o=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function(t){for(i=0,s=0,n=0;t.length>n;n++)t[n].length>i&&(i=t[n].length,s=n);return s},o.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,i){var s=t(e);s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,s,n,o){var r,h,l,c,u,d=this._dialogInst;return d||(this.uuid+=1,r="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+r+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),d=this._dialogInst=this._newInst(this._dialogInput,!1),d.settings={},t.data(this._dialogInput[0],"datepicker",d)),a(d.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(d,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(h=document.documentElement.clientWidth,l=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+c,l/2-150+u]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(e){var i,s=t(e),n=t.data(e,"datepicker");s.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===i?(n.append.remove(),n.trigger.remove(),s.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):("div"===i||"span"===i)&&s.removeClass(this.markerClassName).empty(),m===n&&(m=null))},_enableDatepicker:function(e){var i,s,n=t(e),o=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,s,n=t(e),o=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,s){var n,o,r,h,l=this._getInst(e);return 2===arguments.length&&"string"==typeof i?"defaults"===i?t.extend({},t.datepicker._defaults):l?"all"===i?t.extend({},l.settings):this._get(l,i):null:(n=i||{},"string"==typeof i&&(n={},n[i]=s),l&&(this._curInst===l&&this._hideDatepicker(),o=this._getDateDatepicker(e,!0),r=this._getMinMaxDate(l,"min"),h=this._getMinMaxDate(l,"max"),a(l.settings,n),null!==r&&void 0!==n.dateFormat&&void 0===n.minDate&&(l.settings.minDate=this._formatDate(l,r)),null!==h&&void 0!==n.dateFormat&&void 0===n.maxDate&&(l.settings.maxDate=this._formatDate(l,h)),"disabled"in n&&(n.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),l),this._autoSize(l),this._setDate(l,o),this._updateAlternate(l),this._updateDatepicker(l)),void 0)},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,s,n,o=t.datepicker._getInst(e.target),a=!0,r=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),a=!1;break;case 13:return n=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv),n[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,n[0]),i=t.datepicker._get(o,"onSelect"),i?(s=t.datepicker._formatDate(o),i.apply(o.input?o.input[0]:null,[s,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),a=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),a=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?1:-1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),a=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?-1:1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),a=e.ctrlKey||e.metaKey;break;default:a=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):a=!1;a&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,s,n=t.datepicker._getInst(e.target);return t.datepicker._get(n,"constrainInput")?(i=t.datepicker._possibleChars(t.datepicker._get(n,"dateFormat")),s=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">s||!i||i.indexOf(s)>-1):void 0},_doKeyUp:function(e){var i,s=t.datepicker._getInst(e.target);if(s.input.val()!==s.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(s,"dateFormat"),s.input?s.input.val():null,t.datepicker._getFormatConfig(s)),i&&(t.datepicker._setDateFromField(s),t.datepicker._updateAlternate(s),t.datepicker._updateDatepicker(s))}catch(n){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var s,n,o,r,h,l,c;s=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==s&&(t.datepicker._curInst.dpDiv.stop(!0,!0),s&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),n=t.datepicker._get(s,"beforeShow"),o=n?n.apply(e,[e,s]):{},o!==!1&&(a(s.settings,o),s.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(s),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),r=!1,t(e).parents().each(function(){return r|="fixed"===t(this).css("position"),!r}),h={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,s.dpDiv.empty(),s.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(s),h=t.datepicker._checkOffset(s,h,r),s.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":r?"fixed":"absolute",display:"none",left:h.left+"px",top:h.top+"px"}),s.inline||(l=t.datepicker._get(s,"showAnim"),c=t.datepicker._get(s,"duration"),s.dpDiv.css("z-index",i(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?s.dpDiv.show(l,t.datepicker._get(s,"showOptions"),c):s.dpDiv[l||"show"](l?c:null),t.datepicker._shouldFocusInput(s)&&s.input.trigger("focus"),t.datepicker._curInst=s))
}},_updateDatepicker:function(e){this.maxRows=4,m=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i,s=this._getNumberOfMonths(e),n=s[1],a=17,r=e.dpDiv.find("."+this._dayOverClass+" a");r.length>0&&o.apply(r.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&e.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",a*n+"em"),e.dpDiv[(1!==s[0]||1!==s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,s){var n=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,h=document.documentElement.clientWidth+(s?0:t(document).scrollLeft()),l=document.documentElement.clientHeight+(s?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?n-a:0,i.left-=s&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=s&&i.top===e.input.offset().top+r?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>h&&h>n?Math.abs(i.left+n-h):0),i.top-=Math.min(i.top,i.top+o>l&&l>o?Math.abs(o+r):0),i},_findPos:function(e){for(var i,s=this._getInst(e),n=this._get(s,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[n?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,s,n,o,a=this._curInst;!a||e&&a!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(a,"showAnim"),s=this._get(a,"duration"),n=function(){t.datepicker._tidyDialog(a)},t.effects&&(t.effects.effect[i]||t.effects[i])?a.dpDiv.hide(i,t.datepicker._get(a,"showOptions"),s,n):a.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?s:null,n),i||n(),this._datepickerShowing=!1,o=this._get(a,"onClose"),o&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),s=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&0===i.parents("#"+t.datepicker._mainDivId).length&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==s)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,s){var n=t(e),o=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(o,i+("M"===s?this._get(o,"showCurrentAtPos"):0),s),this._updateDatepicker(o))},_gotoToday:function(e){var i,s=t(e),n=this._getInst(s[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(s)},_selectMonthYear:function(e,i,s){var n=t(e),o=this._getInst(n[0]);o["selected"+("M"===s?"Month":"Year")]=o["draw"+("M"===s?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(n)},_selectDay:function(e,i,s,n){var o,a=t(e);t(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(o=this._getInst(a[0]),o.selectedDay=o.currentDay=t("a",n).html(),o.selectedMonth=o.currentMonth=i,o.selectedYear=o.currentYear=s,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var s,n=t(e),o=this._getInst(n[0]);i=null!=i?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),s=this._get(o,"onSelect"),s?s.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var i,s,n,o=this._get(e,"altField");o&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),s=this._getDate(e),n=this.formatDate(i,s,this._getFormatConfig(e)),t(o).val(n))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,s){if(null==e||null==i)throw"Invalid arguments";if(i="object"==typeof i?""+i:i+"",""===i)return null;var n,o,a,r,h=0,l=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),u=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,d=(s?s.dayNames:null)||this._defaults.dayNames,p=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,f=(s?s.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,_=-1,v=-1,b=!1,y=function(t){var i=e.length>n+1&&e.charAt(n+1)===t;return i&&n++,i},w=function(t){var e=y(t),s="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,n="y"===t?s:1,o=RegExp("^\\d{"+n+","+s+"}"),a=i.substring(h).match(o);if(!a)throw"Missing number at position "+h;return h+=a[0].length,parseInt(a[0],10)},k=function(e,s,n){var o=-1,a=t.map(y(e)?n:s,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(a,function(t,e){var s=e[1];return i.substr(h,s.length).toLowerCase()===s.toLowerCase()?(o=e[0],h+=s.length,!1):void 0}),-1!==o)return o+1;throw"Unknown name at position "+h},x=function(){if(i.charAt(h)!==e.charAt(n))throw"Unexpected literal at position "+h;h++};for(n=0;e.length>n;n++)if(b)"'"!==e.charAt(n)||y("'")?x():b=!1;else switch(e.charAt(n)){case"d":_=w("d");break;case"D":k("D",u,d);break;case"o":v=w("o");break;case"m":m=w("m");break;case"M":m=k("M",p,f);break;case"y":g=w("y");break;case"@":r=new Date(w("@")),g=r.getFullYear(),m=r.getMonth()+1,_=r.getDate();break;case"!":r=new Date((w("!")-this._ticksTo1970)/1e4),g=r.getFullYear(),m=r.getMonth()+1,_=r.getDate();break;case"'":y("'")?x():b=!0;break;default:x()}if(i.length>h&&(a=i.substr(h),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c>=g?0:-100)),v>-1)for(m=1,_=v;;){if(o=this._getDaysInMonth(g,m-1),o>=_)break;m++,_-=o}if(r=this._daylightSavingAdjust(new Date(g,m-1,_)),r.getFullYear()!==g||r.getMonth()+1!==m||r.getDate()!==_)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,i){if(!e)return"";var s,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,h=function(e){var i=t.length>s+1&&t.charAt(s+1)===e;return i&&s++,i},l=function(t,e,i){var s=""+e;if(h(t))for(;i>s.length;)s="0"+s;return s},c=function(t,e,i,s){return h(t)?s[e]:i[e]},u="",d=!1;if(e)for(s=0;t.length>s;s++)if(d)"'"!==t.charAt(s)||h("'")?u+=t.charAt(s):d=!1;else switch(t.charAt(s)){case"d":u+=l("d",e.getDate(),2);break;case"D":u+=c("D",e.getDay(),n,o);break;case"o":u+=l("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=l("m",e.getMonth()+1,2);break;case"M":u+=c("M",e.getMonth(),a,r);break;case"y":u+=h("y")?e.getFullYear():(10>e.getFullYear()%100?"0":"")+e.getFullYear()%100;break;case"@":u+=e.getTime();break;case"!":u+=1e4*e.getTime()+this._ticksTo1970;break;case"'":h("'")?u+="'":d=!0;break;default:u+=t.charAt(s)}return u},_possibleChars:function(t){var e,i="",s=!1,n=function(i){var s=t.length>e+1&&t.charAt(e+1)===i;return s&&e++,s};for(e=0;t.length>e;e++)if(s)"'"!==t.charAt(e)||n("'")?i+=t.charAt(e):s=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":n("'")?i+="'":s=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),s=t.lastVal=t.input?t.input.val():null,n=this._getDefaultDate(t),o=n,a=this._getFormatConfig(t);try{o=this.parseDate(i,s,a)||n}catch(r){s=e?"":s}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=s?o.getDate():0,t.currentMonth=s?o.getMonth():0,t.currentYear=s?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,s){var n=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},o=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(s){}for(var n=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,o=n.getFullYear(),a=n.getMonth(),r=n.getDate(),h=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=h.exec(i);l;){switch(l[2]||"d"){case"d":case"D":r+=parseInt(l[1],10);break;case"w":case"W":r+=7*parseInt(l[1],10);break;case"m":case"M":a+=parseInt(l[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a));break;case"y":case"Y":o+=parseInt(l[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a))}l=h.exec(i)}return new Date(o,a,r)},a=null==i||""===i?s:"string"==typeof i?o(i):"number"==typeof i?isNaN(i)?s:n(i):new Date(i.getTime());return a=a&&"Invalid Date"==""+a?s:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var s=!e,n=t.selectedMonth,o=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),n===t.selectedMonth&&o===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(s?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),s="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(s,-i,"M")},next:function(){t.datepicker._adjustDate(s,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(s)},selectDay:function(){return t.datepicker._selectDay(s,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(s,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(s,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,s,n,o,a,r,h,l,c,u,d,p,f,g,m,_,v,b,y,w,k,x,C,D,I,T,P,M,S,H,z,O,A,N,W,E,F,L,R=new Date,B=this._daylightSavingAdjust(new Date(R.getFullYear(),R.getMonth(),R.getDate())),Y=this._get(t,"isRTL"),j=this._get(t,"showButtonPanel"),q=this._get(t,"hideIfNoPrevNext"),K=this._get(t,"navigationAsDateFormat"),U=this._getNumberOfMonths(t),V=this._get(t,"showCurrentAtPos"),$=this._get(t,"stepMonths"),X=1!==U[0]||1!==U[1],G=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),Z=t.drawMonth-V,te=t.drawYear;if(0>Z&&(Z+=12,te--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-U[0]*U[1]+1,J.getDate())),e=Q&&Q>e?Q:e;this._daylightSavingAdjust(new Date(te,Z,1))>e;)Z--,0>Z&&(Z=11,te--);for(t.drawMonth=Z,t.drawYear=te,i=this._get(t,"prevText"),i=K?this.formatDate(i,this._daylightSavingAdjust(new Date(te,Z-$,1)),this._getFormatConfig(t)):i,s=this._canAdjustMonth(t,-1,te,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>":q?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>",n=this._get(t,"nextText"),n=K?this.formatDate(n,this._daylightSavingAdjust(new Date(te,Z+$,1)),this._getFormatConfig(t)):n,o=this._canAdjustMonth(t,1,te,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>":q?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>",a=this._get(t,"currentText"),r=this._get(t,"gotoCurrent")&&t.currentDay?G:B,a=K?this.formatDate(a,r,this._getFormatConfig(t)):a,h=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",l=j?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Y?h:"")+(this._isInRange(t,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(Y?"":h)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,u=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),_=this._get(t,"showOtherMonths"),v=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),y="",k=0;U[0]>k;k++){for(x="",this.maxRows=4,C=0;U[1]>C;C++){if(D=this._daylightSavingAdjust(new Date(te,Z,t.selectedDay)),I=" ui-corner-all",T="",X){if(T+="<div class='ui-datepicker-group",U[1]>1)switch(C){case 0:T+=" ui-datepicker-group-first",I=" ui-corner-"+(Y?"right":"left");break;case U[1]-1:T+=" ui-datepicker-group-last",I=" ui-corner-"+(Y?"left":"right");break;default:T+=" ui-datepicker-group-middle",I=""}T+="'>"}for(T+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+I+"'>"+(/all|left/.test(I)&&0===k?Y?o:s:"")+(/all|right/.test(I)&&0===k?Y?s:o:"")+this._generateMonthYearHeader(t,Z,te,Q,J,k>0||C>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",P=u?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;7>w;w++)M=(w+c)%7,P+="<th scope='col'"+((w+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+d[M]+"'>"+p[M]+"</span></th>";for(T+=P+"</tr></thead><tbody>",S=this._getDaysInMonth(te,Z),te===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,S)),H=(this._getFirstDayOfMonth(te,Z)-c+7)%7,z=Math.ceil((H+S)/7),O=X?this.maxRows>z?this.maxRows:z:z,this.maxRows=O,A=this._daylightSavingAdjust(new Date(te,Z,1-H)),N=0;O>N;N++){for(T+="<tr>",W=u?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(A)+"</td>":"",w=0;7>w;w++)E=m?m.apply(t.input?t.input[0]:null,[A]):[!0,""],F=A.getMonth()!==Z,L=F&&!v||!E[0]||Q&&Q>A||J&&A>J,W+="<td class='"+((w+c+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(A.getTime()===D.getTime()&&Z===t.selectedMonth&&t._keyEvent||b.getTime()===A.getTime()&&b.getTime()===D.getTime()?" "+this._dayOverClass:"")+(L?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!_?"":" "+E[1]+(A.getTime()===G.getTime()?" "+this._currentClass:"")+(A.getTime()===B.getTime()?" ui-datepicker-today":""))+"'"+(F&&!_||!E[2]?"":" title='"+E[2].replace(/'/g,"&#39;")+"'")+(L?"":" data-handler='selectDay' data-event='click' data-month='"+A.getMonth()+"' data-year='"+A.getFullYear()+"'")+">"+(F&&!_?"&#xa0;":L?"<span class='ui-state-default'>"+A.getDate()+"</span>":"<a class='ui-state-default"+(A.getTime()===B.getTime()?" ui-state-highlight":"")+(A.getTime()===G.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+A.getDate()+"</a>")+"</td>",A.setDate(A.getDate()+1),A=this._daylightSavingAdjust(A);T+=W+"</tr>"}Z++,Z>11&&(Z=0,te++),T+="</tbody></table>"+(X?"</div>"+(U[0]>0&&C===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=T}y+=x}return y+=l,t._keyEvent=!1,y},_generateMonthYearHeader:function(t,e,i,s,n,o,a,r){var h,l,c,u,d,p,f,g,m=this._get(t,"changeMonth"),_=this._get(t,"changeYear"),v=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",y="";if(o||!m)y+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(h=s&&s.getFullYear()===i,l=n&&n.getFullYear()===i,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;12>c;c++)(!h||c>=s.getMonth())&&(!l||n.getMonth()>=c)&&(y+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+r[c]+"</option>");y+="</select>"}if(v||(b+=y+(!o&&m&&_?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!_)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(u=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e},f=p(u[0]),g=Math.max(f,p(u[1]||"")),f=s?Math.max(f,s.getFullYear()):f,g=n?Math.min(g,n.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g>=f;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),v&&(b+=(!o&&m&&_?"":"&#xa0;")+y),b+="</div>"},_adjustInstDate:function(t,e,i){var s=t.selectedYear+("Y"===i?e:0),n=t.selectedMonth+("M"===i?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(s,n))+("D"===i?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(s,n,o)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),n=i&&i>e?i:e;return s&&n>s?s:n},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,s){var n=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(i,s+(0>e?e:n[0]*n[1]),1));return 0>e&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var i,s,n=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),a=null,r=null,h=this._get(t,"yearRange");return h&&(i=h.split(":"),s=(new Date).getFullYear(),a=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(a+=s),i[1].match(/[+\-].*/)&&(r+=s)),(!n||e.getTime()>=n.getTime())&&(!o||e.getTime()<=o.getTime())&&(!a||e.getFullYear()>=a)&&(!r||r>=e.getFullYear())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,s){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var n=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(s,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),n,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new s,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.12.1",t.datepicker,t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var _=!1;t(document).on("mouseup",function(){_=!1}),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!_){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,s=1===e.which,n="string"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return s&&!n&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),_=!0,!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,_=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,i,s){var n,o=t.ui[e].prototype;for(n in s)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([i,s[n]])},call:function(t,e,i,s){var n,o=t.plugins[e];if(o&&(s||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(n=0;o.length>n;n++)t.options[o[n][0]]&&o[n][1].apply(t.element,i)}},t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")},t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(this._blurActiveElement(e),this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=t.ui.safeActiveElement(this.document[0]),s=t(e.target);s.closest(i).length||t.ui.safeBlur(i)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",e,s)===!1)return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper),n=s?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}
},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options,o=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===n.containment?(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):n.containment.constructor===Array?(this.containment=n.containment,void 0):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=t(n.containment),s=i[0],s&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i),void 0):(this.containment=null,void 0)},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,s,n,o,a=this.options,r=this._isRootNode(this.scrollParent[0]),h=t.pageX,l=t.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),a.grid&&(n=a.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,l=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-a.grid[1]:n+a.grid[1]:n,o=a.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,h=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(h=this.originalPageX),"x"===a.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,s){var n=t.extend({},i,{item:s.element});s.sortables=[],t(s.options.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,n))})},stop:function(e,i,s){var n=t.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,t.each(s.sortables,function(){var t=this;t.isOver?(t.isOver=0,s.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,n))})},drag:function(e,i,s){t.each(s.sortables,function(){var n=!1,o=this;o.positionAbs=s.positionAbs,o.helperProportions=s.helperProportions,o.offset.click=s.offset.click,o._intersectsWith(o.containerCache)&&(n=!0,t.each(s.sortables,function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(n=!1),n})),n?(o.isOver||(o.isOver=1,s._parent=i.helper.parent(),o.currentItem=i.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return i.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=s.offset.click.top,o.offset.click.left=s.offset.click.left,o.offset.parent.left-=s.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=s.offset.parent.top-o.offset.parent.top,s._trigger("toSortable",e),s.dropped=o.element,t.each(s.sortables,function(){this.refreshPositions()}),s.currentItem=s.element,o.fromOutside=s),o.currentItem&&(o._mouseDrag(e),i.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(e),i.position=s._generatePosition(e,!0),s._trigger("fromSortable",e),s.dropped=!1,t.each(s.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,s){var n=t("body"),o=s.options;n.css("cursor")&&(o._cursor=n.css("cursor")),n.css("cursor",o.cursor)},stop:function(e,i,s){var n=s.options;n._cursor&&t("body").css("cursor",n._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("opacity")&&(o._opacity=n.css("opacity")),n.css("opacity",o.opacity)},stop:function(e,i,s){var n=s.options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,s){var n=s.options,o=!1,a=s.scrollParentNotHidden[0],r=s.document[0];a!==r&&"HTML"!==a.tagName?(n.axis&&"x"===n.axis||(s.overflowOffset.top+a.offsetHeight-e.pageY<n.scrollSensitivity?a.scrollTop=o=a.scrollTop+n.scrollSpeed:e.pageY-s.overflowOffset.top<n.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(s.overflowOffset.left+a.offsetWidth-e.pageX<n.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+n.scrollSpeed:e.pageX-s.overflowOffset.left<n.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-t(r).scrollTop()<n.scrollSensitivity?o=t(r).scrollTop(t(r).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(r).scrollTop())<n.scrollSensitivity&&(o=t(r).scrollTop(t(r).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-t(r).scrollLeft()<n.scrollSensitivity?o=t(r).scrollLeft(t(r).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(r).scrollLeft())<n.scrollSensitivity&&(o=t(r).scrollLeft(t(r).scrollLeft()+n.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(s,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,s){var n=s.options;s.snapElements=[],t(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var e=t(this),i=e.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,s){var n,o,a,r,h,l,c,u,d,p,f=s.options,g=f.snapTolerance,m=i.offset.left,_=m+s.helperProportions.width,v=i.offset.top,b=v+s.helperProportions.height;for(d=s.snapElements.length-1;d>=0;d--)h=s.snapElements[d].left-s.margins.left,l=h+s.snapElements[d].width,c=s.snapElements[d].top-s.margins.top,u=c+s.snapElements[d].height,h-g>_||m>l+g||c-g>b||v>u+g||!t.contains(s.snapElements[d].item.ownerDocument,s.snapElements[d].item)?(s.snapElements[d].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(n=g>=Math.abs(c-b),o=g>=Math.abs(u-v),a=g>=Math.abs(h-_),r=g>=Math.abs(l-m),n&&(i.position.top=s._convertPositionTo("relative",{top:c-s.helperProportions.height,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:u,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left)),p=n||o||a||r,"outer"!==f.snapMode&&(n=g>=Math.abs(c-v),o=g>=Math.abs(u-b),a=g>=Math.abs(h-m),r=g>=Math.abs(l-_),n&&(i.position.top=s._convertPositionTo("relative",{top:c,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:u-s.helperProportions.height,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left)),!s.snapElements[d].snapping&&(n||o||a||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=n||o||a||r||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,s){var n,o=s.options,a=t.makeArray(t(o.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});a.length&&(n=parseInt(t(a[0]).css("zIndex"),10)||0,t(a).each(function(e){t(this).css("zIndex",n+e)}),this.css("zIndex",n+a.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("zIndex")&&(o._zIndex=n.css("zIndex")),n.css("zIndex",o.zIndex)},stop:function(e,i,s){var n=s.options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}}),t.ui.draggable,t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return e[s]>0?!0:(e[s]=1,n=e[s]>0,e[s]=0,n)},_create:function(){var e,i=this.options,s=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),i.autoHide&&t(this.element).on("mouseenter",function(){i.disabled||(s._removeClass("ui-resizable-autohide"),s._handles.show())}).on("mouseleave",function(){i.disabled||s.resizing||(s._addClass("ui-resizable-autohide"),s._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles();break;default:}},_setupHandles:function(){var e,i,s,n,o,a=this.options,r=this;if(this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),s=this.handles.split(","),this.handles={},i=0;s.length>i;i++)e=t.trim(s[i]),n="ui-resizable-"+e,o=t("<div>"),this._addClass(o,"ui-resizable-handle "+n),o.css({zIndex:a.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(o);this._renderAxis=function(e){var i,s,n,o;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=t(this.handles[i]),this._on(this.handles[i],{mousedown:r._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(s=t(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(n,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){r.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=o&&o[1]?o[1]:"se")}),a.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var i,s,n=!1;for(i in this.handles)s=t(this.handles[i])[0],(s===e.target||t.contains(s,e.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(e){var i,s,n,o=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),o.containment&&(i+=t(o.containment).scrollLeft()||0,s+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:i,top:s},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===n?this.axis+"-resize":n),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,s,n=this.originalMousePosition,o=this.axis,a=e.pageX-n.left||0,r=e.pageY-n.top||0,h=this._change[o];return this._updatePrevProperties(),h?(i=h.apply(this,[e,a,r]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,s,n,o,a,r,h,l=this.options,c=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&this._hasScroll(i[0],"left")?0:c.sizeDiff.height,o=s?0:c.sizeDiff.width,a={width:c.helper.width()-o,height:c.helper.height()-n},r=parseFloat(c.element.css("left"))+(c.position.left-c.originalPosition.left)||null,h=parseFloat(c.element.css("top"))+(c.position.top-c.originalPosition.top)||null,l.animate||this.element.css(t.extend(a,{top:h,left:r})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!l.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,s,n,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,s=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,n=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),s>o.minHeight&&(o.minHeight=s),o.maxWidth>i&&(o.maxWidth=i),o.maxHeight>n&&(o.maxHeight=n)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,s=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===s&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===s&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,s=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,n=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,a=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,r=this.originalPosition.left+this.originalSize.width,h=this.originalPosition.top+this.originalSize.height,l=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return o&&(t.width=e.minWidth),a&&(t.height=e.minHeight),s&&(t.width=e.maxWidth),n&&(t.height=e.maxHeight),o&&l&&(t.left=r-e.minWidth),s&&l&&(t.left=r-e.maxWidth),a&&c&&(t.top=h-e.minHeight),n&&c&&(t.top=h-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],s=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],n=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];4>e;e++)i[e]=parseFloat(s[e])||0,i[e]+=parseFloat(n[e])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;this._proportionallyResizeElements.length>e;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,s=this.originalPosition;return{left:s.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},sw:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,s]))},ne:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},nw:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,s]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),s=i.options,n=i._proportionallyResizeElements,o=n.length&&/textarea/i.test(n[0].nodeName),a=o&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,r=o?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-a},l=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,c=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(h,c&&l?{top:c,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};n&&n.length&&t(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,s,n,o,a,r,h=t(this).resizable("instance"),l=h.options,c=h.element,u=l.containment,d=u instanceof t?u.get(0):/parent/.test(u)?c.parent().get(0):u;d&&(h.containerElement=t(d),/document/.test(u)||u===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(d),i=[],t(["Top","Right","Left","Bottom"]).each(function(t,s){i[t]=h._num(e.css("padding"+s))}),h.containerOffset=e.offset(),h.containerPosition=e.position(),h.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},s=h.containerOffset,n=h.containerSize.height,o=h.containerSize.width,a=h._hasScroll(d,"left")?d.scrollWidth:o,r=h._hasScroll(d)?d.scrollHeight:n,h.parentData={element:d,left:s.left,top:s.top,width:a,height:r}))},resize:function(e){var i,s,n,o,a=t(this).resizable("instance"),r=a.options,h=a.containerOffset,l=a.position,c=a._aspectRatio||e.shiftKey,u={top:0,left:0},d=a.containerElement,p=!0;d[0]!==document&&/static/.test(d.css("position"))&&(u=h),l.left<(a._helper?h.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-h.left:a.position.left-u.left),c&&(a.size.height=a.size.width/a.aspectRatio,p=!1),a.position.left=r.helper?h.left:0),l.top<(a._helper?h.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-h.top:a.position.top),c&&(a.size.width=a.size.height*a.aspectRatio,p=!1),a.position.top=a._helper?h.top:0),n=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),n&&o?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),i=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-u.left:a.offset.left-h.left)),s=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-u.top:a.offset.top-h.top)),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,c&&(a.size.height=a.size.width/a.aspectRatio,p=!1)),s+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-s,c&&(a.size.width=a.size.height*a.aspectRatio,p=!1)),p||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,s=e.containerOffset,n=e.containerPosition,o=e.containerElement,a=t(e.helper),r=a.offset(),h=a.outerWidth()-e.sizeDiff.width,l=a.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l}),e._helper&&!i.animate&&/static/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),i=e.options;t(i.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,i){var s=t(this).resizable("instance"),n=s.options,o=s.originalSize,a=s.originalPosition,r={height:s.size.height-o.height||0,width:s.size.width-o.width||0,top:s.position.top-a.top||0,left:s.position.left-a.left||0};t(n.alsoResize).each(function(){var e=t(this),s=t(this).data("ui-resizable-alsoresize"),n={},o=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var i=(s[e]||0)+(r[e]||0);i&&i>=0&&(n[e]=i||null)}),e.css(n)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),t.uiBackCompat!==!1&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),s=i.options,n=i.size,o=i.originalSize,a=i.originalPosition,r=i.axis,h="number"==typeof s.grid?[s.grid,s.grid]:s.grid,l=h[0]||1,c=h[1]||1,u=Math.round((n.width-o.width)/l)*l,d=Math.round((n.height-o.height)/c)*c,p=o.width+u,f=o.height+d,g=s.maxWidth&&p>s.maxWidth,m=s.maxHeight&&f>s.maxHeight,_=s.minWidth&&s.minWidth>p,v=s.minHeight&&s.minHeight>f;s.grid=h,_&&(p+=l),v&&(f+=c),g&&(p-=l),m&&(f-=c),/^(se|s|e)$/.test(r)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.top=a.top-d):/^(sw)$/.test(r)?(i.size.width=p,i.size.height=f,i.position.left=a.left-u):((0>=f-c||0>=p-l)&&(e=i._getPaddingPlusBorderDimensions(this)),f-c>0?(i.size.height=f,i.position.top=a.top-d):(f=c-e.height,i.size.height=f,i.position.top=a.top+o.height-f),p-l>0?(i.size.width=p,i.position.left=a.left-u):(p=l-e.width,i.size.width=p,i.position.left=a.left+o.width-p))}}),t.ui.resizable,t.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;0>i&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog
},disable:t.noop,enable:t.noop,close:function(e){var i=this;this._isOpen&&this._trigger("beforeClose",e)!==!1&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,i){var s=!1,n=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),o=Math.max.apply(null,n);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),s=!0),s&&!i&&this._trigger("focus",e),s},open:function(){var e=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),void 0)},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(e){function i(){var e=t.ui.safeActiveElement(this.document[0]),i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);i||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),this.close(e),void 0;if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),s=i.filter(":first"),n=i.filter(":last");e.target!==n[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==s[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){n.trigger("focus")}),e.preventDefault()):(this._delay(function(){s.trigger("focus")}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?(this._removeClass(this.uiDialog,"ui-dialog-buttons"),void 0):(t.each(i,function(i,s){var n,o;s=t.isFunction(s)?{click:s,text:i}:s,s=t.extend({type:"button"},s),n=s.click,o={icon:s.icon,iconPosition:s.iconPosition,showLabel:s.showLabel,icons:s.icons,text:s.text},delete s.click,delete s.icon,delete s.iconPosition,delete s.showLabel,delete s.icons,"boolean"==typeof s.text&&delete s.text,t("<button></button>",s).button(o).appendTo(e.uiButtonSet).on("click",function(){n.apply(e.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,s=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(s,n){i._addClass(t(this),"ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",s,e(n))},drag:function(t,s){i._trigger("drag",t,e(s))},stop:function(n,o){var a=o.offset.left-i.document.scrollLeft(),r=o.offset.top-i.document.scrollTop();s.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" "+"top"+(r>=0?"+":"")+r,of:i.window},i._removeClass(t(this),"ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",n,e(o))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,s=this.options,n=s.resizable,o=this.uiDialog.css("position"),a="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:a,start:function(s,n){i._addClass(t(this),"ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",s,e(n))},resize:function(t,s){i._trigger("resize",t,e(s))},stop:function(n,o){var a=i.uiDialog.offset(),r=a.left-i.document.scrollLeft(),h=a.top-i.document.scrollTop();s.height=i.uiDialog.height(),s.width=i.uiDialog.width(),s.position={my:"left top",at:"left"+(r>=0?"+":"")+r+" "+"top"+(h>=0?"+":"")+h,of:i.window},i._removeClass(t(this),"ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",n,e(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),i=t.inArray(this,e);-1!==i&&e.splice(i,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var i=this,s=!1,n={};t.each(e,function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(s=!0),t in i.resizableRelatedOptions&&(n[t]=e)}),s&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(e,i){var s,n,o=this.uiDialog;"disabled"!==e&&(this._super(e,i),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&(s=o.is(":data(ui-draggable)"),s&&!i&&o.draggable("destroy"),!s&&i&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(n=o.is(":data(ui-resizable)"),n&&!i&&o.resizable("destroy"),n&&"string"==typeof i&&o.resizable("option","handles",i),n||i===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,s=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),t=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),e=Math.max(0,s.minHeight-t),i="number"==typeof s.maxHeight?Math.max(0,s.maxHeight-t):"none","auto"===s.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,s.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return t(e.target).closest(".ui-dialog").length?!0:!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),t.uiBackCompat!==!1&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}}),t.ui.dialog,t.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(s)?s:function(t){return t.is(s)},this.proportions=function(){return arguments.length?(e=arguments[0],void 0):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;t.length>e;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,i){if("accept"===e)this.accept=t.isFunction(i)?i:function(t){return t.is(i)};else if("scope"===e){var s=t.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var s=i||t.ui.ddmanager.current,n=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=t(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===s.options.scope&&i.accept.call(i.element[0],s.currentItem||s.element)&&v(s,t.extend(i,{offset:i.element.offset()}),i.options.tolerance,e)?(n=!0,!1):void 0}),n?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(s)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var v=t.ui.intersect=function(){function t(t,e,i){return t>=e&&e+i>t}return function(e,i,s,n){if(!i.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,a=(e.positionAbs||e.position.absolute).top+e.margins.top,r=o+e.helperProportions.width,h=a+e.helperProportions.height,l=i.offset.left,c=i.offset.top,u=l+i.proportions().width,d=c+i.proportions().height;switch(s){case"fit":return o>=l&&u>=r&&a>=c&&d>=h;case"intersect":return o+e.helperProportions.width/2>l&&u>r-e.helperProportions.width/2&&a+e.helperProportions.height/2>c&&d>h-e.helperProportions.height/2;case"pointer":return t(n.pageY,c,i.proportions().height)&&t(n.pageX,l,i.proportions().width);case"touch":return(a>=c&&d>=a||h>=c&&d>=h||c>a&&h>d)&&(o>=l&&u>=o||r>=l&&u>=r||l>o&&r>u);default:return!1}}}();t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var s,n,o=t.ui.ddmanager.droppables[e.options.scope]||[],a=i?i.type:null,r=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(s=0;o.length>s;s++)if(!(o[s].options.disabled||e&&!o[s].accept.call(o[s].element[0],e.currentItem||e.element))){for(n=0;r.length>n;n++)if(r[n]===o[s].element[0]){o[s].proportions().height=0;continue t}o[s].visible="none"!==o[s].element.css("display"),o[s].visible&&("mousedown"===a&&o[s]._activate.call(o[s],i),o[s].offset=o[s].element.offset(),o[s].proportions({width:o[s].element[0].offsetWidth,height:o[s].element[0].offsetHeight}))}},drop:function(e,i){var s=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&v(e,this,this.options.tolerance,i)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(e,i){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,o,a=v(e,this,this.options.tolerance,i),r=!a&&this.isover?"isout":a&&!this.isover?"isover":null;r&&(this.options.greedy&&(n=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===n}),o.length&&(s=t(o[0]).droppable("instance"),s.greedyChild="isover"===r)),s&&"isover"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),s&&"isout"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}},t.uiBackCompat!==!1&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),t.ui.droppable,t.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=t("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){return void 0===t?this.options.value:(this.options.value=this._constrainedValue(t),this._refreshValue(),void 0)},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(i.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectable",t.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each(function(){var i=t(this),s=i.offset(),n={left:s.left-e.elementPos.left,top:s.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:i,left:n.left,top:n.top,right:n.left+i.outerWidth(),bottom:n.top+i.outerHeight(),startselected:!1,selected:i.hasClass("ui-selected"),selecting:i.hasClass("ui-selecting"),unselecting:i.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var i=this,s=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),this.options.disabled||(this.selectees=t(s.filter,this.element[0]),this._trigger("start",e),t(s.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=t.data(this,"selectable-item");s.startselected=!0,e.metaKey||e.ctrlKey||(i._removeClass(s.$element,"ui-selected"),s.selected=!1,i._addClass(s.$element,"ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",e,{unselecting:s.element}))}),t(e.target).parents().addBack().each(function(){var s,n=t.data(this,"selectable-item");return n?(s=!e.metaKey&&!e.ctrlKey||!n.$element.hasClass("ui-selected"),i._removeClass(n.$element,s?"ui-unselecting":"ui-selected")._addClass(n.$element,s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",e,{selecting:n.element}):i._trigger("unselecting",e,{unselecting:n.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,o=this.opos[0],a=this.opos[1],r=e.pageX,h=e.pageY;return o>r&&(i=r,r=o,o=i),a>h&&(i=h,h=a,a=i),this.helper.css({left:o,top:a,width:r-o,height:h-a}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),l=!1,c={};i&&i.element!==s.element[0]&&(c.left=i.left+s.elementPos.left,c.right=i.right+s.elementPos.left,c.top=i.top+s.elementPos.top,c.bottom=i.bottom+s.elementPos.top,"touch"===n.tolerance?l=!(c.left>r||o>c.right||c.top>h||a>c.bottom):"fit"===n.tolerance&&(l=c.left>o&&r>c.right&&c.top>a&&h>c.bottom),l?(i.selected&&(s._removeClass(i.$element,"ui-selected"),i.selected=!1),i.unselecting&&(s._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1),i.selecting||(s._addClass(i.$element,"ui-selecting"),i.selecting=!0,s._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(s._removeClass(i.$element,"ui-selecting"),i.selecting=!1,s._addClass(i.$element,"ui-selected"),i.selected=!0):(s._removeClass(i.$element,"ui-selecting"),i.selecting=!1,i.startselected&&(s._addClass(i.$element,"ui-unselecting"),i.unselecting=!0),s._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(s._removeClass(i.$element,"ui-selected"),i.selected=!1,s._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");i._removeClass(s.$element,"ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",e,{unselected:s.element})}),t(".ui-selecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");i._removeClass(s.$element,"ui-selecting")._addClass(s.$element,"ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",e,{selected:s.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t()},_drawButton:function(){var e,i=this,s=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=t("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(s).appendTo(this.button),this.options.width!==!1&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){i._rendered||i._refreshMenu()})},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,i){t.preventDefault(),e._setSelection(),e._select(i.item.data("ui-selectmenu-item"),t)},focus:function(t,i){var s=i.item.data("ui-selectmenu-item");null!=e.focusIndex&&s.index!==e.focusIndex&&(e._trigger("focus",t,{item:s}),e.isOpen||e._select(s,t)),e.focusIndex=s.index,e.button.attr("aria-activedescendant",e.menuItems.eq(s.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var i=t("<span>");return this._setText(i,e.label),this._addClass(i,"ui-selectmenu-text"),i},_renderMenu:function(e,i){var s=this,n="";t.each(i,function(i,o){var a;o.optgroup!==n&&(a=t("<li>",{text:o.optgroup}),s._addClass(a,"ui-selectmenu-optgroup","ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),a.appendTo(e),n=o.optgroup),s._renderItemData(e,o)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,i){var s=t("<li>"),n=t("<div>",{title:i.element.attr("title")});return i.disabled&&this._addClass(s,null,"ui-state-disabled"),this._setText(n,i.label),s.append(n).appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var i,s,n=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex).parent("li"):(i=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),n+=":not(.ui-state-disabled)"),s="first"===t||"last"===t?i["first"===t?"prevAll":"nextAll"](n).eq(-1):i[t+"All"](n).eq(0),s.length&&this.menuInstance.focus(e,s)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?(t=window.getSelection(),t.removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+t.ui.escapeSelector(this.ids.button)).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection(),t.rangeCount&&(this.range=t.getRangeAt(0))):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var i=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),i=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),i=!1}i&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==i&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){if("icons"===t){var i=this.button.find("span.ui-icon");this._removeClass(i,null,this.options.icons.button)._addClass(i,null,e.button)}this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;return t===!1?(this.button.css("width",""),void 0):(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t),void 0)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(e){var i=this,s=[];e.each(function(e,n){s.push(i._parseOption(t(n),e))}),this.items=s},_parseOption:function(t,e){var i=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:i.attr("label")||"",disabled:i.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1
},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,s=this.options,n=this.element.find(".ui-slider-handle"),o="<span tabindex='0'></span>",a=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),e=n.length;i>e;e++)a.push(o);this.handles=n.add(t(a.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),("min"===e.range||"max"===e.range)&&this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var i,s,n,o,a,r,h,l,c=this,u=this.options;return u.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(s-c.values(e));(n>i||n===i&&(e===c._lastChangedValue||c.values(e)===u.min))&&(n=i,o=t(this),a=e)}),r=this._start(e,a),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=a,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),h=o.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-h.left-o.width()/2,top:e.pageY-h.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,s,n,o;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/e,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),o=this._valueMin()+s*n,this._trimAlignValue(o)},_uiHash:function(t,e,i){var s={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(s.value=void 0!==e?e:this.values(t),s.values=i||this.values()),s},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,i){var s,n,o=this.value(),a=this.values();this._hasMultipleValues()&&(n=this.values(e?0:1),o=this.values(e),2===this.options.values.length&&this.options.range===!0&&(i=0===e?Math.min(n,i):Math.max(n,i)),a[e]=i),i!==o&&(s=this._trigger("slide",t,this._uiHash(e,i,a)),s!==!1&&(this._hasMultipleValues()?this.values(e,i):this.value(i)))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(e,i){var s,n,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),this._change(null,e),void 0;if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(s=this.options.values,n=arguments[0],o=0;s.length>o;o+=1)s[o]=this._trimAlignValue(n[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,i){var s,n=0;switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(n=this.options.values.length),this._super(e,i),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(i),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=n-1;s>=0;s--)this._change(null,s);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,s;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this._hasMultipleValues()){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,s=t-i;return 2*Math.abs(i)>=e&&(s+=i>0?e:-e),parseFloat(s.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step,s=Math.round((t-e)/i)*i;t=s+e,t>this.options.max&&(t-=i),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,i,s,n,o,a=this.options.range,r=this.options,h=this,l=this._animateOff?!1:r.animate,c={};this._hasMultipleValues()?this.handles.each(function(s){i=100*((h.values(s)-h._valueMin())/(h._valueMax()-h._valueMin())),c["horizontal"===h.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[l?"animate":"css"](c,r.animate),h.options.range===!0&&("horizontal"===h.orientation?(0===s&&h.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:r.animate})):(0===s&&h.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:r.animate}))),e=i}):(s=this.value(),n=this._valueMin(),o=this._valueMax(),i=o!==n?100*((s-n)/(o-n)):0,c["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](c,r.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},r.animate),"max"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:100-i+"%"},r.animate),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},r.animate),"max"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:100-i+"%"},r.animate))},_handleEvents:{keydown:function(e){var i,s,n,o,a=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),i=this._start(e,a),i===!1))return}switch(o=this.options.step,s=n=this._hasMultipleValues()?this.values(a):this.value(),e.keyCode){case t.ui.keyCode.HOME:n=this._valueMin();break;case t.ui.keyCode.END:n=this._valueMax();break;case t.ui.keyCode.PAGE_UP:n=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(s===this._valueMax())return;n=this._trimAlignValue(s+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(s===this._valueMin())return;n=this._trimAlignValue(s-o)}this._slide(e,a,n)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),this._removeClass(t(e.target),null,"ui-state-active"))}}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&e+i>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var s=null,n=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(s=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(s=t(e.target)),s?!this.options.handle||i||(t(this.options.handle,s).find("*").addBack().each(function(){this===e.target&&(n=!0)}),n)?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(e,i,s){var n,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,s,n,o,a=this.options,r=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-this.document.scrollTop()<a.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<a.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),e.pageX-this.document.scrollLeft()<a.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),r!==!1&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],o=this._intersectsWithPointer(s),o&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==n&&!t.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],n):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(e,s),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,n=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){s._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&s.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!s.length&&e.key&&s.push(e.key+"="),s.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each(function(){s.push(t(e.item||this).attr(e.attribute||"id")||"")}),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,o=t.left,a=o+t.width,r=t.top,h=r+t.height,l=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||s+l>r&&h>s+l,d="y"===this.options.axis||e+c>o&&a>e+c,p=u&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:e+this.helperProportions.width/2>o&&a>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&h>n-this.helperProportions.height/2},_intersectsWithPointer:function(t){var e,i,s="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),o=s&&n;return o?(e=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===e?2:1:e&&("down"===e?2:1)):!1},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"===n&&i||"left"===n&&!i:s&&("down"===s&&e||"up"===s&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){r.push(this)}var s,n,o,a,r=[],h=[],l=this._connectWith();if(l&&e)for(s=l.length-1;s>=0;s--)for(o=t(l[s],this.document[0]),n=o.length-1;n>=0;n--)a=t.data(o[n],this.widgetFullName),a&&a!==this&&!a.options.disabled&&h.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(h.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=h.length-1;s>=0;s--)h[s][0].each(i);return t(r)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;e.length>i;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,s,n,o,a,r,h,l,c=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(n=t(d[i],this.document[0]),s=n.length-1;s>=0;s--)o=t.data(n[s],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(u.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=u.length-1;i>=0;i--)for(a=u[i][1],r=u[i][0],s=0,l=r.length;l>s;s++)h=t(r[s]),h.data(this.widgetName+"-item",a),c.push({item:h,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,o;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=n.outerWidth(),s.height=n.outerHeight()),o=n.offset(),s.left=o.left,s.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,s=e.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=e.currentItem[0].nodeName.toLowerCase(),n=t("<"+s+">",e.document[0]);return e._addClass(n,"ui-sortable-placeholder",i||e.currentItem[0].className)._removeClass(n,"ui-sortable-helper"),"tbody"===s?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(n)):"tr"===s?e._createTrPlaceholder(e.currentItem,n):"img"===s&&n.attr("src",e.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(t,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var s=this;e.children().each(function(){t("<td>&#160;</td>",s.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(e){var i,s,n,o,a,r,h,l,c,u,d=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(d&&t.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(n=1e4,o=null,c=d.floating||this._isFloating(this.currentItem),a=c?"left":"top",r=c?"width":"height",u=c?"pageX":"pageY",s=this.items.length-1;s>=0;s--)t.contains(this.containers[p].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(h=this.items[s].item.offset()[a],l=!1,e[u]-h>this.items[s][r]/2&&(l=!0),n>Math.abs(e[u]-h)&&(n=Math.abs(e[u]-h),o=this.items[s],this.direction=l?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=t(n.containment)[0],i=t(n.containment).offset(),s="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*s}},_generatePosition:function(e){var i,s,n=this.options,o=e.pageX,a=e.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0],o=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;
this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){function i(t,e,i){return function(s){i._trigger(t,s,e._uiHash(e))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)e||n.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(s=0;n.length>s;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}}),t.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),i=this.element;return t.each(["min","max","step"],function(t,s){var n=i.attr(s);null!=n&&n.length&&(e[s]=n)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t),void 0)},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){var e=this.element[0]===t.ui.safeActiveElement(this.document[0]);e||(this.element.trigger("focus"),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?this._start(e)===!1?!1:(this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var i=this.options,s=t.ui.keyCode;switch(e.keyCode){case s.UP:return this._repeat(null,1,e),!0;case s.DOWN:return this._repeat(null,-1,e),!0;case s.PAGE_UP:return this._repeat(null,i.page,e),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_start:function(t){return this.spinning||this._trigger("start",t)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,s=this.options;return e=null!==s.min?s.min:0,i=t-e,i=Math.round(i/s.step)*s.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==s.max&&t>s.max?s.max:null!==s.min&&s.min>t?s.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var i,s,n;return"culture"===t||"numberFormat"===t?(i=this._parse(this.element.val()),this.options[t]=e,this.element.val(this._format(i)),void 0):(("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(s=this.buttons.first().find(".ui-icon"),this._removeClass(s,null,this.options.icons.up),this._addClass(s,null,e.up),n=this.buttons.last().find(".ui-icon"),this._removeClass(n,null,this.options.icons.down),this._addClass(n,null,e.down)),this._super(t,e),void 0)},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:r(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null===t?!1:t===this._adjustValue(t)},_value:function(t,e){var i;""!==t&&(i=this._parse(t),null!==i&&(e||(i=this._adjustValue(i)),t=this._format(i))),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:r(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:r(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:r(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:r(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?(r(this._value).call(this,t),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),t.uiBackCompat!==!1&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),t.ui.spinner,t.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var i,s;i=e.href.replace(t,""),s=location.href.replace(t,"");try{i=decodeURIComponent(i)}catch(n){}try{s=decodeURIComponent(s)}catch(n){}return e.hash.length>1&&i===s}}(),_create:function(){var e=this,i=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,i.collapsible),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,s=location.hash.substring(1);return null===e&&(s&&this.tabs.each(function(i,n){return t(n).attr("aria-controls")===s?(e=i,!1):void 0}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===e||-1===e)&&(e=this.tabs.length?0:!1)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),-1===e&&(e=i?!1:0)),!i&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(t.ui.safeActiveElement(this.document[0])).closest("li"),s=this.tabs.index(i),n=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:s++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:n=!1,s--;break;case t.ui.keyCode.END:s=this.anchors.length-1;break;case t.ui.keyCode.HOME:s=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),this._activate(s),void 0;case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),this._activate(s===this.options.active?!1:s),void 0;default:return}e.preventDefault(),clearTimeout(this.activating),s=this._focusNextTab(s,n),e.ctrlKey||e.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(s).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",s)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){function s(){return e>n&&(e=0),0>e&&(e=n),e}for(var n=this.tabs.length-1;-1!==t.inArray(s(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){return"active"===t?(this._activate(e),void 0):(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e),void 0)},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,i=this.tabs,s=this.anchors,n=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each(function(i,s){var n,o,a,r=t(s).uniqueId().attr("id"),h=t(s).closest("li"),l=h.attr("aria-controls");e._isLocal(s)?(n=s.hash,a=n.substring(1),o=e.element.find(e._sanitizeSelector(n))):(a=h.attr("aria-controls")||t({}).uniqueId()[0].id,n="#"+a,o=e.element.find(n),o.length||(o=e._createPanel(a),o.insertAfter(e.panels[i-1]||e.tablist)),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),l&&h.data("ui-tabs-aria-controls",l),h.attr({"aria-controls":a,"aria-labelledby":r}),o.attr("aria-labelledby",r)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),i&&(this._off(i.not(this.tabs)),this._off(s.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var i,s,n;for(t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),n=0;s=this.tabs[n];n++)i=t(s),e===!0||-1!==t.inArray(n,e)?(i.attr("aria-disabled","true"),this._addClass(i,null,"ui-state-disabled")):(i.removeAttr("aria-disabled"),this._removeClass(i,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,e===!0)},_setupEvents:function(e){var i={};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,s=this.element.parent();"fill"===e?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),s=e.css("position");"absolute"!==s&&"fixed"!==s&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,s=this.active,n=t(e.currentTarget),o=n.closest("li"),a=o[0]===s[0],r=a&&i.collapsible,h=r?t():this._getPanelForTab(o),l=s.length?this._getPanelForTab(s):t(),c={oldTab:s,oldPanel:l,newTab:r?t():o,newPanel:h};e.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||a&&!i.collapsible||this._trigger("beforeActivate",e,c)===!1||(i.active=r?!1:this.tabs.index(o),this.active=a?t():o,this.xhr&&this.xhr.abort(),l.length||h.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),h.length&&this.load(this.tabs.index(o),e),this._toggle(e,c))},_toggle:function(e,i){function s(){o.running=!1,o._trigger("activate",e,i)}function n(){o._addClass(i.newTab.closest("li"),"ui-tabs-active","ui-state-active"),a.length&&o.options.show?o._show(a,o.options.show,s):(a.show(),s())}var o=this,a=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){o._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),n()}):(this._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),r.hide(),n()),r.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),a.length&&r.length?i.oldTab.attr("tabIndex",-1):a.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),a.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var i,s=this._findActive(e);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.ui.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var i=this.options.disabled;i!==!1&&(void 0===e?i=!1:(e=this._getIndex(e),i=t.isArray(i)?t.map(i,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,i){return i!==e?i:null})),this._setOptionDisabled(i))},disable:function(e){var i=this.options.disabled;if(i!==!0){if(void 0===e)i=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,i))return;i=t.isArray(i)?t.merge([e],i).sort():[e]}this._setOptionDisabled(i)}},load:function(e,i){e=this._getIndex(e);var s=this,n=this.tabs.eq(e),o=n.find(".ui-tabs-anchor"),a=this._getPanelForTab(n),r={tab:n,panel:a},h=function(t,e){"abort"===e&&s.panels.stop(!1,!0),s._removeClass(n,"ui-tabs-loading"),a.removeAttr("aria-busy"),t===s.xhr&&delete s.xhr};this._isLocal(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,i,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(n,"ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.done(function(t,e,n){setTimeout(function(){a.html(t),s._trigger("load",i,r),h(n,e)},1)}).fail(function(t,e){setTimeout(function(){h(t,e)},1)})))},_ajaxSettings:function(e,i,s){var n=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,o){return n._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:o},s))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),t.uiBackCompat!==!1&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),t.ui.tabs,t.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,i){var s=(e.attr("aria-describedby")||"").split(/\s+/);s.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(s.join(" ")))},_removeDescribedBy:function(e){var i=e.data("ui-tooltip-id"),s=(e.attr("aria-describedby")||"").split(/\s+/),n=t.inArray(i,s);-1!==n&&s.splice(n,1),e.removeData("ui-tooltip-id"),s=t.trim(s.join(" ")),s?e.attr("aria-describedby",s):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=t([])},_setOption:function(e,i){var s=this;this._super(e,i),"content"===e&&t.each(this.tooltips,function(t,e){s._updateContent(e.element)})},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur");n.target=n.currentTarget=s.element[0],e.close(n,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var e=t(this);return e.is("[title]")?e.data("ui-tooltip-title",e.attr("title")).removeAttr("title"):void 0}))},_enable:function(){this.disabledTitles.each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=t([])},open:function(e){var i=this,s=t(e?e.target:this.element).closest(this.options.items);s.length&&!s.data("ui-tooltip-id")&&(s.attr("title")&&s.data("ui-tooltip-title",s.attr("title")),s.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&s.parents().each(function(){var e,s=t(this);s.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,i.close(e,!0)),s.attr("title")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr("title")},s.attr("title",""))}),this._registerCloseHandlers(e,s),this._updateContent(s,e))},_updateContent:function(t,e){var i,s=this.options.content,n=this,o=e?e.type:null;return"string"==typeof s||s.nodeType||s.jquery?this._open(e,t,s):(i=s.call(t[0],function(i){n._delay(function(){t.data("ui-tooltip-open")&&(e&&(e.type=o),this._open(e,t,i))})}),i&&this._open(e,t,i),void 0)},_open:function(e,i,s){function n(t){l.of=t,a.is(":hidden")||a.position(l)}var o,a,r,h,l=t.extend({},this.options.position);if(s){if(o=this._find(i))return o.tooltip.find(".ui-tooltip-content").html(s),void 0;i.is("[title]")&&(e&&"mouseover"===e.type?i.attr("title",""):i.removeAttr("title")),o=this._tooltip(i),a=o.tooltip,this._addDescribedBy(i,a.attr("id")),a.find(".ui-tooltip-content").html(s),this.liveRegion.children().hide(),h=t("<div>").html(a.find(".ui-tooltip-content").html()),h.removeAttr("name").find("[name]").removeAttr("name"),h.removeAttr("id").find("[id]").removeAttr("id"),h.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:n}),n(e)):a.position(t.extend({of:i},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval(function(){a.is(":visible")&&(n(l.of),clearInterval(r))},t.fx.interval)),this._trigger("open",e,{tooltip:a})}},_registerCloseHandlers:function(e,i){var s={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var s=t.Event(e);s.currentTarget=i[0],this.close(s,!0)}}};i[0]!==this.element[0]&&(s.remove=function(){this._removeTooltip(this._find(i).tooltip)}),e&&"mouseover"!==e.type||(s.mouseleave="close"),e&&"focusin"!==e.type||(s.focusout="close"),this._on(!0,i,s)},close:function(e){var i,s=this,n=t(e?e.currentTarget:this.element),o=this._find(n);return o?(i=o.tooltip,o.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&!n.attr("title")&&n.attr("title",n.data("ui-tooltip-title")),this._removeDescribedBy(n),o.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){s._removeTooltip(t(this))}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete s.parents[e]}),o.closing=!0,this._trigger("close",e,{tooltip:i}),o.hiding||(o.closing=!1)),void 0):(n.removeData("ui-tooltip-open"),void 0)},_tooltip:function(e){var i=t("<div>").attr("role","tooltip"),s=t("<div>").appendTo(i),n=i.uniqueId().attr("id");return this._addClass(s,"ui-tooltip-content"),this._addClass(i,"ui-tooltip","ui-widget ui-widget-content"),i.appendTo(this._appendTo(e)),this.tooltips[n]={element:e,tooltip:i}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){var e=t.closest(".ui-front, dialog");return e.length||(e=this.document[0].body),e},_destroy:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur"),o=s.element;n.target=n.currentTarget=o[0],e.close(n,!0),t("#"+i).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),t.uiBackCompat!==!1&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}}),t.ui.tooltip});

//Apps caurosel
;
(function($, window, document, undefined) {

	 url = 'https://services.tegrazone.com/api/v3/otherapps/us/en_US/made2game/4.3.5?orderby=feature_position&limit=8&start=0&sort=desc';
	/* $.getJSON(url,
	  function(result){

			//console.log(result);
            var source = $('#swiper_handler').html();
            var template = Handlebars.compile(source);
            var html = template(result);
            $('.swiper-wrapper').html(html);

      });

      */
      
    function getQueryStringValue (key) {  
  		return unescape(window.location.search.replace(new RegExp("^(?:.*[&\\?]" + escape(key).replace(/[\.\+\*]/g, "\\$&") + "(?:\\=([^&]*))?)?.*$", "i"), "$1"));  
	}  
	

})(jQuery, window, document);


/*! jQuery UI - v1.11.2 - 2014-12-16
 * //jqueryui.com
 * Includes: core.js, widget.js, mouse.js, position.js, menu.js, selectmenu.js
 * Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */

(function(factory) {
    if (typeof define === "function" && define.amd) {

        // AMD. Register as an anonymous module.
        define(["jquery"], factory);
    } else {

        // Browser globals
        factory(jQuery);
    }
}(function($) {
    /*!
     * jQuery UI Core 1.11.2
     * http://jqueryui.com
     *
     * Copyright 2014 jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     *
     * http://api.jqueryui.com/category/ui-core/
     */


    // $.ui might exist from components with no dependencies, e.g., $.ui.position
    $.ui = $.ui || {};

    $.extend($.ui, {
        version: "1.11.2",

        keyCode: {
            BACKSPACE: 8,
            COMMA: 188,
            DELETE: 46,
            DOWN: 40,
            END: 35,
            ENTER: 13,
            ESCAPE: 27,
            HOME: 36,
            LEFT: 37,
            PAGE_DOWN: 34,
            PAGE_UP: 33,
            PERIOD: 190,
            RIGHT: 39,
            SPACE: 32,
            TAB: 9,
            UP: 38
        }
    });

    // plugins
    $.fn.extend({
        scrollParent: function(includeHidden) {
            var position = this.css("position"),
                excludeStaticParent = position === "absolute",
                overflowRegex = includeHidden ? /(auto|scroll|hidden)/ : /(auto|scroll)/,
                scrollParent = this.parents().filter(function() {
                    var parent = $(this);
                    if (excludeStaticParent && parent.css("position") === "static") {
                        return false;
                    }
                    return overflowRegex.test(parent.css("overflow") + parent.css("overflow-y") + parent.css("overflow-x"));
                }).eq(0);

            return position === "fixed" || !scrollParent.length ? $(this[0].ownerDocument || document) : scrollParent;
        },

        uniqueId: (function() {
            var uuid = 0;

            return function() {
                return this.each(function() {
                    if (!this.id) {
                        this.id = "ui-id-" + (++uuid);
                    }
                });
            };
        })(),

        removeUniqueId: function() {
            return this.each(function() {
                if (/^ui-id-\d+$/.test(this.id)) {
                    $(this).removeAttr("id");
                }
            });
        }
    });

    // selectors
    function focusable(element, isTabIndexNotNaN) {
        var map, mapName, img,
            nodeName = element.nodeName.toLowerCase();
        if ("area" === nodeName) {
            map = element.parentNode;
            mapName = map.name;
            if (!element.href || !mapName || map.nodeName.toLowerCase() !== "map") {
                return false;
            }
            img = $("img[usemap='#" + mapName + "']")[0];
            return !!img && visible(img);
        }
        return (/input|select|textarea|button|object/.test(nodeName) ?
                !element.disabled :
                "a" === nodeName ?
                element.href || isTabIndexNotNaN :
                isTabIndexNotNaN) &&
            // the element and all of its ancestors must be visible
            visible(element);
    }

    function visible(element) {
        return $.expr.filters.visible(element) &&
            !$(element).parents().addBack().filter(function() {
                return $.css(this, "visibility") === "hidden";
            }).length;
    }

    $.extend($.expr[":"], {
        data: $.expr.createPseudo ?
            $.expr.createPseudo(function(dataName) {
                return function(elem) {
                    return !!$.data(elem, dataName);
                };
            }) :
            // support: jQuery <1.8
            function(elem, i, match) {
                return !!$.data(elem, match[3]);
            },

        focusable: function(element) {
            return focusable(element, !isNaN($.attr(element, "tabindex")));
        },

        tabbable: function(element) {
            var tabIndex = $.attr(element, "tabindex"),
                isTabIndexNaN = isNaN(tabIndex);
            return (isTabIndexNaN || tabIndex >= 0) && focusable(element, !isTabIndexNaN);
        }
    });

    // support: jQuery <1.8
    if (!$("<a>").outerWidth(1).jquery) {
        $.each(["Width", "Height"], function(i, name) {
            var side = name === "Width" ? ["Left", "Right"] : ["Top", "Bottom"],
                type = name.toLowerCase(),
                orig = {
                    innerWidth: $.fn.innerWidth,
                    innerHeight: $.fn.innerHeight,
                    outerWidth: $.fn.outerWidth,
                    outerHeight: $.fn.outerHeight
                };

            function reduce(elem, size, border, margin) {
                $.each(side, function() {
                    size -= parseFloat($.css(elem, "padding" + this)) || 0;
                    if (border) {
                        size -= parseFloat($.css(elem, "border" + this + "Width")) || 0;
                    }
                    if (margin) {
                        size -= parseFloat($.css(elem, "margin" + this)) || 0;
                    }
                });
                return size;
            }

            $.fn["inner" + name] = function(size) {
                if (size === undefined) {
                    return orig["inner" + name].call(this);
                }

                return this.each(function() {
                    $(this).css(type, reduce(this, size) + "px");
                });
            };

            $.fn["outer" + name] = function(size, margin) {
                if (typeof size !== "number") {
                    return orig["outer" + name].call(this, size);
                }

                return this.each(function() {
                    $(this).css(type, reduce(this, size, true, margin) + "px");
                });
            };
        });
    }

    // support: jQuery <1.8
    if (!$.fn.addBack) {
        $.fn.addBack = function(selector) {
            return this.add(selector == null ?
                this.prevObject : this.prevObject.filter(selector)
            );
        };
    }

    // support: jQuery 1.6.1, 1.6.2 (http://bugs.jquery.com/ticket/9413)
    if ($("<a>").data("a-b", "a").removeData("a-b").data("a-b")) {
        $.fn.removeData = (function(removeData) {
            return function(key) {
                if (arguments.length) {
                    return removeData.call(this, $.camelCase(key));
                } else {
                    return removeData.call(this);
                }
            };
        })($.fn.removeData);
    }

    // deprecated
    $.ui.ie = !!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());

    $.fn.extend({
        focus: (function(orig) {
            return function(delay, fn) {
                return typeof delay === "number" ?
                    this.each(function() {
                        var elem = this;
                        setTimeout(function() {
                            $(elem).focus();
                            if (fn) {
                                fn.call(elem);
                            }
                        }, delay);
                    }) :
                    orig.apply(this, arguments);
            };
        })($.fn.focus),

        disableSelection: (function() {
            var eventType = "onselectstart" in document.createElement("div") ?
                "selectstart" :
                "mousedown";

            return function() {
                return this.bind(eventType + ".ui-disableSelection", function(event) {
                    event.preventDefault();
                });
            };
        })(),

        enableSelection: function() {
            return this.unbind(".ui-disableSelection");
        },

        zIndex: function(zIndex) {
            if (zIndex !== undefined) {
                return this.css("zIndex", zIndex);
            }

            if (this.length) {
                var elem = $(this[0]),
                    position, value;
                while (elem.length && elem[0] !== document) {
                    // Ignore z-index if position is set to a value where z-index is ignored by the browser
                    // This makes behavior of this function consistent across browsers
                    // WebKit always returns auto if the element is positioned
                    position = elem.css("position");
                    if (position === "absolute" || position === "relative" || position === "fixed") {
                        // IE returns 0 when zIndex is not specified
                        // other browsers return a string
                        // we ignore the case of nested elements with an explicit value of 0
                        // <div style="z-index: -10;"><div style="z-index: 0;"></div></div>
                        value = parseInt(elem.css("zIndex"), 10);
                        if (!isNaN(value) && value !== 0) {
                            return value;
                        }
                    }
                    elem = elem.parent();
                }
            }

            return 0;
        }
    });

    // $.ui.plugin is deprecated. Use $.widget() extensions instead.
    $.ui.plugin = {
        add: function(module, option, set) {
            var i,
                proto = $.ui[module].prototype;
            for (i in set) {
                proto.plugins[i] = proto.plugins[i] || [];
                proto.plugins[i].push([option, set[i]]);
            }
        },
        call: function(instance, name, args, allowDisconnected) {
            var i,
                set = instance.plugins[name];

            if (!set) {
                return;
            }

            if (!allowDisconnected && (!instance.element[0].parentNode || instance.element[0].parentNode.nodeType === 11)) {
                return;
            }

            for (i = 0; i < set.length; i++) {
                if (instance.options[set[i][0]]) {
                    set[i][1].apply(instance.element, args);
                }
            }
        }
    };


    /*!
     * jQuery UI Widget 1.11.2
     * http://jqueryui.com
     *
     * Copyright 2014 jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     *
     * http://api.jqueryui.com/jQuery.widget/
     */


    var widget_uuid = 0,
        widget_slice = Array.prototype.slice;

    $.cleanData = (function(orig) {
        return function(elems) {
            var events, elem, i;
            for (i = 0;
                (elem = elems[i]) != null; i++) {
                try {

                    // Only trigger remove when necessary to save time
                    events = $._data(elem, "events");
                    if (events && events.remove) {
                        $(elem).triggerHandler("remove");
                    }

                    // http://bugs.jquery.com/ticket/8235
                } catch (e) {}
            }
            orig(elems);
        };
    })($.cleanData);

    $.widget = function(name, base, prototype) {
        var fullName, existingConstructor, constructor, basePrototype,
            // proxiedPrototype allows the provided prototype to remain unmodified
            // so that it can be used as a mixin for multiple widgets (#8876)
            proxiedPrototype = {},
            namespace = name.split(".")[0];

        name = name.split(".")[1];
        fullName = namespace + "-" + name;

        if (!prototype) {
            prototype = base;
            base = $.Widget;
        }

        // create selector for plugin
        $.expr[":"][fullName.toLowerCase()] = function(elem) {
            return !!$.data(elem, fullName);
        };

        $[namespace] = $[namespace] || {};
        existingConstructor = $[namespace][name];
        constructor = $[namespace][name] = function(options, element) {
            // allow instantiation without "new" keyword
            if (!this._createWidget) {
                return new constructor(options, element);
            }

            // allow instantiation without initializing for simple inheritance
            // must use "new" keyword (the code above always passes args)
            if (arguments.length) {
                this._createWidget(options, element);
            }
        };
        // extend with the existing constructor to carry over any static properties
        $.extend(constructor, existingConstructor, {
            version: prototype.version,
            // copy the object used to create the prototype in case we need to
            // redefine the widget later
            _proto: $.extend({}, prototype),
            // track widgets that inherit from this widget in case this widget is
            // redefined after a widget inherits from it
            _childConstructors: []
        });

        basePrototype = new base();
        // we need to make the options hash a property directly on the new instance
        // otherwise we'll modify the options hash on the prototype that we're
        // inheriting from
        basePrototype.options = $.widget.extend({}, basePrototype.options);
        $.each(prototype, function(prop, value) {
            if (!$.isFunction(value)) {
                proxiedPrototype[prop] = value;
                return;
            }
            proxiedPrototype[prop] = (function() {
                var _super = function() {
                        return base.prototype[prop].apply(this, arguments);
                    },
                    _superApply = function(args) {
                        return base.prototype[prop].apply(this, args);
                    };
                return function() {
                    var __super = this._super,
                        __superApply = this._superApply,
                        returnValue;

                    this._super = _super;
                    this._superApply = _superApply;

                    returnValue = value.apply(this, arguments);

                    this._super = __super;
                    this._superApply = __superApply;

                    return returnValue;
                };
            })();
        });
        constructor.prototype = $.widget.extend(basePrototype, {
            // TODO: remove support for widgetEventPrefix
            // always use the name + a colon as the prefix, e.g., draggable:start
            // don't prefix for widgets that aren't DOM-based
            widgetEventPrefix: existingConstructor ? (basePrototype.widgetEventPrefix || name) : name
        }, proxiedPrototype, {
            constructor: constructor,
            namespace: namespace,
            widgetName: name,
            widgetFullName: fullName
        });

        // If this widget is being redefined then we need to find all widgets that
        // are inheriting from it and redefine all of them so that they inherit from
        // the new version of this widget. We're essentially trying to replace one
        // level in the prototype chain.
        if (existingConstructor) {
            $.each(existingConstructor._childConstructors, function(i, child) {
                var childPrototype = child.prototype;

                // redefine the child widget using the same prototype that was
                // originally used, but inherit from the new version of the base
                $.widget(childPrototype.namespace + "." + childPrototype.widgetName, constructor, child._proto);
            });
            // remove the list of existing child constructors from the old constructor
            // so the old child constructors can be garbage collected
            delete existingConstructor._childConstructors;
        } else {
            base._childConstructors.push(constructor);
        }

        $.widget.bridge(name, constructor);

        return constructor;
    };

    $.widget.extend = function(target) {
        var input = widget_slice.call(arguments, 1),
            inputIndex = 0,
            inputLength = input.length,
            key,
            value;
        for (; inputIndex < inputLength; inputIndex++) {
            for (key in input[inputIndex]) {
                value = input[inputIndex][key];
                if (input[inputIndex].hasOwnProperty(key) && value !== undefined) {
                    // Clone objects
                    if ($.isPlainObject(value)) {
                        target[key] = $.isPlainObject(target[key]) ?
                            $.widget.extend({}, target[key], value) :
                            // Don't extend strings, arrays, etc. with objects
                            $.widget.extend({}, value);
                        // Copy everything else by reference
                    } else {
                        target[key] = value;
                    }
                }
            }
        }
        return target;
    };

    $.widget.bridge = function(name, object) {
        var fullName = object.prototype.widgetFullName || name;
        $.fn[name] = function(options) {
            var isMethodCall = typeof options === "string",
                args = widget_slice.call(arguments, 1),
                returnValue = this;

            // allow multiple hashes to be passed on init
            options = !isMethodCall && args.length ?
                $.widget.extend.apply(null, [options].concat(args)) :
                options;

            if (isMethodCall) {
                this.each(function() {
                    var methodValue,
                        instance = $.data(this, fullName);
                    if (options === "instance") {
                        returnValue = instance;
                        return false;
                    }
                    if (!instance) {
                        return $.error("cannot call methods on " + name + " prior to initialization; " +
                            "attempted to call method '" + options + "'");
                    }
                    if (!$.isFunction(instance[options]) || options.charAt(0) === "_") {
                        return $.error("no such method '" + options + "' for " + name + " widget instance");
                    }
                    methodValue = instance[options].apply(instance, args);
                    if (methodValue !== instance && methodValue !== undefined) {
                        returnValue = methodValue && methodValue.jquery ?
                            returnValue.pushStack(methodValue.get()) :
                            methodValue;
                        return false;
                    }
                });
            } else {
                this.each(function() {
                    var instance = $.data(this, fullName);
                    if (instance) {
                        instance.option(options || {});
                        if (instance._init) {
                            instance._init();
                        }
                    } else {
                        $.data(this, fullName, new object(options, this));
                    }
                });
            }

            return returnValue;
        };
    };

    $.Widget = function( /* options, element */ ) {};
    $.Widget._childConstructors = [];

    $.Widget.prototype = {
        widgetName: "widget",
        widgetEventPrefix: "",
        defaultElement: "<div>",
        options: {
            disabled: false,

            // callbacks
            create: null
        },
        _createWidget: function(options, element) {
            element = $(element || this.defaultElement || this)[0];
            this.element = $(element);
            this.uuid = widget_uuid++;
            this.eventNamespace = "." + this.widgetName + this.uuid;

            this.bindings = $();
            this.hoverable = $();
            this.focusable = $();

            if (element !== this) {
                $.data(element, this.widgetFullName, this);
                this._on(true, this.element, {
                    remove: function(event) {
                        if (event.target === element) {
                            this.destroy();
                        }
                    }
                });
                this.document = $(element.style ?
                    // element within the document
                    element.ownerDocument :
                    // element is window or document
                    element.document || element);
                this.window = $(this.document[0].defaultView || this.document[0].parentWindow);
            }

            this.options = $.widget.extend({},
                this.options,
                this._getCreateOptions(),
                options);

            this._create();
            this._trigger("create", null, this._getCreateEventData());
            this._init();
        },
        _getCreateOptions: $.noop,
        _getCreateEventData: $.noop,
        _create: $.noop,
        _init: $.noop,

        destroy: function() {
            this._destroy();
            // we can probably remove the unbind calls in 2.0
            // all event bindings should go through this._on()
            this.element
                .unbind(this.eventNamespace)
                .removeData(this.widgetFullName)
                // support: jquery <1.6.3
                // http://bugs.jquery.com/ticket/9413
                .removeData($.camelCase(this.widgetFullName));
            this.widget()
                .unbind(this.eventNamespace)
                .removeAttr("aria-disabled")
                .removeClass(
                    this.widgetFullName + "-disabled " +
                    "ui-state-disabled");

            // clean up events and states
            this.bindings.unbind(this.eventNamespace);
            this.hoverable.removeClass("ui-state-hover");
            this.focusable.removeClass("ui-state-focus");
        },
        _destroy: $.noop,

        widget: function() {
            return this.element;
        },

        option: function(key, value) {
            var options = key,
                parts,
                curOption,
                i;

            if (arguments.length === 0) {
                // don't return a reference to the internal hash
                return $.widget.extend({}, this.options);
            }

            if (typeof key === "string") {
                // handle nested keys, e.g., "foo.bar" => { foo: { bar: ___ } }
                options = {};
                parts = key.split(".");
                key = parts.shift();
                if (parts.length) {
                    curOption = options[key] = $.widget.extend({}, this.options[key]);
                    for (i = 0; i < parts.length - 1; i++) {
                        curOption[parts[i]] = curOption[parts[i]] || {};
                        curOption = curOption[parts[i]];
                    }
                    key = parts.pop();
                    if (arguments.length === 1) {
                        return curOption[key] === undefined ? null : curOption[key];
                    }
                    curOption[key] = value;
                } else {
                    if (arguments.length === 1) {
                        return this.options[key] === undefined ? null : this.options[key];
                    }
                    options[key] = value;
                }
            }

            this._setOptions(options);

            return this;
        },
        _setOptions: function(options) {
            var key;

            for (key in options) {
                this._setOption(key, options[key]);
            }

            return this;
        },
        _setOption: function(key, value) {
            this.options[key] = value;

            if (key === "disabled") {
                this.widget()
                    .toggleClass(this.widgetFullName + "-disabled", !!value);

                // If the widget is becoming disabled, then nothing is interactive
                if (value) {
                    this.hoverable.removeClass("ui-state-hover");
                    this.focusable.removeClass("ui-state-focus");
                }
            }

            return this;
        },

        enable: function() {
            return this._setOptions({
                disabled: false
            });
        },
        disable: function() {
            return this._setOptions({
                disabled: true
            });
        },

        _on: function(suppressDisabledCheck, element, handlers) {
            var delegateElement,
                instance = this;

            // no suppressDisabledCheck flag, shuffle arguments
            if (typeof suppressDisabledCheck !== "boolean") {
                handlers = element;
                element = suppressDisabledCheck;
                suppressDisabledCheck = false;
            }

            // no element argument, shuffle and use this.element
            if (!handlers) {
                handlers = element;
                element = this.element;
                delegateElement = this.widget();
            } else {
                element = delegateElement = $(element);
                this.bindings = this.bindings.add(element);
            }

            $.each(handlers, function(event, handler) {
                function handlerProxy() {
                    // allow widgets to customize the disabled handling
                    // - disabled as an array instead of boolean
                    // - disabled class as method for disabling individual parts
                    if (!suppressDisabledCheck &&
                        (instance.options.disabled === true ||
                            $(this).hasClass("ui-state-disabled"))) {
                        return;
                    }
                    return (typeof handler === "string" ? instance[handler] : handler)
                        .apply(instance, arguments);
                }

                // copy the guid so direct unbinding works
                if (typeof handler !== "string") {
                    handlerProxy.guid = handler.guid =
                        handler.guid || handlerProxy.guid || $.guid++;
                }

                var match = event.match(/^([\w:-]*)\s*(.*)$/),
                    eventName = match[1] + instance.eventNamespace,
                    selector = match[2];
                if (selector) {
                    delegateElement.delegate(selector, eventName, handlerProxy);
                } else {
                    element.bind(eventName, handlerProxy);
                }
            });
        },

        _off: function(element, eventName) {
            eventName = (eventName || "").split(" ").join(this.eventNamespace + " ") +
                this.eventNamespace;
            element.unbind(eventName).undelegate(eventName);

            // Clear the stack to avoid memory leaks (#10056)
            this.bindings = $(this.bindings.not(element).get());
            this.focusable = $(this.focusable.not(element).get());
            this.hoverable = $(this.hoverable.not(element).get());
        },

        _delay: function(handler, delay) {
            function handlerProxy() {
                return (typeof handler === "string" ? instance[handler] : handler)
                    .apply(instance, arguments);
            }
            var instance = this;
            return setTimeout(handlerProxy, delay || 0);
        },

        _hoverable: function(element) {
            this.hoverable = this.hoverable.add(element);
            this._on(element, {
                mouseenter: function(event) {
                    $(event.currentTarget).addClass("ui-state-hover");
                },
                mouseleave: function(event) {
                    $(event.currentTarget).removeClass("ui-state-hover");
                }
            });
        },

        _focusable: function(element) {
            this.focusable = this.focusable.add(element);
            this._on(element, {
                focusin: function(event) {
                    $(event.currentTarget).addClass("ui-state-focus");
                },
                focusout: function(event) {
                    $(event.currentTarget).removeClass("ui-state-focus");
                }
            });
        },

        _trigger: function(type, event, data) {
            var prop, orig,
                callback = this.options[type];

            data = data || {};
            event = $.Event(event);
            event.type = (type === this.widgetEventPrefix ?
                type :
                this.widgetEventPrefix + type).toLowerCase();
            // the original event may come from any element
            // so we need to reset the target on the new event
            event.target = this.element[0];

            // copy original event properties over to the new event
            orig = event.originalEvent;
            if (orig) {
                for (prop in orig) {
                    if (!(prop in event)) {
                        event[prop] = orig[prop];
                    }
                }
            }

            this.element.trigger(event, data);
            return !($.isFunction(callback) &&
                callback.apply(this.element[0], [event].concat(data)) === false ||
                event.isDefaultPrevented());
        }
    };

    $.each({
        show: "fadeIn",
        hide: "fadeOut"
    }, function(method, defaultEffect) {
        $.Widget.prototype["_" + method] = function(element, options, callback) {
            if (typeof options === "string") {
                options = {
                    effect: options
                };
            }
            var hasOptions,
                effectName = !options ?
                method :
                options === true || typeof options === "number" ?
                defaultEffect :
                options.effect || defaultEffect;
            options = options || {};
            if (typeof options === "number") {
                options = {
                    duration: options
                };
            }
            hasOptions = !$.isEmptyObject(options);
            options.complete = callback;
            if (options.delay) {
                element.delay(options.delay);
            }
            if (hasOptions && $.effects && $.effects.effect[effectName]) {
                element[method](options);
            } else if (effectName !== method && element[effectName]) {
                element[effectName](options.duration, options.easing, callback);
            } else {
                element.queue(function(next) {
                    $(this)[method]();
                    if (callback) {
                        callback.call(element[0]);
                    }
                    next();
                });
            }
        };
    });

    var widget = $.widget;


    /*!
     * jQuery UI Mouse 1.11.2
     * http://jqueryui.com
     *
     * Copyright 2014 jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     *
     * http://api.jqueryui.com/mouse/
     */


    var mouseHandled = false;
    $(document).mouseup(function() {
        mouseHandled = false;
    });

    var mouse = $.widget("ui.mouse", {
        version: "1.11.2",
        options: {
            cancel: "input,textarea,button,select,option",
            distance: 1,
            delay: 0
        },
        _mouseInit: function() {
            var that = this;

            this.element
                .bind("mousedown." + this.widgetName, function(event) {
                    return that._mouseDown(event);
                })
                .bind("click." + this.widgetName, function(event) {
                    if (true === $.data(event.target, that.widgetName + ".preventClickEvent")) {
                        $.removeData(event.target, that.widgetName + ".preventClickEvent");
                        event.stopImmediatePropagation();
                        return false;
                    }
                });

            this.started = false;
        },

        // TODO: make sure destroying one instance of mouse doesn't mess with
        // other instances of mouse
        _mouseDestroy: function() {
            this.element.unbind("." + this.widgetName);
            if (this._mouseMoveDelegate) {
                this.document
                    .unbind("mousemove." + this.widgetName, this._mouseMoveDelegate)
                    .unbind("mouseup." + this.widgetName, this._mouseUpDelegate);
            }
        },

        _mouseDown: function(event) {
            // don't let more than one widget handle mouseStart
            if (mouseHandled) {
                return;
            }

            this._mouseMoved = false;

            // we may have missed mouseup (out of window)
            (this._mouseStarted && this._mouseUp(event));

            this._mouseDownEvent = event;

            var that = this,
                btnIsLeft = (event.which === 1),
                // event.target.nodeName works around a bug in IE 8 with
                // disabled inputs (#7620)
                elIsCancel = (typeof this.options.cancel === "string" && event.target.nodeName ? $(event.target).closest(this.options.cancel).length : false);
            if (!btnIsLeft || elIsCancel || !this._mouseCapture(event)) {
                return true;
            }

            this.mouseDelayMet = !this.options.delay;
            if (!this.mouseDelayMet) {
                this._mouseDelayTimer = setTimeout(function() {
                    that.mouseDelayMet = true;
                }, this.options.delay);
            }

            if (this._mouseDistanceMet(event) && this._mouseDelayMet(event)) {
                this._mouseStarted = (this._mouseStart(event) !== false);
                if (!this._mouseStarted) {
                    event.preventDefault();
                    return true;
                }
            }

            // Click event may never have fired (Gecko & Opera)
            if (true === $.data(event.target, this.widgetName + ".preventClickEvent")) {
                $.removeData(event.target, this.widgetName + ".preventClickEvent");
            }

            // these delegates are required to keep context
            this._mouseMoveDelegate = function(event) {
                return that._mouseMove(event);
            };
            this._mouseUpDelegate = function(event) {
                return that._mouseUp(event);
            };

            this.document
                .bind("mousemove." + this.widgetName, this._mouseMoveDelegate)
                .bind("mouseup." + this.widgetName, this._mouseUpDelegate);

            event.preventDefault();

            mouseHandled = true;
            return true;
        },

        _mouseMove: function(event) {
            // Only check for mouseups outside the document if you've moved inside the document
            // at least once. This prevents the firing of mouseup in the case of IE<9, which will
            // fire a mousemove event if content is placed under the cursor. See #7778
            // Support: IE <9
            if (this._mouseMoved) {
                // IE mouseup check - mouseup happened when mouse was out of window
                if ($.ui.ie && (!document.documentMode || document.documentMode < 9) && !event.button) {
                    return this._mouseUp(event);

                    // Iframe mouseup check - mouseup occurred in another document
                } else if (!event.which) {
                    return this._mouseUp(event);
                }
            }

            if (event.which || event.button) {
                this._mouseMoved = true;
            }

            if (this._mouseStarted) {
                this._mouseDrag(event);
                return event.preventDefault();
            }

            if (this._mouseDistanceMet(event) && this._mouseDelayMet(event)) {
                this._mouseStarted =
                    (this._mouseStart(this._mouseDownEvent, event) !== false);
                (this._mouseStarted ? this._mouseDrag(event) : this._mouseUp(event));
            }

            return !this._mouseStarted;
        },

        _mouseUp: function(event) {
            this.document
                .unbind("mousemove." + this.widgetName, this._mouseMoveDelegate)
                .unbind("mouseup." + this.widgetName, this._mouseUpDelegate);

            if (this._mouseStarted) {
                this._mouseStarted = false;

                if (event.target === this._mouseDownEvent.target) {
                    $.data(event.target, this.widgetName + ".preventClickEvent", true);
                }

                this._mouseStop(event);
            }

            mouseHandled = false;
            return false;
        },

        _mouseDistanceMet: function(event) {
            return (Math.max(
                Math.abs(this._mouseDownEvent.pageX - event.pageX),
                Math.abs(this._mouseDownEvent.pageY - event.pageY)
            ) >= this.options.distance);
        },

        _mouseDelayMet: function( /* event */ ) {
            return this.mouseDelayMet;
        },

        // These are placeholder methods, to be overriden by extending plugin
        _mouseStart: function( /* event */ ) {},
        _mouseDrag: function( /* event */ ) {},
        _mouseStop: function( /* event */ ) {},
        _mouseCapture: function( /* event */ ) {
            return true;
        }
    });


    /*!
     * jQuery UI Position 1.11.2
     * http://jqueryui.com
     *
     * Copyright 2014 jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     *
     * http://api.jqueryui.com/position/
     */

    (function() {

        $.ui = $.ui || {};

        var cachedScrollbarWidth, supportsOffsetFractions,
            max = Math.max,
            abs = Math.abs,
            round = Math.round,
            rhorizontal = /left|center|right/,
            rvertical = /top|center|bottom/,
            roffset = /[\+\-]\d+(\.[\d]+)?%?/,
            rposition = /^\w+/,
            rpercent = /%$/,
            _position = $.fn.position;

        function getOffsets(offsets, width, height) {
            return [
                parseFloat(offsets[0]) * (rpercent.test(offsets[0]) ? width / 100 : 1),
                parseFloat(offsets[1]) * (rpercent.test(offsets[1]) ? height / 100 : 1)
            ];
        }

        function parseCss(element, property) {
            return parseInt($.css(element, property), 10) || 0;
        }

        function getDimensions(elem) {
            var raw = elem[0];
            if (raw.nodeType === 9) {
                return {
                    width: elem.width(),
                    height: elem.height(),
                    offset: {
                        top: 0,
                        left: 0
                    }
                };
            }
            if ($.isWindow(raw)) {
                return {
                    width: elem.width(),
                    height: elem.height(),
                    offset: {
                        top: elem.scrollTop(),
                        left: elem.scrollLeft()
                    }
                };
            }
            if (raw.preventDefault) {
                return {
                    width: 0,
                    height: 0,
                    offset: {
                        top: raw.pageY,
                        left: raw.pageX
                    }
                };
            }
            return {
                width: elem.outerWidth(),
                height: elem.outerHeight(),
                offset: elem.offset()
            };
        }

        $.position = {
            scrollbarWidth: function() {
                if (cachedScrollbarWidth !== undefined) {
                    return cachedScrollbarWidth;
                }
                var w1, w2,
                    div = $("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),
                    innerDiv = div.children()[0];

                $("body").append(div);
                w1 = innerDiv.offsetWidth;
                div.css("overflow", "scroll");

                w2 = innerDiv.offsetWidth;

                if (w1 === w2) {
                    w2 = div[0].clientWidth;
                }

                div.remove();

                return (cachedScrollbarWidth = w1 - w2);
            },
            getScrollInfo: function(within) {
                var overflowX = within.isWindow || within.isDocument ? "" :
                    within.element.css("overflow-x"),
                    overflowY = within.isWindow || within.isDocument ? "" :
                    within.element.css("overflow-y"),
                    hasOverflowX = overflowX === "scroll" ||
                    (overflowX === "auto" && within.width < within.element[0].scrollWidth),
                    hasOverflowY = overflowY === "scroll" ||
                    (overflowY === "auto" && within.height < within.element[0].scrollHeight);
                return {
                    width: hasOverflowY ? $.position.scrollbarWidth() : 0,
                    height: hasOverflowX ? $.position.scrollbarWidth() : 0
                };
            },
            getWithinInfo: function(element) {
                var withinElement = $(element || window),
                    isWindow = $.isWindow(withinElement[0]),
                    isDocument = !!withinElement[0] && withinElement[0].nodeType === 9;
                return {
                    element: withinElement,
                    isWindow: isWindow,
                    isDocument: isDocument,
                    offset: withinElement.offset() || {
                        left: 0,
                        top: 0
                    },
                    scrollLeft: withinElement.scrollLeft(),
                    scrollTop: withinElement.scrollTop(),

                    // support: jQuery 1.6.x
                    // jQuery 1.6 doesn't support .outerWidth/Height() on documents or windows
                    width: isWindow || isDocument ? withinElement.width() : withinElement.outerWidth(),
                    height: isWindow || isDocument ? withinElement.height() : withinElement.outerHeight()
                };
            }
        };

        $.fn.position = function(options) {
            if (!options || !options.of) {
                return _position.apply(this, arguments);
            }

            // make a copy, we don't want to modify arguments
            options = $.extend({}, options);

            var atOffset, targetWidth, targetHeight, targetOffset, basePosition, dimensions,
                target = $(options.of),
                within = $.position.getWithinInfo(options.within),
                scrollInfo = $.position.getScrollInfo(within),
                collision = (options.collision || "flip").split(" "),
                offsets = {};

            dimensions = getDimensions(target);
            if (target[0].preventDefault) {
                // force left top to allow flipping
                options.at = "left top";
            }
            targetWidth = dimensions.width;
            targetHeight = dimensions.height;
            targetOffset = dimensions.offset;
            // clone to reuse original targetOffset later
            basePosition = $.extend({}, targetOffset);

            // force my and at to have valid horizontal and vertical positions
            // if a value is missing or invalid, it will be converted to center
            $.each(["my", "at"], function() {
                var pos = (options[this] || "").split(" "),
                    horizontalOffset,
                    verticalOffset;

                if (pos.length === 1) {
                    pos = rhorizontal.test(pos[0]) ?
                        pos.concat(["center"]) :
                        rvertical.test(pos[0]) ? ["center"].concat(pos) : ["center", "center"];
                }
                pos[0] = rhorizontal.test(pos[0]) ? pos[0] : "center";
                pos[1] = rvertical.test(pos[1]) ? pos[1] : "center";

                // calculate offsets
                horizontalOffset = roffset.exec(pos[0]);
                verticalOffset = roffset.exec(pos[1]);
                offsets[this] = [
                    horizontalOffset ? horizontalOffset[0] : 0,
                    verticalOffset ? verticalOffset[0] : 0
                ];

                // reduce to just the positions without the offsets
                options[this] = [
                    rposition.exec(pos[0])[0],
                    rposition.exec(pos[1])[0]
                ];
            });

            // normalize collision option
            if (collision.length === 1) {
                collision[1] = collision[0];
            }

            if (options.at[0] === "right") {
                basePosition.left += targetWidth;
            } else if (options.at[0] === "center") {
                basePosition.left += targetWidth / 2;
            }

            if (options.at[1] === "bottom") {
                basePosition.top += targetHeight;
            } else if (options.at[1] === "center") {
                basePosition.top += targetHeight / 2;
            }

            atOffset = getOffsets(offsets.at, targetWidth, targetHeight);
            basePosition.left += atOffset[0];
            basePosition.top += atOffset[1];

            return this.each(function() {
                var collisionPosition, using,
                    elem = $(this),
                    elemWidth = elem.outerWidth(),
                    elemHeight = elem.outerHeight(),
                    marginLeft = parseCss(this, "marginLeft"),
                    marginTop = parseCss(this, "marginTop"),
                    collisionWidth = elemWidth + marginLeft + parseCss(this, "marginRight") + scrollInfo.width,
                    collisionHeight = elemHeight + marginTop + parseCss(this, "marginBottom") + scrollInfo.height,
                    position = $.extend({}, basePosition),
                    myOffset = getOffsets(offsets.my, elem.outerWidth(), elem.outerHeight());

                if (options.my[0] === "right") {
                    position.left -= elemWidth;
                } else if (options.my[0] === "center") {
                    position.left -= elemWidth / 2;
                }

                if (options.my[1] === "bottom") {
                    position.top -= elemHeight;
                } else if (options.my[1] === "center") {
                    position.top -= elemHeight / 2;
                }

                position.left += myOffset[0];
                position.top += myOffset[1];

                // if the browser doesn't support fractions, then round for consistent results
                if (!supportsOffsetFractions) {
                    position.left = round(position.left);
                    position.top = round(position.top);
                }

                collisionPosition = {
                    marginLeft: marginLeft,
                    marginTop: marginTop
                };

                $.each(["left", "top"], function(i, dir) {
                    if ($.ui.position[collision[i]]) {
                        $.ui.position[collision[i]][dir](position, {
                            targetWidth: targetWidth,
                            targetHeight: targetHeight,
                            elemWidth: elemWidth,
                            elemHeight: elemHeight,
                            collisionPosition: collisionPosition,
                            collisionWidth: collisionWidth,
                            collisionHeight: collisionHeight,
                            offset: [atOffset[0] + myOffset[0], atOffset[1] + myOffset[1]],
                            my: options.my,
                            at: options.at,
                            within: within,
                            elem: elem
                        });
                    }
                });

                if (options.using) {
                    // adds feedback as second argument to using callback, if present
                    using = function(props) {
                        var left = targetOffset.left - position.left,
                            right = left + targetWidth - elemWidth,
                            top = targetOffset.top - position.top,
                            bottom = top + targetHeight - elemHeight,
                            feedback = {
                                target: {
                                    element: target,
                                    left: targetOffset.left,
                                    top: targetOffset.top,
                                    width: targetWidth,
                                    height: targetHeight
                                },
                                element: {
                                    element: elem,
                                    left: position.left,
                                    top: position.top,
                                    width: elemWidth,
                                    height: elemHeight
                                },
                                horizontal: right < 0 ? "left" : left > 0 ? "right" : "center",
                                vertical: bottom < 0 ? "top" : top > 0 ? "bottom" : "middle"
                            };
                        if (targetWidth < elemWidth && abs(left + right) < targetWidth) {
                            feedback.horizontal = "center";
                        }
                        if (targetHeight < elemHeight && abs(top + bottom) < targetHeight) {
                            feedback.vertical = "middle";
                        }
                        if (max(abs(left), abs(right)) > max(abs(top), abs(bottom))) {
                            feedback.important = "horizontal";
                        } else {
                            feedback.important = "vertical";
                        }
                        options.using.call(this, props, feedback);
                    };
                }

                elem.offset($.extend(position, {
                    using: using
                }));
            });
        };

        $.ui.position = {
            fit: {
                left: function(position, data) {
                    var within = data.within,
                        withinOffset = within.isWindow ? within.scrollLeft : within.offset.left,
                        outerWidth = within.width,
                        collisionPosLeft = position.left - data.collisionPosition.marginLeft,
                        overLeft = withinOffset - collisionPosLeft,
                        overRight = collisionPosLeft + data.collisionWidth - outerWidth - withinOffset,
                        newOverRight;

                    // element is wider than within
                    if (data.collisionWidth > outerWidth) {
                        // element is initially over the left side of within
                        if (overLeft > 0 && overRight <= 0) {
                            newOverRight = position.left + overLeft + data.collisionWidth - outerWidth - withinOffset;
                            position.left += overLeft - newOverRight;
                            // element is initially over right side of within
                        } else if (overRight > 0 && overLeft <= 0) {
                            position.left = withinOffset;
                            // element is initially over both left and right sides of within
                        } else {
                            if (overLeft > overRight) {
                                position.left = withinOffset + outerWidth - data.collisionWidth;
                            } else {
                                position.left = withinOffset;
                            }
                        }
                        // too far left -> align with left edge
                    } else if (overLeft > 0) {
                        position.left += overLeft;
                        // too far right -> align with right edge
                    } else if (overRight > 0) {
                        position.left -= overRight;
                        // adjust based on position and margin
                    } else {
                        position.left = max(position.left - collisionPosLeft, position.left);
                    }
                },
                top: function(position, data) {
                    var within = data.within,
                        withinOffset = within.isWindow ? within.scrollTop : within.offset.top,
                        outerHeight = data.within.height,
                        collisionPosTop = position.top - data.collisionPosition.marginTop,
                        overTop = withinOffset - collisionPosTop,
                        overBottom = collisionPosTop + data.collisionHeight - outerHeight - withinOffset,
                        newOverBottom;

                    // element is taller than within
                    if (data.collisionHeight > outerHeight) {
                        // element is initially over the top of within
                        if (overTop > 0 && overBottom <= 0) {
                            newOverBottom = position.top + overTop + data.collisionHeight - outerHeight - withinOffset;
                            position.top += overTop - newOverBottom;
                            // element is initially over bottom of within
                        } else if (overBottom > 0 && overTop <= 0) {
                            position.top = withinOffset;
                            // element is initially over both top and bottom of within
                        } else {
                            if (overTop > overBottom) {
                                position.top = withinOffset + outerHeight - data.collisionHeight;
                            } else {
                                position.top = withinOffset;
                            }
                        }
                        // too far up -> align with top
                    } else if (overTop > 0) {
                        position.top += overTop;
                        // too far down -> align with bottom edge
                    } else if (overBottom > 0) {
                        position.top -= overBottom;
                        // adjust based on position and margin
                    } else {
                        position.top = max(position.top - collisionPosTop, position.top);
                    }
                }
            },
            flip: {
                left: function(position, data) {
                    var within = data.within,
                        withinOffset = within.offset.left + within.scrollLeft,
                        outerWidth = within.width,
                        offsetLeft = within.isWindow ? within.scrollLeft : within.offset.left,
                        collisionPosLeft = position.left - data.collisionPosition.marginLeft,
                        overLeft = collisionPosLeft - offsetLeft,
                        overRight = collisionPosLeft + data.collisionWidth - outerWidth - offsetLeft,
                        myOffset = data.my[0] === "left" ?
                        -data.elemWidth :
                        data.my[0] === "right" ?
                        data.elemWidth :
                        0,
                        atOffset = data.at[0] === "left" ?
                        data.targetWidth :
                        data.at[0] === "right" ?
                        -data.targetWidth :
                        0,
                        offset = -2 * data.offset[0],
                        newOverRight,
                        newOverLeft;

                    if (overLeft < 0) {
                        newOverRight = position.left + myOffset + atOffset + offset + data.collisionWidth - outerWidth - withinOffset;
                        if (newOverRight < 0 || newOverRight < abs(overLeft)) {
                            position.left += myOffset + atOffset + offset;
                        }
                    } else if (overRight > 0) {
                        newOverLeft = position.left - data.collisionPosition.marginLeft + myOffset + atOffset + offset - offsetLeft;
                        if (newOverLeft > 0 || abs(newOverLeft) < overRight) {
                            position.left += myOffset + atOffset + offset;
                        }
                    }
                },
                top: function(position, data) {
                    var within = data.within,
                        withinOffset = within.offset.top + within.scrollTop,
                        outerHeight = within.height,
                        offsetTop = within.isWindow ? within.scrollTop : within.offset.top,
                        collisionPosTop = position.top - data.collisionPosition.marginTop,
                        overTop = collisionPosTop - offsetTop,
                        overBottom = collisionPosTop + data.collisionHeight - outerHeight - offsetTop,
                        top = data.my[1] === "top",
                        myOffset = top ?
                        -data.elemHeight :
                        data.my[1] === "bottom" ?
                        data.elemHeight :
                        0,
                        atOffset = data.at[1] === "top" ?
                        data.targetHeight :
                        data.at[1] === "bottom" ?
                        -data.targetHeight :
                        0,
                        offset = -2 * data.offset[1],
                        newOverTop,
                        newOverBottom;
                    if (overTop < 0) {
                        newOverBottom = position.top + myOffset + atOffset + offset + data.collisionHeight - outerHeight - withinOffset;
                        if ((position.top + myOffset + atOffset + offset) > overTop && (newOverBottom < 0 || newOverBottom < abs(overTop))) {
                            position.top += myOffset + atOffset + offset;
                        }
                    } else if (overBottom > 0) {
                        newOverTop = position.top - data.collisionPosition.marginTop + myOffset + atOffset + offset - offsetTop;
                        if ((position.top + myOffset + atOffset + offset) > overBottom && (newOverTop > 0 || abs(newOverTop) < overBottom)) {
                            position.top += myOffset + atOffset + offset;
                        }
                    }
                }
            },
            flipfit: {
                left: function() {
                    $.ui.position.flip.left.apply(this, arguments);
                    $.ui.position.fit.left.apply(this, arguments);
                },
                top: function() {
                    $.ui.position.flip.top.apply(this, arguments);
                    $.ui.position.fit.top.apply(this, arguments);
                }
            }
        };

        // fraction support test
        (function() {
            var testElement, testElementParent, testElementStyle, offsetLeft, i,
                body = document.getElementsByTagName("body")[0],
                div = document.createElement("div");

            //Create a "fake body" for testing based on method used in jQuery.support
            testElement = document.createElement(body ? "div" : "body");
            testElementStyle = {
                visibility: "hidden",
                width: 0,
                height: 0,
                border: 0,
                margin: 0,
                background: "none"
            };
            if (body) {
                $.extend(testElementStyle, {
                    position: "absolute",
                    left: "-1000px",
                    top: "-1000px"
                });
            }
            for (i in testElementStyle) {
                testElement.style[i] = testElementStyle[i];
            }
            testElement.appendChild(div);
            testElementParent = body || document.documentElement;
            testElementParent.insertBefore(testElement, testElementParent.firstChild);

            div.style.cssText = "position: absolute; left: 10.7432222px;";

            offsetLeft = $(div).offset().left;
            supportsOffsetFractions = offsetLeft > 10 && offsetLeft < 11;

            testElement.innerHTML = "";
            testElementParent.removeChild(testElement);
        })();

    })();

    var position = $.ui.position;


    /*!
     * jQuery UI Menu 1.11.2
     * http://jqueryui.com
     *
     * Copyright 2014 jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     *
     * http://api.jqueryui.com/menu/
     */


    var menu = $.widget("ui.menu", {
        version: "1.11.2",
        defaultElement: "<ul>",
        delay: 300,
        options: {
            icons: {
                submenu: "ui-icon-carat-1-e"
            },
            items: "> *",
            menus: "ul",
            position: {
                my: "left-1 top",
                at: "right top"
            },
            role: "menu",

            // callbacks
            blur: null,
            focus: null,
            select: null
        },

        _create: function() {
            this.activeMenu = this.element;

            // Flag used to prevent firing of the click handler
            // as the event bubbles up through nested menus
            this.mouseHandled = false;
            this.element
                .uniqueId()
                .addClass("ui-menu ui-widget ui-widget-content")
                .toggleClass("ui-menu-icons", !!this.element.find(".ui-icon").length)
                .attr({
                    role: this.options.role,
                    tabIndex: 0
                });

            if (this.options.disabled) {
                this.element
                    .addClass("ui-state-disabled")
                    .attr("aria-disabled", "true");
            }

            this._on({
                // Prevent focus from sticking to links inside menu after clicking
                // them (focus should always stay on UL during navigation).
                "mousedown .ui-menu-item": function(event) {
                    event.preventDefault();
                },
                "click .ui-menu-item": function(event) {
                    var target = $(event.target);
                    if (!this.mouseHandled && target.not(".ui-state-disabled").length) {
                        this.select(event);

                        // Only set the mouseHandled flag if the event will bubble, see #9469.
                        if (!event.isPropagationStopped()) {
                            this.mouseHandled = true;
                        }

                        // Open submenu on click
                        if (target.has(".ui-menu").length) {
                            this.expand(event);
                        } else if (!this.element.is(":focus") && $(this.document[0].activeElement).closest(".ui-menu").length) {

                            // Redirect focus to the menu
                            this.element.trigger("focus", [true]);

                            // If the active item is on the top level, let it stay active.
                            // Otherwise, blur the active item since it is no longer visible.
                            if (this.active && this.active.parents(".ui-menu").length === 1) {
                                clearTimeout(this.timer);
                            }
                        }
                    }
                },
                "mouseenter .ui-menu-item": function(event) {
                    // Ignore mouse events while typeahead is active, see #10458.
                    // Prevents focusing the wrong item when typeahead causes a scroll while the mouse
                    // is over an item in the menu
                    if (this.previousFilter) {
                        return;
                    }
                    var target = $(event.currentTarget);
                    // Remove ui-state-active class from siblings of the newly focused menu item
                    // to avoid a jump caused by adjacent elements both having a class with a border
                    target.siblings(".ui-state-active").removeClass("ui-state-active");
                    this.focus(event, target);
                },
                mouseleave: "collapseAll",
                "mouseleave .ui-menu": "collapseAll",
                focus: function(event, keepActiveItem) {
                    // If there's already an active item, keep it active
                    // If not, activate the first item
                    var item = this.active || this.element.find(this.options.items).eq(0);

                    if (!keepActiveItem) {
                        this.focus(event, item);
                    }
                },
                blur: function(event) {
                    this._delay(function() {
                        if (!$.contains(this.element[0], this.document[0].activeElement)) {
                            this.collapseAll(event);
                        }
                    });
                },
                keydown: "_keydown"
            });

            this.refresh();

            // Clicks outside of a menu collapse any open menus
            this._on(this.document, {
                click: function(event) {
                    if (this._closeOnDocumentClick(event)) {
                        this.collapseAll(event);
                    }

                    // Reset the mouseHandled flag
                    this.mouseHandled = false;
                }
            });
        },

        _destroy: function() {
            // Destroy (sub)menus
            this.element
                .removeAttr("aria-activedescendant")
                .find(".ui-menu").addBack()
                .removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front")
                .removeAttr("role")
                .removeAttr("tabIndex")
                .removeAttr("aria-labelledby")
                .removeAttr("aria-expanded")
                .removeAttr("aria-hidden")
                .removeAttr("aria-disabled")
                .removeUniqueId()
                .show();

            // Destroy menu items
            this.element.find(".ui-menu-item")
                .removeClass("ui-menu-item")
                .removeAttr("role")
                .removeAttr("aria-disabled")
                .removeUniqueId()
                .removeClass("ui-state-hover")
                .removeAttr("tabIndex")
                .removeAttr("role")
                .removeAttr("aria-haspopup")
                .children().each(function() {
                    var elem = $(this);
                    if (elem.data("ui-menu-submenu-carat")) {
                        elem.remove();
                    }
                });

            // Destroy menu dividers
            this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content");
        },

        _keydown: function(event) {
            var match, prev, character, skip,
                preventDefault = true;

            switch (event.keyCode) {
                case $.ui.keyCode.PAGE_UP:
                    this.previousPage(event);
                    break;
                case $.ui.keyCode.PAGE_DOWN:
                    this.nextPage(event);
                    break;
                case $.ui.keyCode.HOME:
                    this._move("first", "first", event);
                    break;
                case $.ui.keyCode.END:
                    this._move("last", "last", event);
                    break;
                case $.ui.keyCode.UP:
                    this.previous(event);
                    break;
                case $.ui.keyCode.DOWN:
                    this.next(event);
                    break;
                case $.ui.keyCode.LEFT:
                    this.collapse(event);
                    break;
                case $.ui.keyCode.RIGHT:
                    if (this.active && !this.active.is(".ui-state-disabled")) {
                        this.expand(event);
                    }
                    break;
                case $.ui.keyCode.ENTER:
                case $.ui.keyCode.SPACE:
                    this._activate(event);
                    break;
                case $.ui.keyCode.ESCAPE:
                    this.collapse(event);
                    break;
                default:
                    preventDefault = false;
                    prev = this.previousFilter || "";
                    character = String.fromCharCode(event.keyCode);
                    skip = false;

                    clearTimeout(this.filterTimer);

                    if (character === prev) {
                        skip = true;
                    } else {
                        character = prev + character;
                    }

                    match = this._filterMenuItems(character);
                    match = skip && match.index(this.active.next()) !== -1 ?
                        this.active.nextAll(".ui-menu-item") :
                        match;

                    // If no matches on the current filter, reset to the last character pressed
                    // to move down the menu to the first item that starts with that character
                    if (!match.length) {
                        character = String.fromCharCode(event.keyCode);
                        match = this._filterMenuItems(character);
                    }

                    if (match.length) {
                        this.focus(event, match);
                        this.previousFilter = character;
                        this.filterTimer = this._delay(function() {
                            delete this.previousFilter;
                        }, 1000);
                    } else {
                        delete this.previousFilter;
                    }
            }

            if (preventDefault) {
                event.preventDefault();
            }
        },

        _activate: function(event) {
            if (!this.active.is(".ui-state-disabled")) {
                if (this.active.is("[aria-haspopup='true']")) {
                    this.expand(event);
                } else {
                    this.select(event);
                }
            }
        },

        refresh: function() {
            var menus, items,
                that = this,
                icon = this.options.icons.submenu,
                submenus = this.element.find(this.options.menus);

            this.element.toggleClass("ui-menu-icons", !!this.element.find(".ui-icon").length);

            // Initialize nested menus
            submenus.filter(":not(.ui-menu)")
                .addClass("ui-menu ui-widget ui-widget-content ui-front")
                .hide()
                .attr({
                    role: this.options.role,
                    "aria-hidden": "true",
                    "aria-expanded": "false"
                })
                .each(function() {
                    var menu = $(this),
                        item = menu.parent(),
                        submenuCarat = $("<span>")
                        .addClass("ui-menu-icon ui-icon " + icon)
                        .data("ui-menu-submenu-carat", true);

                    item
                        .attr("aria-haspopup", "true")
                        .prepend(submenuCarat);
                    menu.attr("aria-labelledby", item.attr("id"));
                });

            menus = submenus.add(this.element);
            items = menus.find(this.options.items);

            // Initialize menu-items containing spaces and/or dashes only as dividers
            items.not(".ui-menu-item").each(function() {
                var item = $(this);
                if (that._isDivider(item)) {
                    item.addClass("ui-widget-content ui-menu-divider");
                }
            });

            // Don't refresh list items that are already adapted
            items.not(".ui-menu-item, .ui-menu-divider")
                .addClass("ui-menu-item")
                .uniqueId()
                .attr({
                    tabIndex: -1,
                    role: this._itemRole()
                });

            // Add aria-disabled attribute to any disabled menu item
            items.filter(".ui-state-disabled").attr("aria-disabled", "true");

            // If the active item has been removed, blur the menu
            if (this.active && !$.contains(this.element[0], this.active[0])) {
                this.blur();
            }
        },

        _itemRole: function() {
            return {
                menu: "menuitem",
                listbox: "option"
            }[this.options.role];
        },

        _setOption: function(key, value) {
            if (key === "icons") {
                this.element.find(".ui-menu-icon")
                    .removeClass(this.options.icons.submenu)
                    .addClass(value.submenu);
            }
            if (key === "disabled") {
                this.element
                    .toggleClass("ui-state-disabled", !!value)
                    .attr("aria-disabled", value);
            }
            this._super(key, value);
        },

        focus: function(event, item) {
            var nested, focused;
            this.blur(event, event && event.type === "focus");

            this._scrollIntoView(item);

            this.active = item.first();
            focused = this.active.addClass("ui-state-focus").removeClass("ui-state-active");
            // Only update aria-activedescendant if there's a role
            // otherwise we assume focus is managed elsewhere
            if (this.options.role) {
                this.element.attr("aria-activedescendant", focused.attr("id"));
            }

            // Highlight active parent menu item, if any
            this.active
                .parent()
                .closest(".ui-menu-item")
                .addClass("ui-state-active");

            if (event && event.type === "keydown") {
                this._close();
            } else {
                this.timer = this._delay(function() {
                    this._close();
                }, this.delay);
            }

            nested = item.children(".ui-menu");
            if (nested.length && event && (/^mouse/.test(event.type))) {
                this._startOpening(nested);
            }
            this.activeMenu = item.parent();

            this._trigger("focus", event, {
                item: item
            });
        },

        _scrollIntoView: function(item) {
            var borderTop, paddingTop, offset, scroll, elementHeight, itemHeight;
            if (this._hasScroll()) {
                borderTop = parseFloat($.css(this.activeMenu[0], "borderTopWidth")) || 0;
                paddingTop = parseFloat($.css(this.activeMenu[0], "paddingTop")) || 0;
                offset = item.offset().top - this.activeMenu.offset().top - borderTop - paddingTop;
                scroll = this.activeMenu.scrollTop();
                elementHeight = this.activeMenu.height();
                itemHeight = item.outerHeight();

                if (offset < 0) {
                    this.activeMenu.scrollTop(scroll + offset);
                } else if (offset + itemHeight > elementHeight) {
                    this.activeMenu.scrollTop(scroll + offset - elementHeight + itemHeight);
                }
            }
        },

        blur: function(event, fromFocus) {
            if (!fromFocus) {
                clearTimeout(this.timer);
            }

            if (!this.active) {
                return;
            }

            this.active.removeClass("ui-state-focus");
            this.active = null;

            this._trigger("blur", event, {
                item: this.active
            });
        },

        _startOpening: function(submenu) {
            clearTimeout(this.timer);

            // Don't open if already open fixes a Firefox bug that caused a .5 pixel
            // shift in the submenu position when mousing over the carat icon
            if (submenu.attr("aria-hidden") !== "true") {
                return;
            }

            this.timer = this._delay(function() {
                this._close();
                this._open(submenu);
            }, this.delay);
        },

        _open: function(submenu) {
            var position = $.extend({
                of: this.active
            }, this.options.position);

            clearTimeout(this.timer);
            this.element.find(".ui-menu").not(submenu.parents(".ui-menu"))
                .hide()
                .attr("aria-hidden", "true");

            submenu
                .show()
                .removeAttr("aria-hidden")
                .attr("aria-expanded", "true")
                .position(position);
        },

        collapseAll: function(event, all) {
            clearTimeout(this.timer);
            this.timer = this._delay(function() {
                // If we were passed an event, look for the submenu that contains the event
                var currentMenu = all ? this.element :
                    $(event && event.target).closest(this.element.find(".ui-menu"));

                // If we found no valid submenu ancestor, use the main menu to close all sub menus anyway
                if (!currentMenu.length) {
                    currentMenu = this.element;
                }

                this._close(currentMenu);

                this.blur(event);
                this.activeMenu = currentMenu;
            }, this.delay);
        },

        // With no arguments, closes the currently active menu - if nothing is active
        // it closes all menus.  If passed an argument, it will search for menus BELOW
        _close: function(startMenu) {
            if (!startMenu) {
                startMenu = this.active ? this.active.parent() : this.element;
            }

            startMenu
                .find(".ui-menu")
                .hide()
                .attr("aria-hidden", "true")
                .attr("aria-expanded", "false")
                .end()
                .find(".ui-state-active").not(".ui-state-focus")
                .removeClass("ui-state-active");
        },

        _closeOnDocumentClick: function(event) {
            return !$(event.target).closest(".ui-menu").length;
        },

        _isDivider: function(item) {

            // Match hyphen, em dash, en dash
            return !/[^\-\u2014\u2013\s]/.test(item.text());
        },

        collapse: function(event) {
            var newItem = this.active &&
                this.active.parent().closest(".ui-menu-item", this.element);
            if (newItem && newItem.length) {
                this._close();
                this.focus(event, newItem);
            }
        },

        expand: function(event) {
            var newItem = this.active &&
                this.active
                .children(".ui-menu ")
                .find(this.options.items)
                .first();

            if (newItem && newItem.length) {
                this._open(newItem.parent());

                // Delay so Firefox will not hide activedescendant change in expanding submenu from AT
                this._delay(function() {
                    this.focus(event, newItem);
                });
            }
        },

        next: function(event) {
            this._move("next", "first", event);
        },

        previous: function(event) {
            this._move("prev", "last", event);
        },

        isFirstItem: function() {
            return this.active && !this.active.prevAll(".ui-menu-item").length;
        },

        isLastItem: function() {
            return this.active && !this.active.nextAll(".ui-menu-item").length;
        },

        _move: function(direction, filter, event) {
            var next;
            if (this.active) {
                if (direction === "first" || direction === "last") {
                    next = this.active[direction === "first" ? "prevAll" : "nextAll"](".ui-menu-item")
                        .eq(-1);
                } else {
                    next = this.active[direction + "All"](".ui-menu-item")
                        .eq(0);
                }
            }
            if (!next || !next.length || !this.active) {
                next = this.activeMenu.find(this.options.items)[filter]();
            }

            this.focus(event, next);
        },

        nextPage: function(event) {
            var item, base, height;

            if (!this.active) {
                this.next(event);
                return;
            }
            if (this.isLastItem()) {
                return;
            }
            if (this._hasScroll()) {
                base = this.active.offset().top;
                height = this.element.height();
                this.active.nextAll(".ui-menu-item").each(function() {
                    item = $(this);
                    return item.offset().top - base - height < 0;
                });

                this.focus(event, item);
            } else {
                this.focus(event, this.activeMenu.find(this.options.items)[!this.active ? "first" : "last"]());
            }
        },

        previousPage: function(event) {
            var item, base, height;
            if (!this.active) {
                this.next(event);
                return;
            }
            if (this.isFirstItem()) {
                return;
            }
            if (this._hasScroll()) {
                base = this.active.offset().top;
                height = this.element.height();
                this.active.prevAll(".ui-menu-item").each(function() {
                    item = $(this);
                    return item.offset().top - base + height > 0;
                });

                this.focus(event, item);
            } else {
                this.focus(event, this.activeMenu.find(this.options.items).first());
            }
        },

        _hasScroll: function() {
            return this.element.outerHeight() < this.element.prop("scrollHeight");
        },

        select: function(event) {
            // TODO: It should never be possible to not have an active item at this
            // point, but the tests don't trigger mouseenter before click.
            this.active = this.active || $(event.target).closest(".ui-menu-item");
            var ui = {
                item: this.active
            };
            if (!this.active.has(".ui-menu").length) {
                this.collapseAll(event, true);
            }
            this._trigger("select", event, ui);
        },

        _filterMenuItems: function(character) {
            var escapedCharacter = character.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&"),
                regex = new RegExp("^" + escapedCharacter, "i");

            return this.activeMenu
                .find(this.options.items)

            // Only match on items, not dividers or other content (#10571)
            .filter(".ui-menu-item")
                .filter(function() {
                    return regex.test($.trim($(this).text()));
                });
        }
    });


    /*!
     * jQuery UI Selectmenu 1.11.2
     * http://jqueryui.com
     *
     * Copyright 2014 jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     *
     * http://api.jqueryui.com/selectmenu
     */


    var selectmenu = $.widget("ui.selectmenu", {
        version: "1.11.2",
        defaultElement: "<select>",
        options: {
            appendTo: null,
            disabled: null,
            icons: {
                button: "ui-icon-triangle-1-s"
            },
            position: {
                my: "left top",
                at: "left bottom",
                collision: "none"
            },
            width: null,

            // callbacks
            change: null,
            close: null,
            focus: null,
            open: null,
            select: null
        },

        _create: function() {
            var selectmenuId = this.element.uniqueId().attr("id");
            this.ids = {
                element: selectmenuId,
                button: selectmenuId + "-button",
                menu: selectmenuId + "-menu"
            };

            this._drawButton();
            this._drawMenu();

            if (this.options.disabled) {
                this.disable();
            }
        },

        _drawButton: function() {
            var that = this,
                tabindex = this.element.attr("tabindex");

            // Associate existing label with the new button
            this.label = $("label[for='" + this.ids.element + "']").attr("for", this.ids.button);
            this._on(this.label, {
                click: function(event) {
                    this.button.focus();
                    event.preventDefault();
                }
            });

            // Hide original select element
            this.element.hide();

            // Create button
            this.button = $("<span>", {
                    "class": "ui-selectmenu-button ui-widget ui-state-default ui-corner-all",
                    tabindex: tabindex || this.options.disabled ? -1 : 0,
                    id: this.ids.button,
                    role: "combobox",
                    "aria-expanded": "false",
                    "aria-autocomplete": "list",
                    "aria-owns": this.ids.menu,
                    "aria-haspopup": "true"
                })
                .insertAfter(this.element);

            $("<span>", {
                    "class": "ui-icon " + this.options.icons.button
                })
                .prependTo(this.button);

            this.buttonText = $("<span>", {
                    "class": "ui-selectmenu-text"
                })
                .appendTo(this.button);

            this._setText(this.buttonText, this.element.find("option:selected").text());
            this._resizeButton();

            this._on(this.button, this._buttonEvents);
            this.button.one("focusin", function() {

                // Delay rendering the menu items until the button receives focus.
                // The menu may have already been rendered via a programmatic open.
                if (!that.menuItems) {
                    that._refreshMenu();
                }
            });
            this._hoverable(this.button);
            this._focusable(this.button);
        },

        _drawMenu: function() {
            var that = this;
            // Create menu
            this.menu = $("<ul>", {
                "aria-hidden": "true",
                "aria-labelledby": this.ids.button,
                id: this.ids.menu
            });

            // Wrap menu
            this.menuWrap = $("<div>", {
                    "class": "ui-selectmenu-menu ui-front"
                })
                .append(this.menu)
                .appendTo(this._appendTo());

            // Initialize menu widget
            this.menuInstance = this.menu
                .menu({
                    role: "listbox",
                    select: function(event, ui) {
                        event.preventDefault();

                        // support: IE8
                        // If the item was selected via a click, the text selection
                        // will be destroyed in IE
                        that._setSelection();

                        that._select(ui.item.data("ui-selectmenu-item"), event);
                    },
                    focus: function(event, ui) {
                        var item = ui.item.data("ui-selectmenu-item");

                        // Prevent inital focus from firing and check if its a newly focused item
                        if (that.focusIndex != null && item.index !== that.focusIndex) {
                            that._trigger("focus", event, {
                                item: item
                            });
                            if (!that.isOpen) {
                                that._select(item, event);
                            }
                        }
                        that.focusIndex = item.index;

                        that.button.attr("aria-activedescendant",
                            that.menuItems.eq(item.index).attr("id"));
                    }
                })
                .menu("instance");

            // Adjust menu styles to dropdown
            this.menu
                .addClass("ui-corner-bottom")
                .removeClass("ui-corner-all");

            // Don't close the menu on mouseleave
            this.menuInstance._off(this.menu, "mouseleave");

            // Cancel the menu's collapseAll on document click
            this.menuInstance._closeOnDocumentClick = function() {
                return false;
            };

            // Selects often contain empty items, but never contain dividers
            this.menuInstance._isDivider = function() {
                return false;
            };
        },

        refresh: function() {
            this._refreshMenu();
            this._setText(this.buttonText, this._getSelectedItem().text());
            if (!this.options.width) {
                this._resizeButton();
            }
        },

        _refreshMenu: function() {
            this.menu.empty();
            var item,
                options = this.element.find("option");

            if (!options.length) {
                return;
            }

            this._parseOptions(options);
            this._renderMenu(this.menu, this.items);

            this.menuInstance.refresh();
            this.menuItems = this.menu.find("li").not(".ui-selectmenu-optgroup");

            item = this._getSelectedItem();

            // Update the menu to have the correct item focused
            this.menuInstance.focus(null, item);
            this._setAria(item.data("ui-selectmenu-item"));

            // Set disabled state
            this._setOption("disabled", this.element.prop("disabled"));
        },

        open: function(event) {
            if (this.options.disabled) {
                return;
            }

            // If this is the first time the menu is being opened, render the items
            if (!this.menuItems) {
                this._refreshMenu();
            } else {

                // Menu clears focus on close, reset focus to selected item
                this.menu.find(".ui-state-focus").removeClass("ui-state-focus");
                this.menuInstance.focus(null, this._getSelectedItem());
            }

            this.isOpen = true;
            this._toggleAttr();
            this._resizeMenu();
            this._position();

            this._on(this.document, this._documentClick);

            this._trigger("open", event);
        },

        _position: function() {
            this.menuWrap.position($.extend({
                of: this.button
            }, this.options.position));
        },

        close: function(event) {
            if (!this.isOpen) {
                return;
            }

            this.isOpen = false;
            this._toggleAttr();

            this.range = null;
            this._off(this.document);

            this._trigger("close", event);
        },

        widget: function() {
            return this.button;
        },

        menuWidget: function() {
            return this.menu;
        },

        _renderMenu: function(ul, items) {
            var that = this,
                currentOptgroup = "";

            $.each(items, function(index, item) {
                if (item.optgroup !== currentOptgroup) {
                    $("<li>", {
                            "class": "ui-selectmenu-optgroup ui-menu-divider" +
                                (item.element.parent("optgroup").prop("disabled") ?
                                    " ui-state-disabled" :
                                    ""),
                            text: item.optgroup
                        })
                        .appendTo(ul);

                    currentOptgroup = item.optgroup;
                }

                that._renderItemData(ul, item);
            });
        },

        _renderItemData: function(ul, item) {
            return this._renderItem(ul, item).data("ui-selectmenu-item", item);
        },

        _renderItem: function(ul, item) {
            var li = $("<li>");

            if (item.disabled) {
                li.addClass("ui-state-disabled");
            }
            this._setText(li, item.label);

            return li.appendTo(ul);
        },

        _setText: function(element, value) {
            if (value) {
                element.text(value);
            } else {
                element.html("&#160;");
            }
        },

        _move: function(direction, event) {
            var item, next,
                filter = ".ui-menu-item";

            if (this.isOpen) {
                item = this.menuItems.eq(this.focusIndex);
            } else {
                item = this.menuItems.eq(this.element[0].selectedIndex);
                filter += ":not(.ui-state-disabled)";
            }

            if (direction === "first" || direction === "last") {
                next = item[direction === "first" ? "prevAll" : "nextAll"](filter).eq(-1);
            } else {
                next = item[direction + "All"](filter).eq(0);
            }

            if (next.length) {
                this.menuInstance.focus(event, next);
            }
        },

        _getSelectedItem: function() {
            return this.menuItems.eq(this.element[0].selectedIndex);
        },

        _toggle: function(event) {
            this[this.isOpen ? "close" : "open"](event);
        },

        _setSelection: function() {
            var selection;

            if (!this.range) {
                return;
            }

            if (window.getSelection) {
                selection = window.getSelection();
                selection.removeAllRanges();
                selection.addRange(this.range);

                // support: IE8
            } else {
                this.range.select();
            }

            // support: IE
            // Setting the text selection kills the button focus in IE, but
            // restoring the focus doesn't kill the selection.
            this.button.focus();
        },

        _documentClick: {
            mousedown: function(event) {
                if (!this.isOpen) {
                    return;
                }

                if (!$(event.target).closest(".ui-selectmenu-menu, #" + this.ids.button).length) {
                    this.close(event);
                }
            }
        },

        _buttonEvents: {

            // Prevent text selection from being reset when interacting with the selectmenu (#10144)
            mousedown: function() {
                var selection;

                if (window.getSelection) {
                    selection = window.getSelection();
                    if (selection.rangeCount) {
                        this.range = selection.getRangeAt(0);
                    }

                    // support: IE8
                } else {
                    this.range = document.selection.createRange();
                }
            },

            click: function(event) {
                this._setSelection();
                this._toggle(event);
            },

            keydown: function(event) {
                var preventDefault = true;
                switch (event.keyCode) {
                    case $.ui.keyCode.TAB:
                    case $.ui.keyCode.ESCAPE:
                        this.close(event);
                        preventDefault = false;
                        break;
                    case $.ui.keyCode.ENTER:
                        if (this.isOpen) {
                            this._selectFocusedItem(event);
                        }
                        break;
                    case $.ui.keyCode.UP:
                        if (event.altKey) {
                            this._toggle(event);
                        } else {
                            this._move("prev", event);
                        }
                        break;
                    case $.ui.keyCode.DOWN:
                        if (event.altKey) {
                            this._toggle(event);
                        } else {
                            this._move("next", event);
                        }
                        break;
                    case $.ui.keyCode.SPACE:
                        if (this.isOpen) {
                            this._selectFocusedItem(event);
                        } else {
                            this._toggle(event);
                        }
                        break;
                    case $.ui.keyCode.LEFT:
                        this._move("prev", event);
                        break;
                    case $.ui.keyCode.RIGHT:
                        this._move("next", event);
                        break;
                    case $.ui.keyCode.HOME:
                    case $.ui.keyCode.PAGE_UP:
                        this._move("first", event);
                        break;
                    case $.ui.keyCode.END:
                    case $.ui.keyCode.PAGE_DOWN:
                        this._move("last", event);
                        break;
                    default:
                        this.menu.trigger(event);
                        preventDefault = false;
                }

                if (preventDefault) {
                    event.preventDefault();
                }
            }
        },

        _selectFocusedItem: function(event) {
            var item = this.menuItems.eq(this.focusIndex);
            if (!item.hasClass("ui-state-disabled")) {
                this._select(item.data("ui-selectmenu-item"), event);
            }
        },

        _select: function(item, event) {
            var oldIndex = this.element[0].selectedIndex;

            // Change native select element
            this.element[0].selectedIndex = item.index;
            this._setText(this.buttonText, item.label);
            this._setAria(item);
            this._trigger("select", event, {
                item: item
            });

            if (item.index !== oldIndex) {
                this._trigger("change", event, {
                    item: item
                });
            }

            this.close(event);
        },

        _setAria: function(item) {
            var id = this.menuItems.eq(item.index).attr("id");

            this.button.attr({
                "aria-labelledby": id,
                "aria-activedescendant": id
            });
            this.menu.attr("aria-activedescendant", id);
        },

        _setOption: function(key, value) {
            if (key === "icons") {
                this.button.find("span.ui-icon")
                    .removeClass(this.options.icons.button)
                    .addClass(value.button);
            }

            this._super(key, value);

            if (key === "appendTo") {
                this.menuWrap.appendTo(this._appendTo());
            }

            if (key === "disabled") {
                this.menuInstance.option("disabled", value);
                this.button
                    .toggleClass("ui-state-disabled", value)
                    .attr("aria-disabled", value);

                this.element.prop("disabled", value);
                if (value) {
                    this.button.attr("tabindex", -1);
                    this.close();
                } else {
                    this.button.attr("tabindex", 0);
                }
            }

            if (key === "width") {
                this._resizeButton();
            }
        },

        _appendTo: function() {
            var element = this.options.appendTo;

            if (element) {
                element = element.jquery || element.nodeType ?
                    $(element) :
                    this.document.find(element).eq(0);
            }

            if (!element || !element[0]) {
                element = this.element.closest(".ui-front");
            }

            if (!element.length) {
                element = this.document[0].body;
            }

            return element;
        },

        _toggleAttr: function() {
            this.button
                .toggleClass("ui-corner-top", this.isOpen)
                .toggleClass("ui-corner-all", !this.isOpen)
                .attr("aria-expanded", this.isOpen);
            this.menuWrap.toggleClass("ui-selectmenu-open", this.isOpen);
            this.menu.attr("aria-hidden", !this.isOpen);
        },

        _resizeButton: function() {
            var width = this.options.width;

            if (!width) {
                width = this.element.show().outerWidth();
                this.element.hide();
            }

            this.button.outerWidth(width);
        },

        _resizeMenu: function() {
            this.menu.outerWidth(Math.max(
                this.button.outerWidth(),

                // support: IE10
                // IE10 wraps long text (possibly a rounding bug)
                // so we add 1px to avoid the wrapping
                this.menu.width("").outerWidth() + 1
            ));
        },

        _getCreateOptions: function() {
            return {
                disabled: this.element.prop("disabled")
            };
        },

        _parseOptions: function(options) {
            var data = [];
            options.each(function(index, item) {
                var option = $(item),
                    optgroup = option.parent("optgroup");
                data.push({
                    element: option,
                    index: index,
                    value: option.attr("value"),
                    label: option.text(),
                    optgroup: optgroup.attr("label") || "",
                    disabled: optgroup.prop("disabled") || option.prop("disabled")
                });
            });
            this.items = data;
        },

        _destroy: function() {
            this.menuWrap.remove();
            this.button.remove();
            this.element.show();
            this.element.removeUniqueId();
            this.label.attr("for", this.ids.element);
        }
    });



}));
/*  Truncate.js - v0.1.0
 *  Copyright 2013, Jeff Chan
 *  Released under the MIT license
 *  More Information: http://github.com/jeffchan/truncate.js
 */
(function(module, $, undefined) {

    var BLOCK_TAGS = ['table', 'thead', 'tbody', 'tfoot', 'tr', 'col', 'colgroup', 'object', 'embed', 'param', 'ol', 'ul', 'dl', 'blockquote', 'select', 'optgroup', 'option', 'textarea', 'script', 'style'];

    function setText(element, text) {
        if (element.innerText) {
            element.innerText = text;
        } else if (element.nodeValue) {
            element.nodeValue = text;
        } else if (element.textContent) {
            element.textContent = text;
        } else {
            return false;
        }
    }

    /* Truncate the nearest sibling node.
     * If no valid immediate sibling is found, traverse one level up to a cousin node.
     *
     * $element  - The jQuery node to truncate.
     * $rootNode - The jQuery root node to measure the truncated height.
     * $clipNode - The jQuery node to insert right after the truncation point.
     * options   - An object containing:
     *             ellipsis  - The ellipsis string to append at the end of the truncation.
     *             maxHeight - The maximum height for the root node.
     *
     * Returns true if truncation happened, false otherwise.
     */
    function truncateNearestSibling($element, $rootNode, $clipNode, options) {
        var $parent = $element.parent();
        var $prevSibling;

        $element.remove();

        // Take into account length of $clipNode element previous inserted.
        var clipLength = $clipNode ? $clipNode.length : 0;

        if ($parent.contents().length > clipLength) {

            // Valid previous sibling element (sharing same parent node) exists,
            // so attempt to truncate it.
            $prevSibling = $parent.contents().eq(-1 - clipLength);
            return truncateTextContent($prevSibling, $rootNode, $clipNode, options);

        } else {

            // No previous sibling element (sharing same parent node) exists.
            // Therefore, search parent's sibling.

            var $parentSibling = $parent.prev();
            $prevSibling = $parentSibling.contents().eq(-1);

            if ($prevSibling.length) {

                // Because traversal is in-order so the algorithm already checked that
                // this point meets the height requirement. As such, it's safe to truncate here.
                setText($prevSibling[0], $prevSibling.text() + options.ellipsis);
                $parent.remove();

                if ($clipNode.length) {
                    $parentSibling.append($clipNode);
                }
                return true;
            }
        }

        return false;
    }

    /* Truncates the text content of a node using binary search.
     * If no valid truncation point is found, attempt to truncate its nearest sibling.
     *
     * $textNode - The jQuery node to truncate.
     * $rootNode - The jQuery root node to measure the truncated height.
     * $clipNode - The jQuery node to insert right after the truncation point.
     * options   - An object containing:
     *             ellipsis  - The ellipsis string to append at the end of the truncation.
     *             maxHeight - The maximum height for the root node.
     *
     * Returns true if truncation happened, false otherwise.
     */
    function truncateTextContent($element, $rootNode, $clipNode, options) {
        var element = $element[0];
        var original = $element.text();

        var maxChunk = '';
        var mid, chunk;
        var low = 0;
        var high = original.length;

        // Binary Search
        while (low <= high) {
            mid = low + ((high - low) >> 1); // Integer division

            chunk = $.trim(original.substr(0, mid + 1)) + options.ellipsis;
            setText(element, chunk);

            if ($rootNode.height() > options.maxHeight) {
                high = mid - 1;
            } else {
                low = mid + 1;
                maxChunk = maxChunk.length > chunk.length ? maxChunk : chunk;
            }
        }

        if (maxChunk.length > 0) {
            setText(element, maxChunk);
            return true;
        } else {
            return truncateNearestSibling($element, $rootNode, $clipNode, options);
        }
    }

    /* Recursively truncates a nested node. Traverses the children node tree in-rder.
     *
     * $element  - The jQuery nested node to truncate.
     * $rootNode - The jQuery root node to measure the truncated height.
     * $clipNode - The jQuery node to insert right after the truncation point.
     * options   - An object containing:
     *             ellipsis  - The ellipsis string to append at the end of the truncation.
     *             maxHeight - The maximum height for the root node.
     *
     * Returns true if truncation happened, false otherwise.
     */
    function truncateNestedNode($element, $rootNode, $clipNode, options) {
        var element = $element[0];

        var $children = $element.contents();
        var $child, child;

        var index = 0;
        var length = $children.length;
        var truncated = false;

        $element.empty();

        for (; index < length && !truncated; index++) {

            $child = $children.eq(index);
            child = $child[0];

            if (child.nodeType === 8) { // comment node
                continue;
            }

            element.appendChild(child);

            if ($clipNode.length) {
                if ($.inArray(element.tagName.toLowerCase(), BLOCK_TAGS) >= 0) {
                    // Certain elements like <li> should not be appended to.
                    $element.after($clipNode);
                } else {
                    $element.append($clipNode);
                }
            }

            if ($rootNode.height() > options.maxHeight) {
                if (child.nodeType === 3) { // text node
                    truncated = truncateTextContent($child, $rootNode, $clipNode, options);
                } else {
                    truncated = truncateNestedNode($child, $rootNode, $clipNode, options);
                }
            }

            if (!truncated && $clipNode.length) {
                $clipNode.remove();
            }

        }

        return truncated;
    }

    /* Public: Creates an instance of Truncate.
     *
     * element - A DOM element to be truncated.
     * options - An Object literal containing setup options.
     *
     * Examples:
     *
     *   var element = document.createElement('span');
     *   element.innerHTML = 'This is<br>odd.';
     *   var truncated = new Truncate(element, {
     *     lines: 1,
     *     lineHeight: 16,
     *     ellipsis: ' ',
     *     showMore: '<a class="show-more">Show More</a>',
     *     showLess: '<a class="show-less">Show Less</a>'
     *   });
     *
     *   // Update HTML
     *   truncated.update('This is not very odd.');
     *
     *   // Undo truncation
     *   truncated.expand();
     *
     *   // Redo truncation
     *   truncated.collapse();
     */
    function Truncate(element, options) {
        this.element = element;
        this.$element = $(element);

        this._name = 'truncate';
        this._defaults = {
            lines: 1,
            ellipsis: '',
            showMore: '',
            showLess: ''
        };

        this.options = $.extend({}, this._defaults, options);

        if (this.options.maxHeight === undefined) {
            this.options.maxHeight = parseInt(this.options.lines, 10) * parseInt(this.options.lineHeight, 10);
        }

        this.$clipNode = $($.parseHTML(this.options.showMore), this.$element);

        this.original = this.cached = element.innerHTML;

        this.isTruncated = false; // True if the original content overflows the container.
        this.isCollapsed = true; // True if the container is currently collapsed.

        this.update();
    }

    Truncate.prototype = {

        /* Public: Updates the inner HTML of the element and re-truncates. Will not
         * perform an updade if the container is currently expanded, instead it
         * will wait until the next time .collapse() is called.
         *
         * html - The new HTML.
         *
         * Returns nothing.
         */
        update: function(html) {
            var wasExpanded = !this.isCollapsed;

            // Update HTML if provided, otherwise use the current html and restore
            // the truncated content to the original if it's currently present.
            if (html) {
                this.original = this.element.innerHTML = html;
            } else if (this.isCollapsed && this.element.innerHTML === this.cached) {
                this.element.innerHTML = this.original;
            }

            // Wrap the contents in order to ignore container's margin/padding.
            var $wrap = this.$element.wrapInner('<div/>').children();
            $wrap.css({
                border: 'none',
                margin: 0,
                padding: 0,
                width: 'auto',
                height: 'auto'
            });

            this.isTruncated = false;
            // Check if already meets height requirement
            if ($wrap.height() > this.options.maxHeight) {
                this.isTruncated = truncateNestedNode($wrap, $wrap, this.$clipNode, this.options);
            } else {
                this.isCollapsed = false;
            }

            // Restore the wrapped contents
            $wrap.replaceWith($wrap.contents());

            // Cache the truncated content
            this.cached = this.element.innerHTML;

            // If the container was expanded when .update() was called then restore
            // it to it's previous state.
            if (wasExpanded) {
                this.element.innerHTML = this.original;
            }
        },

        /* Public: Expands the element to show content in full.
         *
         * Returns nothing.
         */
        expand: function() {
            if (!this.isCollapsed) {
                return;
            }

            this.isCollapsed = false;
            this.element.innerHTML = this.isTruncated ? this.original + this.options.showLess : this.original;
        },

        /* Public: Collapses the element to the truncated state.
         * Uses the cached HTML from .update() by default.
         *
         * retruncate - True to retruncate original HTML, otherwise use cached HTML.
         *
         * Returns nothing.
         */
        collapse: function(retruncate) {
            if (this.isCollapsed) {
                return;
            }

            this.isCollapsed = true;

            retruncate = retruncate || false;
            if (retruncate) {
                this.update();
            } else {
                this.element.innerHTML = this.cached;
            }
        }
    };

    // Lightweight plugin wrapper preventing multiple instantiations
    $.fn.truncate = function(options) {
        var args = $.makeArray(arguments).slice(1);
        return this.each(function() {
            var truncate = $.data(this, 'jquery-truncate');
            if (!truncate) {
                $.data(this, 'jquery-truncate', new Truncate(this, options));
            } else if (typeof truncate[options] === 'function') {
                truncate[options].apply(truncate, args);
            }
        });
    };

    module.Truncate = Truncate;

})(this, jQuery);
//     Underscore.js 1.7.0
//     http://underscorejs.org
//     (c) 2009-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.
(function() {
    var n = this,
        t = n._,
        r = Array.prototype,
        e = Object.prototype,
        u = Function.prototype,
        i = r.push,
        a = r.slice,
        o = r.concat,
        l = e.toString,
        c = e.hasOwnProperty,
        f = Array.isArray,
        s = Object.keys,
        p = u.bind,
        h = function(n) {
            return n instanceof h ? n : this instanceof h ? void(this._wrapped = n) : new h(n)
        };
    "undefined" != typeof exports ? ("undefined" != typeof module && module.exports && (exports = module.exports = h), exports._ = h) : n._ = h, h.VERSION = "1.7.0";
    var g = function(n, t, r) {
        if (t === void 0) return n;
        switch (null == r ? 3 : r) {
            case 1:
                return function(r) {
                    return n.call(t, r)
                };
            case 2:
                return function(r, e) {
                    return n.call(t, r, e)
                };
            case 3:
                return function(r, e, u) {
                    return n.call(t, r, e, u)
                };
            case 4:
                return function(r, e, u, i) {
                    return n.call(t, r, e, u, i)
                }
        }
        return function() {
            return n.apply(t, arguments)
        }
    };
    h.iteratee = function(n, t, r) {
        return null == n ? h.identity : h.isFunction(n) ? g(n, t, r) : h.isObject(n) ? h.matches(n) : h.property(n)
    }, h.each = h.forEach = function(n, t, r) {
        if (null == n) return n;
        t = g(t, r);
        var e, u = n.length;
        if (u === +u)
            for (e = 0; u > e; e++) t(n[e], e, n);
        else {
            var i = h.keys(n);
            for (e = 0, u = i.length; u > e; e++) t(n[i[e]], i[e], n)
        }
        return n
    }, h.map = h.collect = function(n, t, r) {
        if (null == n) return [];
        t = h.iteratee(t, r);
        for (var e, u = n.length !== +n.length && h.keys(n), i = (u || n).length, a = Array(i), o = 0; i > o; o++) e = u ? u[o] : o, a[o] = t(n[e], e, n);
        return a
    };
    var v = "Reduce of empty array with no initial value";
    h.reduce = h.foldl = h.inject = function(n, t, r, e) {
        null == n && (n = []), t = g(t, e, 4);
        var u, i = n.length !== +n.length && h.keys(n),
            a = (i || n).length,
            o = 0;
        if (arguments.length < 3) {
            if (!a) throw new TypeError(v);
            r = n[i ? i[o++] : o++]
        }
        for (; a > o; o++) u = i ? i[o] : o, r = t(r, n[u], u, n);
        return r
    }, h.reduceRight = h.foldr = function(n, t, r, e) {
        null == n && (n = []), t = g(t, e, 4);
        var u, i = n.length !== +n.length && h.keys(n),
            a = (i || n).length;
        if (arguments.length < 3) {
            if (!a) throw new TypeError(v);
            r = n[i ? i[--a] : --a]
        }
        for (; a--;) u = i ? i[a] : a, r = t(r, n[u], u, n);
        return r
    }, h.find = h.detect = function(n, t, r) {
        var e;
        return t = h.iteratee(t, r), h.some(n, function(n, r, u) {
            return t(n, r, u) ? (e = n, !0) : void 0
        }), e
    }, h.filter = h.select = function(n, t, r) {
        var e = [];
        return null == n ? e : (t = h.iteratee(t, r), h.each(n, function(n, r, u) {
            t(n, r, u) && e.push(n)
        }), e)
    }, h.reject = function(n, t, r) {
        return h.filter(n, h.negate(h.iteratee(t)), r)
    }, h.every = h.all = function(n, t, r) {
        if (null == n) return !0;
        t = h.iteratee(t, r);
        var e, u, i = n.length !== +n.length && h.keys(n),
            a = (i || n).length;
        for (e = 0; a > e; e++)
            if (u = i ? i[e] : e, !t(n[u], u, n)) return !1;
        return !0
    }, h.some = h.any = function(n, t, r) {
        if (null == n) return !1;
        t = h.iteratee(t, r);
        var e, u, i = n.length !== +n.length && h.keys(n),
            a = (i || n).length;
        for (e = 0; a > e; e++)
            if (u = i ? i[e] : e, t(n[u], u, n)) return !0;
        return !1
    }, h.contains = h.include = function(n, t) {
        return null == n ? !1 : (n.length !== +n.length && (n = h.values(n)), h.indexOf(n, t) >= 0)
    }, h.invoke = function(n, t) {
        var r = a.call(arguments, 2),
            e = h.isFunction(t);
        return h.map(n, function(n) {
            return (e ? t : n[t]).apply(n, r)
        })
    }, h.pluck = function(n, t) {
        return h.map(n, h.property(t))
    }, h.where = function(n, t) {
        return h.filter(n, h.matches(t))
    }, h.findWhere = function(n, t) {
        return h.find(n, h.matches(t))
    }, h.max = function(n, t, r) {
        var e, u, i = -1 / 0,
            a = -1 / 0;
        if (null == t && null != n) {
            n = n.length === +n.length ? n : h.values(n);
            for (var o = 0, l = n.length; l > o; o++) e = n[o], e > i && (i = e)
        } else t = h.iteratee(t, r), h.each(n, function(n, r, e) {
            u = t(n, r, e), (u > a || u === -1 / 0 && i === -1 / 0) && (i = n, a = u)
        });
        return i
    }, h.min = function(n, t, r) {
        var e, u, i = 1 / 0,
            a = 1 / 0;
        if (null == t && null != n) {
            n = n.length === +n.length ? n : h.values(n);
            for (var o = 0, l = n.length; l > o; o++) e = n[o], i > e && (i = e)
        } else t = h.iteratee(t, r), h.each(n, function(n, r, e) {
            u = t(n, r, e), (a > u || 1 / 0 === u && 1 / 0 === i) && (i = n, a = u)
        });
        return i
    }, h.shuffle = function(n) {
        for (var t, r = n && n.length === +n.length ? n : h.values(n), e = r.length, u = Array(e), i = 0; e > i; i++) t = h.random(0, i), t !== i && (u[i] = u[t]), u[t] = r[i];
        return u
    }, h.sample = function(n, t, r) {
        return null == t || r ? (n.length !== +n.length && (n = h.values(n)), n[h.random(n.length - 1)]) : h.shuffle(n).slice(0, Math.max(0, t))
    }, h.sortBy = function(n, t, r) {
        return t = h.iteratee(t, r), h.pluck(h.map(n, function(n, r, e) {
            return {
                value: n,
                index: r,
                criteria: t(n, r, e)
            }
        }).sort(function(n, t) {
            var r = n.criteria,
                e = t.criteria;
            if (r !== e) {
                if (r > e || r === void 0) return 1;
                if (e > r || e === void 0) return -1
            }
            return n.index - t.index
        }), "value")
    };
    var m = function(n) {
        return function(t, r, e) {
            var u = {};
            return r = h.iteratee(r, e), h.each(t, function(e, i) {
                var a = r(e, i, t);
                n(u, e, a)
            }), u
        }
    };
    h.groupBy = m(function(n, t, r) {
        h.has(n, r) ? n[r].push(t) : n[r] = [t]
    }), h.indexBy = m(function(n, t, r) {
        n[r] = t
    }), h.countBy = m(function(n, t, r) {
        h.has(n, r) ? n[r]++ : n[r] = 1
    }), h.sortedIndex = function(n, t, r, e) {
        r = h.iteratee(r, e, 1);
        for (var u = r(t), i = 0, a = n.length; a > i;) {
            var o = i + a >>> 1;
            r(n[o]) < u ? i = o + 1 : a = o
        }
        return i
    }, h.toArray = function(n) {
        return n ? h.isArray(n) ? a.call(n) : n.length === +n.length ? h.map(n, h.identity) : h.values(n) : []
    }, h.size = function(n) {
        return null == n ? 0 : n.length === +n.length ? n.length : h.keys(n).length
    }, h.partition = function(n, t, r) {
        t = h.iteratee(t, r);
        var e = [],
            u = [];
        return h.each(n, function(n, r, i) {
            (t(n, r, i) ? e : u).push(n)
        }), [e, u]
    }, h.first = h.head = h.take = function(n, t, r) {
        return null == n ? void 0 : null == t || r ? n[0] : 0 > t ? [] : a.call(n, 0, t)
    }, h.initial = function(n, t, r) {
        return a.call(n, 0, Math.max(0, n.length - (null == t || r ? 1 : t)))
    }, h.last = function(n, t, r) {
        return null == n ? void 0 : null == t || r ? n[n.length - 1] : a.call(n, Math.max(n.length - t, 0))
    }, h.rest = h.tail = h.drop = function(n, t, r) {
        return a.call(n, null == t || r ? 1 : t)
    }, h.compact = function(n) {
        return h.filter(n, h.identity)
    };
    var y = function(n, t, r, e) {
        if (t && h.every(n, h.isArray)) return o.apply(e, n);
        for (var u = 0, a = n.length; a > u; u++) {
            var l = n[u];
            h.isArray(l) || h.isArguments(l) ? t ? i.apply(e, l) : y(l, t, r, e) : r || e.push(l)
        }
        return e
    };
    h.flatten = function(n, t) {
        return y(n, t, !1, [])
    }, h.without = function(n) {
        return h.difference(n, a.call(arguments, 1))
    }, h.uniq = h.unique = function(n, t, r, e) {
        if (null == n) return [];
        h.isBoolean(t) || (e = r, r = t, t = !1), null != r && (r = h.iteratee(r, e));
        for (var u = [], i = [], a = 0, o = n.length; o > a; a++) {
            var l = n[a];
            if (t) a && i === l || u.push(l), i = l;
            else if (r) {
                var c = r(l, a, n);
                h.indexOf(i, c) < 0 && (i.push(c), u.push(l))
            } else h.indexOf(u, l) < 0 && u.push(l)
        }
        return u
    }, h.union = function() {
        return h.uniq(y(arguments, !0, !0, []))
    }, h.intersection = function(n) {
        if (null == n) return [];
        for (var t = [], r = arguments.length, e = 0, u = n.length; u > e; e++) {
            var i = n[e];
            if (!h.contains(t, i)) {
                for (var a = 1; r > a && h.contains(arguments[a], i); a++);
                a === r && t.push(i)
            }
        }
        return t
    }, h.difference = function(n) {
        var t = y(a.call(arguments, 1), !0, !0, []);
        return h.filter(n, function(n) {
            return !h.contains(t, n)
        })
    }, h.zip = function(n) {
        if (null == n) return [];
        for (var t = h.max(arguments, "length").length, r = Array(t), e = 0; t > e; e++) r[e] = h.pluck(arguments, e);
        return r
    }, h.object = function(n, t) {
        if (null == n) return {};
        for (var r = {}, e = 0, u = n.length; u > e; e++) t ? r[n[e]] = t[e] : r[n[e][0]] = n[e][1];
        return r
    }, h.indexOf = function(n, t, r) {
        if (null == n) return -1;
        var e = 0,
            u = n.length;
        if (r) {
            if ("number" != typeof r) return e = h.sortedIndex(n, t), n[e] === t ? e : -1;
            e = 0 > r ? Math.max(0, u + r) : r
        }
        for (; u > e; e++)
            if (n[e] === t) return e;
        return -1
    }, h.lastIndexOf = function(n, t, r) {
        if (null == n) return -1;
        var e = n.length;
        for ("number" == typeof r && (e = 0 > r ? e + r + 1 : Math.min(e, r + 1)); --e >= 0;)
            if (n[e] === t) return e;
        return -1
    }, h.range = function(n, t, r) {
        arguments.length <= 1 && (t = n || 0, n = 0), r = r || 1;
        for (var e = Math.max(Math.ceil((t - n) / r), 0), u = Array(e), i = 0; e > i; i++, n += r) u[i] = n;
        return u
    };
    var d = function() {};
    h.bind = function(n, t) {
        var r, e;
        if (p && n.bind === p) return p.apply(n, a.call(arguments, 1));
        if (!h.isFunction(n)) throw new TypeError("Bind must be called on a function");
        return r = a.call(arguments, 2), e = function() {
            if (!(this instanceof e)) return n.apply(t, r.concat(a.call(arguments)));
            d.prototype = n.prototype;
            var u = new d;
            d.prototype = null;
            var i = n.apply(u, r.concat(a.call(arguments)));
            return h.isObject(i) ? i : u
        }
    }, h.partial = function(n) {
        var t = a.call(arguments, 1);
        return function() {
            for (var r = 0, e = t.slice(), u = 0, i = e.length; i > u; u++) e[u] === h && (e[u] = arguments[r++]);
            for (; r < arguments.length;) e.push(arguments[r++]);
            return n.apply(this, e)
        }
    }, h.bindAll = function(n) {
        var t, r, e = arguments.length;
        if (1 >= e) throw new Error("bindAll must be passed function names");
        for (t = 1; e > t; t++) r = arguments[t], n[r] = h.bind(n[r], n);
        return n
    }, h.memoize = function(n, t) {
        var r = function(e) {
            var u = r.cache,
                i = t ? t.apply(this, arguments) : e;
            return h.has(u, i) || (u[i] = n.apply(this, arguments)), u[i]
        };
        return r.cache = {}, r
    }, h.delay = function(n, t) {
        var r = a.call(arguments, 2);
        return setTimeout(function() {
            return n.apply(null, r)
        }, t)
    }, h.defer = function(n) {
        return h.delay.apply(h, [n, 1].concat(a.call(arguments, 1)))
    }, h.throttle = function(n, t, r) {
        var e, u, i, a = null,
            o = 0;
        r || (r = {});
        var l = function() {
            o = r.leading === !1 ? 0 : h.now(), a = null, i = n.apply(e, u), a || (e = u = null)
        };
        return function() {
            var c = h.now();
            o || r.leading !== !1 || (o = c);
            var f = t - (c - o);
            return e = this, u = arguments, 0 >= f || f > t ? (clearTimeout(a), a = null, o = c, i = n.apply(e, u), a || (e = u = null)) : a || r.trailing === !1 || (a = setTimeout(l, f)), i
        }
    }, h.debounce = function(n, t, r) {
        var e, u, i, a, o, l = function() {
            var c = h.now() - a;
            t > c && c > 0 ? e = setTimeout(l, t - c) : (e = null, r || (o = n.apply(i, u), e || (i = u = null)))
        };
        return function() {
            i = this, u = arguments, a = h.now();
            var c = r && !e;
            return e || (e = setTimeout(l, t)), c && (o = n.apply(i, u), i = u = null), o
        }
    }, h.wrap = function(n, t) {
        return h.partial(t, n)
    }, h.negate = function(n) {
        return function() {
            return !n.apply(this, arguments)
        }
    }, h.compose = function() {
        var n = arguments,
            t = n.length - 1;
        return function() {
            for (var r = t, e = n[t].apply(this, arguments); r--;) e = n[r].call(this, e);
            return e
        }
    }, h.after = function(n, t) {
        return function() {
            return --n < 1 ? t.apply(this, arguments) : void 0
        }
    }, h.before = function(n, t) {
        var r;
        return function() {
            return --n > 0 ? r = t.apply(this, arguments) : t = null, r
        }
    }, h.once = h.partial(h.before, 2), h.keys = function(n) {
        if (!h.isObject(n)) return [];
        if (s) return s(n);
        var t = [];
        for (var r in n) h.has(n, r) && t.push(r);
        return t
    }, h.values = function(n) {
        for (var t = h.keys(n), r = t.length, e = Array(r), u = 0; r > u; u++) e[u] = n[t[u]];
        return e
    }, h.pairs = function(n) {
        for (var t = h.keys(n), r = t.length, e = Array(r), u = 0; r > u; u++) e[u] = [t[u], n[t[u]]];
        return e
    }, h.invert = function(n) {
        for (var t = {}, r = h.keys(n), e = 0, u = r.length; u > e; e++) t[n[r[e]]] = r[e];
        return t
    }, h.functions = h.methods = function(n) {
        var t = [];
        for (var r in n) h.isFunction(n[r]) && t.push(r);
        return t.sort()
    }, h.extend = function(n) {
        if (!h.isObject(n)) return n;
        for (var t, r, e = 1, u = arguments.length; u > e; e++) {
            t = arguments[e];
            for (r in t) c.call(t, r) && (n[r] = t[r])
        }
        return n
    }, h.pick = function(n, t, r) {
        var e, u = {};
        if (null == n) return u;
        if (h.isFunction(t)) {
            t = g(t, r);
            for (e in n) {
                var i = n[e];
                t(i, e, n) && (u[e] = i)
            }
        } else {
            var l = o.apply([], a.call(arguments, 1));
            n = new Object(n);
            for (var c = 0, f = l.length; f > c; c++) e = l[c], e in n && (u[e] = n[e])
        }
        return u
    }, h.omit = function(n, t, r) {
        if (h.isFunction(t)) t = h.negate(t);
        else {
            var e = h.map(o.apply([], a.call(arguments, 1)), String);
            t = function(n, t) {
                return !h.contains(e, t)
            }
        }
        return h.pick(n, t, r)
    }, h.defaults = function(n) {
        if (!h.isObject(n)) return n;
        for (var t = 1, r = arguments.length; r > t; t++) {
            var e = arguments[t];
            for (var u in e) n[u] === void 0 && (n[u] = e[u])
        }
        return n
    }, h.clone = function(n) {
        return h.isObject(n) ? h.isArray(n) ? n.slice() : h.extend({}, n) : n
    }, h.tap = function(n, t) {
        return t(n), n
    };
    var b = function(n, t, r, e) {
        if (n === t) return 0 !== n || 1 / n === 1 / t;
        if (null == n || null == t) return n === t;
        n instanceof h && (n = n._wrapped), t instanceof h && (t = t._wrapped);
        var u = l.call(n);
        if (u !== l.call(t)) return !1;
        switch (u) {
            case "[object RegExp]":
            case "[object String]":
                return "" + n == "" + t;
            case "[object Number]":
                return +n !== +n ? +t !== +t : 0 === +n ? 1 / +n === 1 / t : +n === +t;
            case "[object Date]":
            case "[object Boolean]":
                return +n === +t
        }
        if ("object" != typeof n || "object" != typeof t) return !1;
        for (var i = r.length; i--;)
            if (r[i] === n) return e[i] === t;
        var a = n.constructor,
            o = t.constructor;
        if (a !== o && "constructor" in n && "constructor" in t && !(h.isFunction(a) && a instanceof a && h.isFunction(o) && o instanceof o)) return !1;
        r.push(n), e.push(t);
        var c, f;
        if ("[object Array]" === u) {
            if (c = n.length, f = c === t.length)
                for (; c-- && (f = b(n[c], t[c], r, e)););
        } else {
            var s, p = h.keys(n);
            if (c = p.length, f = h.keys(t).length === c)
                for (; c-- && (s = p[c], f = h.has(t, s) && b(n[s], t[s], r, e)););
        }
        return r.pop(), e.pop(), f
    };
    h.isEqual = function(n, t) {
        return b(n, t, [], [])
    }, h.isEmpty = function(n) {
        if (null == n) return !0;
        if (h.isArray(n) || h.isString(n) || h.isArguments(n)) return 0 === n.length;
        for (var t in n)
            if (h.has(n, t)) return !1;
        return !0
    }, h.isElement = function(n) {
        return !(!n || 1 !== n.nodeType)
    }, h.isArray = f || function(n) {
        return "[object Array]" === l.call(n)
    }, h.isObject = function(n) {
        var t = typeof n;
        return "function" === t || "object" === t && !!n
    }, h.each(["Arguments", "Function", "String", "Number", "Date", "RegExp"], function(n) {
        h["is" + n] = function(t) {
            return l.call(t) === "[object " + n + "]"
        }
    }), h.isArguments(arguments) || (h.isArguments = function(n) {
        return h.has(n, "callee")
    }), "function" != typeof /./ && (h.isFunction = function(n) {
        return "function" == typeof n || !1
    }), h.isFinite = function(n) {
        return isFinite(n) && !isNaN(parseFloat(n))
    }, h.isNaN = function(n) {
        return h.isNumber(n) && n !== +n
    }, h.isBoolean = function(n) {
        return n === !0 || n === !1 || "[object Boolean]" === l.call(n)
    }, h.isNull = function(n) {
        return null === n
    }, h.isUndefined = function(n) {
        return n === void 0
    }, h.has = function(n, t) {
        return null != n && c.call(n, t)
    }, h.noConflict = function() {
        return n._ = t, this
    }, h.identity = function(n) {
        return n
    }, h.constant = function(n) {
        return function() {
            return n
        }
    }, h.noop = function() {}, h.property = function(n) {
        return function(t) {
            return t[n]
        }
    }, h.matches = function(n) {
        var t = h.pairs(n),
            r = t.length;
        return function(n) {
            if (null == n) return !r;
            n = new Object(n);
            for (var e = 0; r > e; e++) {
                var u = t[e],
                    i = u[0];
                if (u[1] !== n[i] || !(i in n)) return !1
            }
            return !0
        }
    }, h.times = function(n, t, r) {
        var e = Array(Math.max(0, n));
        t = g(t, r, 1);
        for (var u = 0; n > u; u++) e[u] = t(u);
        return e
    }, h.random = function(n, t) {
        return null == t && (t = n, n = 0), n + Math.floor(Math.random() * (t - n + 1))
    }, h.now = Date.now || function() {
        return (new Date).getTime()
    };
    var _ = {
            "&": "&amp;",
            "<": "&lt;",
            ">": "&gt;",
            '"': "&quot;",
            "'": "&#x27;",
            "`": "&#x60;"
        },
        w = h.invert(_),
        j = function(n) {
            var t = function(t) {
                    return n[t]
                },
                r = "(?:" + h.keys(n).join("|") + ")",
                e = RegExp(r),
                u = RegExp(r, "g");
            return function(n) {
                return n = null == n ? "" : "" + n, e.test(n) ? n.replace(u, t) : n
            }
        };
    h.escape = j(_), h.unescape = j(w), h.result = function(n, t) {
        if (null == n) return void 0;
        var r = n[t];
        return h.isFunction(r) ? n[t]() : r
    };
    var x = 0;
    h.uniqueId = function(n) {
        var t = ++x + "";
        return n ? n + t : t
    }, h.templateSettings = {
        evaluate: /<%([\s\S]+?)%>/g,
        interpolate: /<%=([\s\S]+?)%>/g,
        escape: /<%-([\s\S]+?)%>/g
    };
    var A = /(.)^/,
        k = {
            "'": "'",
            "\\": "\\",
            "\r": "r",
            "\n": "n",
            "\u2028": "u2028",
            "\u2029": "u2029"
        },
        O = /\\|'|\r|\n|\u2028|\u2029/g,
        F = function(n) {
            return "\\" + k[n]
        };
    h.template = function(n, t, r) {
        !t && r && (t = r), t = h.defaults({}, t, h.templateSettings);
        var e = RegExp([(t.escape || A).source, (t.interpolate || A).source, (t.evaluate || A).source].join("|") + "|$", "g"),
            u = 0,
            i = "__p+='";
        n.replace(e, function(t, r, e, a, o) {
            return i += n.slice(u, o).replace(O, F), u = o + t.length, r ? i += "'+\n((__t=(" + r + "))==null?'':_.escape(__t))+\n'" : e ? i += "'+\n((__t=(" + e + "))==null?'':__t)+\n'" : a && (i += "';\n" + a + "\n__p+='"), t
        }), i += "';\n", t.variable || (i = "with(obj||{}){\n" + i + "}\n"), i = "var __t,__p='',__j=Array.prototype.join," + "print=function(){__p+=__j.call(arguments,'');};\n" + i + "return __p;\n";
        try {
            var a = new Function(t.variable || "obj", "_", i)
        } catch (o) {
            throw o.source = i, o
        }
        var l = function(n) {
                return a.call(this, n, h)
            },
            c = t.variable || "obj";
        return l.source = "function(" + c + "){\n" + i + "}", l
    }, h.chain = function(n) {
        var t = h(n);
        return t._chain = !0, t
    };
    var E = function(n) {
        return this._chain ? h(n).chain() : n
    };
    h.mixin = function(n) {
        h.each(h.functions(n), function(t) {
            var r = h[t] = n[t];
            h.prototype[t] = function() {
                var n = [this._wrapped];
                return i.apply(n, arguments), E.call(this, r.apply(h, n))
            }
        })
    }, h.mixin(h), h.each(["pop", "push", "reverse", "shift", "sort", "splice", "unshift"], function(n) {
        var t = r[n];
        h.prototype[n] = function() {
            var r = this._wrapped;
            return t.apply(r, arguments), "shift" !== n && "splice" !== n || 0 !== r.length || delete r[0], E.call(this, r)
        }
    }), h.each(["concat", "join", "slice"], function(n) {
        var t = r[n];
        h.prototype[n] = function() {
            return E.call(this, t.apply(this._wrapped, arguments))
        }
    }), h.prototype.value = function() {
        return this._wrapped
    }, "function" == typeof define && define.amd && define("underscore", [], function() {
        return h
    })
}).call(this);

// CID tracking code provided by vadim for US shiel site -- start

function getUrlHash(sHash) {
    var sPageURL = location.hash.replace('#', '');
    var sURLHash = sPageURL.split('&');
    for (var i = 0; i < sURLHash.length; i++) {
        var sHashName = sURLHash[i].split('=');
        if (sHashName[0] == sHash) {
            return sHashName[1];
        }
    }
}

$(function($) {
    var pluses = /\+/g;

    function encode(s) {
        return config.raw ? s : encodeURIComponent(s);
    }

    function decode(s) {
        return config.raw ? s : decodeURIComponent(s);
    }

    function stringifyCookieValue(value) {
        return encode(config.json ? JSON.stringify(value) : String(value));
    }

    function parseCookieValue(s) {
        if (s.indexOf('"') === 0) {
            // This is a quoted cookie as according to RFC2068, unescape...
            s = s.slice(1, -1).replace(/\\"/g, '"').replace(/\\\\/g, '\\');
        }

        try {
            // Replace server-side written pluses with spaces.
            // If we can't decode the cookie, ignore it, it's unusable.
            // If we can't parse the cookie, ignore it, it's unusable.
            s = decodeURIComponent(s.replace(pluses, ' '));
            return config.json ? JSON.parse(s) : s;
        } catch (e) {}
    }

    function read(s, converter) {
        var value = config.raw ? s : parseCookieValue(s);
        return $.isFunction(converter) ? converter(value) : value;
    }

    var config = $.cookie = function(key, value, options) {

        // Write

        if (arguments.length > 1 && !$.isFunction(value)) {
            options = $.extend({}, config.defaults, options);

            if (typeof options.expires === 'number') {
                var days = options.expires,
                    t = options.expires = new Date();
                t.setTime(+t + days * 864e+5);
            }

            return (document.cookie = [
                encode(key), '=', stringifyCookieValue(value),
                options.expires ? '; expires=' + options.expires.toUTCString() : '', // use expires attribute, max-age is not supported by IE
                options.path ? '; path=' + options.path : '',
                options.domain ? '; domain=' + options.domain : '',
                options.secure ? '; secure' : ''
            ].join(''));
        }

        // Read

        var result = key ? undefined : {};

        // To prevent the for loop in the first place assign an empty array
        // in case there are no cookies at all. Also prevents odd result when
        // calling $.cookie().
        var cookies = document.cookie ? document.cookie.split('; ') : [];

        for (var i = 0, l = cookies.length; i < l; i++) {
            var parts = cookies[i].split('=');
            var name = decode(parts.shift());
            var cookie = parts.join('=');

            if (key && key === name) {
                // If second argument (value) is a function it's a converter...
                result = read(cookie, value);
                break;
            }

            // Prevent storing a cookie that we couldn't decode.
            if (!key && (cookie = read(cookie)) !== undefined) {
                result[name] = cookie;
            }
        }

        return result;
    };

    config.defaults = {};

    $.removeCookie = function(key, options) {
        if ($.cookie(key) === undefined) {
            return false;
        }

        // Must not alter options, thus extending a fresh object...
        $.cookie(key, '', $.extend({}, options, {
            expires: -1
        }));
        return !$.cookie(key);
    };


    var cid = getUrlHash('cid')
    if (cid != undefined) {
        $.cookie('icl_cid', cid, {
            expires: 30,
            path: '/'
        });
    }

    if ($.cookie('icl_cid')) {
        iceleads_cid = $.cookie('icl_cid');
        $('a[href*="iceleads.com"]').each(function() {
            $(this).attr('href', $(this).attr('href') + '&CID=' + iceleads_cid);
        });
    }


});

// CID tracking code provided by vadim for US shiel site -- start

(function($, sr) {

    // debouncing function from John Hann
    // http://unscriptable.com/index.php/2009/03/20/debouncing-javascript-methods/
    var debounce = function(func, threshold, execAsap) {
            var timeout;

            return function debounced() {
                var obj = this,
                    args = arguments;

                function delayed() {
                    if (!execAsap)
                        func.apply(obj, args);
                    timeout = null;
                };

                if (timeout)
                    clearTimeout(timeout);
                else if (execAsap)
                    func.apply(obj, args);

                timeout = setTimeout(delayed, threshold || 100);
            };
        }
        // smartresize
    jQuery.fn[sr] = function(fn) {
        return fn ? this.bind('resize', debounce(fn)) : this.trigger(sr);
    };

})(jQuery, 'smartresize');


;
//     Underscore.js 1.7.0
//     http://underscorejs.org
//     (c) 2009-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.
(function() {
    var n = this,
        t = n._,
        r = Array.prototype,
        e = Object.prototype,
        u = Function.prototype,
        i = r.push,
        a = r.slice,
        o = r.concat,
        l = e.toString,
        c = e.hasOwnProperty,
        f = Array.isArray,
        s = Object.keys,
        p = u.bind,
        h = function(n) {
            return n instanceof h ? n : this instanceof h ? void(this._wrapped = n) : new h(n)
        };
    "undefined" != typeof exports ? ("undefined" != typeof module && module.exports && (exports = module.exports = h), exports._ = h) : n._ = h, h.VERSION = "1.7.0";
    var g = function(n, t, r) {
        if (t === void 0) return n;
        switch (null == r ? 3 : r) {
            case 1:
                return function(r) {
                    return n.call(t, r)
                };
            case 2:
                return function(r, e) {
                    return n.call(t, r, e)
                };
            case 3:
                return function(r, e, u) {
                    return n.call(t, r, e, u)
                };
            case 4:
                return function(r, e, u, i) {
                    return n.call(t, r, e, u, i)
                }
        }
        return function() {
            return n.apply(t, arguments)
        }
    };
    h.iteratee = function(n, t, r) {
        return null == n ? h.identity : h.isFunction(n) ? g(n, t, r) : h.isObject(n) ? h.matches(n) : h.property(n)
    }, h.each = h.forEach = function(n, t, r) {
        if (null == n) return n;
        t = g(t, r);
        var e, u = n.length;
        if (u === +u)
            for (e = 0; u > e; e++) t(n[e], e, n);
        else {
            var i = h.keys(n);
            for (e = 0, u = i.length; u > e; e++) t(n[i[e]], i[e], n)
        }
        return n
    }, h.map = h.collect = function(n, t, r) {
        if (null == n) return [];
        t = h.iteratee(t, r);
        for (var e, u = n.length !== +n.length && h.keys(n), i = (u || n).length, a = Array(i), o = 0; i > o; o++) e = u ? u[o] : o, a[o] = t(n[e], e, n);
        return a
    };
    var v = "Reduce of empty array with no initial value";
    h.reduce = h.foldl = h.inject = function(n, t, r, e) {
        null == n && (n = []), t = g(t, e, 4);
        var u, i = n.length !== +n.length && h.keys(n),
            a = (i || n).length,
            o = 0;
        if (arguments.length < 3) {
            if (!a) throw new TypeError(v);
            r = n[i ? i[o++] : o++]
        }
        for (; a > o; o++) u = i ? i[o] : o, r = t(r, n[u], u, n);
        return r
    }, h.reduceRight = h.foldr = function(n, t, r, e) {
        null == n && (n = []), t = g(t, e, 4);
        var u, i = n.length !== +n.length && h.keys(n),
            a = (i || n).length;
        if (arguments.length < 3) {
            if (!a) throw new TypeError(v);
            r = n[i ? i[--a] : --a]
        }
        for (; a--;) u = i ? i[a] : a, r = t(r, n[u], u, n);
        return r
    }, h.find = h.detect = function(n, t, r) {
        var e;
        return t = h.iteratee(t, r), h.some(n, function(n, r, u) {
            return t(n, r, u) ? (e = n, !0) : void 0
        }), e
    }, h.filter = h.select = function(n, t, r) {
        var e = [];
        return null == n ? e : (t = h.iteratee(t, r), h.each(n, function(n, r, u) {
            t(n, r, u) && e.push(n)
        }), e)
    }, h.reject = function(n, t, r) {
        return h.filter(n, h.negate(h.iteratee(t)), r)
    }, h.every = h.all = function(n, t, r) {
        if (null == n) return !0;
        t = h.iteratee(t, r);
        var e, u, i = n.length !== +n.length && h.keys(n),
            a = (i || n).length;
        for (e = 0; a > e; e++)
            if (u = i ? i[e] : e, !t(n[u], u, n)) return !1;
        return !0
    }, h.some = h.any = function(n, t, r) {
        if (null == n) return !1;
        t = h.iteratee(t, r);
        var e, u, i = n.length !== +n.length && h.keys(n),
            a = (i || n).length;
        for (e = 0; a > e; e++)
            if (u = i ? i[e] : e, t(n[u], u, n)) return !0;
        return !1
    }, h.contains = h.include = function(n, t) {
        return null == n ? !1 : (n.length !== +n.length && (n = h.values(n)), h.indexOf(n, t) >= 0)
    }, h.invoke = function(n, t) {
        var r = a.call(arguments, 2),
            e = h.isFunction(t);
        return h.map(n, function(n) {
            return (e ? t : n[t]).apply(n, r)
        })
    }, h.pluck = function(n, t) {
        return h.map(n, h.property(t))
    }, h.where = function(n, t) {
        return h.filter(n, h.matches(t))
    }, h.findWhere = function(n, t) {
        return h.find(n, h.matches(t))
    }, h.max = function(n, t, r) {
        var e, u, i = -1 / 0,
            a = -1 / 0;
        if (null == t && null != n) {
            n = n.length === +n.length ? n : h.values(n);
            for (var o = 0, l = n.length; l > o; o++) e = n[o], e > i && (i = e)
        } else t = h.iteratee(t, r), h.each(n, function(n, r, e) {
            u = t(n, r, e), (u > a || u === -1 / 0 && i === -1 / 0) && (i = n, a = u)
        });
        return i
    }, h.min = function(n, t, r) {
        var e, u, i = 1 / 0,
            a = 1 / 0;
        if (null == t && null != n) {
            n = n.length === +n.length ? n : h.values(n);
            for (var o = 0, l = n.length; l > o; o++) e = n[o], i > e && (i = e)
        } else t = h.iteratee(t, r), h.each(n, function(n, r, e) {
            u = t(n, r, e), (a > u || 1 / 0 === u && 1 / 0 === i) && (i = n, a = u)
        });
        return i
    }, h.shuffle = function(n) {
        for (var t, r = n && n.length === +n.length ? n : h.values(n), e = r.length, u = Array(e), i = 0; e > i; i++) t = h.random(0, i), t !== i && (u[i] = u[t]), u[t] = r[i];
        return u
    }, h.sample = function(n, t, r) {
        return null == t || r ? (n.length !== +n.length && (n = h.values(n)), n[h.random(n.length - 1)]) : h.shuffle(n).slice(0, Math.max(0, t))
    }, h.sortBy = function(n, t, r) {
        return t = h.iteratee(t, r), h.pluck(h.map(n, function(n, r, e) {
            return {
                value: n,
                index: r,
                criteria: t(n, r, e)
            }
        }).sort(function(n, t) {
            var r = n.criteria,
                e = t.criteria;
            if (r !== e) {
                if (r > e || r === void 0) return 1;
                if (e > r || e === void 0) return -1
            }
            return n.index - t.index
        }), "value")
    };
    var m = function(n) {
        return function(t, r, e) {
            var u = {};
            return r = h.iteratee(r, e), h.each(t, function(e, i) {
                var a = r(e, i, t);
                n(u, e, a)
            }), u
        }
    };
    h.groupBy = m(function(n, t, r) {
        h.has(n, r) ? n[r].push(t) : n[r] = [t]
    }), h.indexBy = m(function(n, t, r) {
        n[r] = t
    }), h.countBy = m(function(n, t, r) {
        h.has(n, r) ? n[r]++ : n[r] = 1
    }), h.sortedIndex = function(n, t, r, e) {
        r = h.iteratee(r, e, 1);
        for (var u = r(t), i = 0, a = n.length; a > i;) {
            var o = i + a >>> 1;
            r(n[o]) < u ? i = o + 1 : a = o
        }
        return i
    }, h.toArray = function(n) {
        return n ? h.isArray(n) ? a.call(n) : n.length === +n.length ? h.map(n, h.identity) : h.values(n) : []
    }, h.size = function(n) {
        return null == n ? 0 : n.length === +n.length ? n.length : h.keys(n).length
    }, h.partition = function(n, t, r) {
        t = h.iteratee(t, r);
        var e = [],
            u = [];
        return h.each(n, function(n, r, i) {
            (t(n, r, i) ? e : u).push(n)
        }), [e, u]
    }, h.first = h.head = h.take = function(n, t, r) {
        return null == n ? void 0 : null == t || r ? n[0] : 0 > t ? [] : a.call(n, 0, t)
    }, h.initial = function(n, t, r) {
        return a.call(n, 0, Math.max(0, n.length - (null == t || r ? 1 : t)))
    }, h.last = function(n, t, r) {
        return null == n ? void 0 : null == t || r ? n[n.length - 1] : a.call(n, Math.max(n.length - t, 0))
    }, h.rest = h.tail = h.drop = function(n, t, r) {
        return a.call(n, null == t || r ? 1 : t)
    }, h.compact = function(n) {
        return h.filter(n, h.identity)
    };
    var y = function(n, t, r, e) {
        if (t && h.every(n, h.isArray)) return o.apply(e, n);
        for (var u = 0, a = n.length; a > u; u++) {
            var l = n[u];
            h.isArray(l) || h.isArguments(l) ? t ? i.apply(e, l) : y(l, t, r, e) : r || e.push(l)
        }
        return e
    };
    h.flatten = function(n, t) {
        return y(n, t, !1, [])
    }, h.without = function(n) {
        return h.difference(n, a.call(arguments, 1))
    }, h.uniq = h.unique = function(n, t, r, e) {
        if (null == n) return [];
        h.isBoolean(t) || (e = r, r = t, t = !1), null != r && (r = h.iteratee(r, e));
        for (var u = [], i = [], a = 0, o = n.length; o > a; a++) {
            var l = n[a];
            if (t) a && i === l || u.push(l), i = l;
            else if (r) {
                var c = r(l, a, n);
                h.indexOf(i, c) < 0 && (i.push(c), u.push(l))
            } else h.indexOf(u, l) < 0 && u.push(l)
        }
        return u
    }, h.union = function() {
        return h.uniq(y(arguments, !0, !0, []))
    }, h.intersection = function(n) {
        if (null == n) return [];
        for (var t = [], r = arguments.length, e = 0, u = n.length; u > e; e++) {
            var i = n[e];
            if (!h.contains(t, i)) {
                for (var a = 1; r > a && h.contains(arguments[a], i); a++);
                a === r && t.push(i)
            }
        }
        return t
    }, h.difference = function(n) {
        var t = y(a.call(arguments, 1), !0, !0, []);
        return h.filter(n, function(n) {
            return !h.contains(t, n)
        })
    }, h.zip = function(n) {
        if (null == n) return [];
        for (var t = h.max(arguments, "length").length, r = Array(t), e = 0; t > e; e++) r[e] = h.pluck(arguments, e);
        return r
    }, h.object = function(n, t) {
        if (null == n) return {};
        for (var r = {}, e = 0, u = n.length; u > e; e++) t ? r[n[e]] = t[e] : r[n[e][0]] = n[e][1];
        return r
    }, h.indexOf = function(n, t, r) {
        if (null == n) return -1;
        var e = 0,
            u = n.length;
        if (r) {
            if ("number" != typeof r) return e = h.sortedIndex(n, t), n[e] === t ? e : -1;
            e = 0 > r ? Math.max(0, u + r) : r
        }
        for (; u > e; e++)
            if (n[e] === t) return e;
        return -1
    }, h.lastIndexOf = function(n, t, r) {
        if (null == n) return -1;
        var e = n.length;
        for ("number" == typeof r && (e = 0 > r ? e + r + 1 : Math.min(e, r + 1)); --e >= 0;)
            if (n[e] === t) return e;
        return -1
    }, h.range = function(n, t, r) {
        arguments.length <= 1 && (t = n || 0, n = 0), r = r || 1;
        for (var e = Math.max(Math.ceil((t - n) / r), 0), u = Array(e), i = 0; e > i; i++, n += r) u[i] = n;
        return u
    };
    var d = function() {};
    h.bind = function(n, t) {
        var r, e;
        if (p && n.bind === p) return p.apply(n, a.call(arguments, 1));
        if (!h.isFunction(n)) throw new TypeError("Bind must be called on a function");
        return r = a.call(arguments, 2), e = function() {
            if (!(this instanceof e)) return n.apply(t, r.concat(a.call(arguments)));
            d.prototype = n.prototype;
            var u = new d;
            d.prototype = null;
            var i = n.apply(u, r.concat(a.call(arguments)));
            return h.isObject(i) ? i : u
        }
    }, h.partial = function(n) {
        var t = a.call(arguments, 1);
        return function() {
            for (var r = 0, e = t.slice(), u = 0, i = e.length; i > u; u++) e[u] === h && (e[u] = arguments[r++]);
            for (; r < arguments.length;) e.push(arguments[r++]);
            return n.apply(this, e)
        }
    }, h.bindAll = function(n) {
        var t, r, e = arguments.length;
        if (1 >= e) throw new Error("bindAll must be passed function names");
        for (t = 1; e > t; t++) r = arguments[t], n[r] = h.bind(n[r], n);
        return n
    }, h.memoize = function(n, t) {
        var r = function(e) {
            var u = r.cache,
                i = t ? t.apply(this, arguments) : e;
            return h.has(u, i) || (u[i] = n.apply(this, arguments)), u[i]
        };
        return r.cache = {}, r
    }, h.delay = function(n, t) {
        var r = a.call(arguments, 2);
        return setTimeout(function() {
            return n.apply(null, r)
        }, t)
    }, h.defer = function(n) {
        return h.delay.apply(h, [n, 1].concat(a.call(arguments, 1)))
    }, h.throttle = function(n, t, r) {
        var e, u, i, a = null,
            o = 0;
        r || (r = {});
        var l = function() {
            o = r.leading === !1 ? 0 : h.now(), a = null, i = n.apply(e, u), a || (e = u = null)
        };
        return function() {
            var c = h.now();
            o || r.leading !== !1 || (o = c);
            var f = t - (c - o);
            return e = this, u = arguments, 0 >= f || f > t ? (clearTimeout(a), a = null, o = c, i = n.apply(e, u), a || (e = u = null)) : a || r.trailing === !1 || (a = setTimeout(l, f)), i
        }
    }, h.debounce = function(n, t, r) {
        var e, u, i, a, o, l = function() {
            var c = h.now() - a;
            t > c && c > 0 ? e = setTimeout(l, t - c) : (e = null, r || (o = n.apply(i, u), e || (i = u = null)))
        };
        return function() {
            i = this, u = arguments, a = h.now();
            var c = r && !e;
            return e || (e = setTimeout(l, t)), c && (o = n.apply(i, u), i = u = null), o
        }
    }, h.wrap = function(n, t) {
        return h.partial(t, n)
    }, h.negate = function(n) {
        return function() {
            return !n.apply(this, arguments)
        }
    }, h.compose = function() {
        var n = arguments,
            t = n.length - 1;
        return function() {
            for (var r = t, e = n[t].apply(this, arguments); r--;) e = n[r].call(this, e);
            return e
        }
    }, h.after = function(n, t) {
        return function() {
            return --n < 1 ? t.apply(this, arguments) : void 0
        }
    }, h.before = function(n, t) {
        var r;
        return function() {
            return --n > 0 ? r = t.apply(this, arguments) : t = null, r
        }
    }, h.once = h.partial(h.before, 2), h.keys = function(n) {
        if (!h.isObject(n)) return [];
        if (s) return s(n);
        var t = [];
        for (var r in n) h.has(n, r) && t.push(r);
        return t
    }, h.values = function(n) {
        for (var t = h.keys(n), r = t.length, e = Array(r), u = 0; r > u; u++) e[u] = n[t[u]];
        return e
    }, h.pairs = function(n) {
        for (var t = h.keys(n), r = t.length, e = Array(r), u = 0; r > u; u++) e[u] = [t[u], n[t[u]]];
        return e
    }, h.invert = function(n) {
        for (var t = {}, r = h.keys(n), e = 0, u = r.length; u > e; e++) t[n[r[e]]] = r[e];
        return t
    }, h.functions = h.methods = function(n) {
        var t = [];
        for (var r in n) h.isFunction(n[r]) && t.push(r);
        return t.sort()
    }, h.extend = function(n) {
        if (!h.isObject(n)) return n;
        for (var t, r, e = 1, u = arguments.length; u > e; e++) {
            t = arguments[e];
            for (r in t) c.call(t, r) && (n[r] = t[r])
        }
        return n
    }, h.pick = function(n, t, r) {
        var e, u = {};
        if (null == n) return u;
        if (h.isFunction(t)) {
            t = g(t, r);
            for (e in n) {
                var i = n[e];
                t(i, e, n) && (u[e] = i)
            }
        } else {
            var l = o.apply([], a.call(arguments, 1));
            n = new Object(n);
            for (var c = 0, f = l.length; f > c; c++) e = l[c], e in n && (u[e] = n[e])
        }
        return u
    }, h.omit = function(n, t, r) {
        if (h.isFunction(t)) t = h.negate(t);
        else {
            var e = h.map(o.apply([], a.call(arguments, 1)), String);
            t = function(n, t) {
                return !h.contains(e, t)
            }
        }
        return h.pick(n, t, r)
    }, h.defaults = function(n) {
        if (!h.isObject(n)) return n;
        for (var t = 1, r = arguments.length; r > t; t++) {
            var e = arguments[t];
            for (var u in e) n[u] === void 0 && (n[u] = e[u])
        }
        return n
    }, h.clone = function(n) {
        return h.isObject(n) ? h.isArray(n) ? n.slice() : h.extend({}, n) : n
    }, h.tap = function(n, t) {
        return t(n), n
    };
    var b = function(n, t, r, e) {
        if (n === t) return 0 !== n || 1 / n === 1 / t;
        if (null == n || null == t) return n === t;
        n instanceof h && (n = n._wrapped), t instanceof h && (t = t._wrapped);
        var u = l.call(n);
        if (u !== l.call(t)) return !1;
        switch (u) {
            case "[object RegExp]":
            case "[object String]":
                return "" + n == "" + t;
            case "[object Number]":
                return +n !== +n ? +t !== +t : 0 === +n ? 1 / +n === 1 / t : +n === +t;
            case "[object Date]":
            case "[object Boolean]":
                return +n === +t
        }
        if ("object" != typeof n || "object" != typeof t) return !1;
        for (var i = r.length; i--;)
            if (r[i] === n) return e[i] === t;
        var a = n.constructor,
            o = t.constructor;
        if (a !== o && "constructor" in n && "constructor" in t && !(h.isFunction(a) && a instanceof a && h.isFunction(o) && o instanceof o)) return !1;
        r.push(n), e.push(t);
        var c, f;
        if ("[object Array]" === u) {
            if (c = n.length, f = c === t.length)
                for (; c-- && (f = b(n[c], t[c], r, e)););
        } else {
            var s, p = h.keys(n);
            if (c = p.length, f = h.keys(t).length === c)
                for (; c-- && (s = p[c], f = h.has(t, s) && b(n[s], t[s], r, e)););
        }
        return r.pop(), e.pop(), f
    };
    h.isEqual = function(n, t) {
        return b(n, t, [], [])
    }, h.isEmpty = function(n) {
        if (null == n) return !0;
        if (h.isArray(n) || h.isString(n) || h.isArguments(n)) return 0 === n.length;
        for (var t in n)
            if (h.has(n, t)) return !1;
        return !0
    }, h.isElement = function(n) {
        return !(!n || 1 !== n.nodeType)
    }, h.isArray = f || function(n) {
        return "[object Array]" === l.call(n)
    }, h.isObject = function(n) {
        var t = typeof n;
        return "function" === t || "object" === t && !!n
    }, h.each(["Arguments", "Function", "String", "Number", "Date", "RegExp"], function(n) {
        h["is" + n] = function(t) {
            return l.call(t) === "[object " + n + "]"
        }
    }), h.isArguments(arguments) || (h.isArguments = function(n) {
        return h.has(n, "callee")
    }), "function" != typeof /./ && (h.isFunction = function(n) {
        return "function" == typeof n || !1
    }), h.isFinite = function(n) {
        return isFinite(n) && !isNaN(parseFloat(n))
    }, h.isNaN = function(n) {
        return h.isNumber(n) && n !== +n
    }, h.isBoolean = function(n) {
        return n === !0 || n === !1 || "[object Boolean]" === l.call(n)
    }, h.isNull = function(n) {
        return null === n
    }, h.isUndefined = function(n) {
        return n === void 0
    }, h.has = function(n, t) {
        return null != n && c.call(n, t)
    }, h.noConflict = function() {
        return n._ = t, this
    }, h.identity = function(n) {
        return n
    }, h.constant = function(n) {
        return function() {
            return n
        }
    }, h.noop = function() {}, h.property = function(n) {
        return function(t) {
            return t[n]
        }
    }, h.matches = function(n) {
        var t = h.pairs(n),
            r = t.length;
        return function(n) {
            if (null == n) return !r;
            n = new Object(n);
            for (var e = 0; r > e; e++) {
                var u = t[e],
                    i = u[0];
                if (u[1] !== n[i] || !(i in n)) return !1
            }
            return !0
        }
    }, h.times = function(n, t, r) {
        var e = Array(Math.max(0, n));
        t = g(t, r, 1);
        for (var u = 0; n > u; u++) e[u] = t(u);
        return e
    }, h.random = function(n, t) {
        return null == t && (t = n, n = 0), n + Math.floor(Math.random() * (t - n + 1))
    }, h.now = Date.now || function() {
        return (new Date).getTime()
    };
    var _ = {
            "&": "&amp;",
            "<": "&lt;",
            ">": "&gt;",
            '"': "&quot;",
            "'": "&#x27;",
            "`": "&#x60;"
        },
        w = h.invert(_),
        j = function(n) {
            var t = function(t) {
                    return n[t]
                },
                r = "(?:" + h.keys(n).join("|") + ")",
                e = RegExp(r),
                u = RegExp(r, "g");
            return function(n) {
                return n = null == n ? "" : "" + n, e.test(n) ? n.replace(u, t) : n
            }
        };
    h.escape = j(_), h.unescape = j(w), h.result = function(n, t) {
        if (null == n) return void 0;
        var r = n[t];
        return h.isFunction(r) ? n[t]() : r
    };
    var x = 0;
    h.uniqueId = function(n) {
        var t = ++x + "";
        return n ? n + t : t
    }, h.templateSettings = {
        evaluate: /<%([\s\S]+?)%>/g,
        interpolate: /<%=([\s\S]+?)%>/g,
        escape: /<%-([\s\S]+?)%>/g
    };
    var A = /(.)^/,
        k = {
            "'": "'",
            "\\": "\\",
            "\r": "r",
            "\n": "n",
            "\u2028": "u2028",
            "\u2029": "u2029"
        },
        O = /\\|'|\r|\n|\u2028|\u2029/g,
        F = function(n) {
            return "\\" + k[n]
        };
    h.template = function(n, t, r) {
        !t && r && (t = r), t = h.defaults({}, t, h.templateSettings);
        var e = RegExp([(t.escape || A).source, (t.interpolate || A).source, (t.evaluate || A).source].join("|") + "|$", "g"),
            u = 0,
            i = "__p+='";
        n.replace(e, function(t, r, e, a, o) {
            return i += n.slice(u, o).replace(O, F), u = o + t.length, r ? i += "'+\n((__t=(" + r + "))==null?'':_.escape(__t))+\n'" : e ? i += "'+\n((__t=(" + e + "))==null?'':__t)+\n'" : a && (i += "';\n" + a + "\n__p+='"), t
        }), i += "';\n", t.variable || (i = "with(obj||{}){\n" + i + "}\n"), i = "var __t,__p='',__j=Array.prototype.join," + "print=function(){__p+=__j.call(arguments,'');};\n" + i + "return __p;\n";
        try {
            var a = new Function(t.variable || "obj", "_", i)
        } catch (o) {
            throw o.source = i, o
        }
        var l = function(n) {
                return a.call(this, n, h)
            },
            c = t.variable || "obj";
        return l.source = "function(" + c + "){\n" + i + "}", l
    }, h.chain = function(n) {
        var t = h(n);
        return t._chain = !0, t
    };
    var E = function(n) {
        return this._chain ? h(n).chain() : n
    };
    h.mixin = function(n) {
        h.each(h.functions(n), function(t) {
            var r = h[t] = n[t];
            h.prototype[t] = function() {
                var n = [this._wrapped];
                return i.apply(n, arguments), E.call(this, r.apply(h, n))
            }
        })
    }, h.mixin(h), h.each(["pop", "push", "reverse", "shift", "sort", "splice", "unshift"], function(n) {
        var t = r[n];
        h.prototype[n] = function() {
            var r = this._wrapped;
            return t.apply(r, arguments), "shift" !== n && "splice" !== n || 0 !== r.length || delete r[0], E.call(this, r)
        }
    }), h.each(["concat", "join", "slice"], function(n) {
        var t = r[n];
        h.prototype[n] = function() {
            return E.call(this, t.apply(this._wrapped, arguments))
        }
    }), h.prototype.value = function() {
        return this._wrapped
    }, "function" == typeof define && define.amd && define("underscore", [], function() {
        return h
    })
}).call(this);
(function($, sr) {

    // debouncing function from John Hann
    // http://unscriptable.com/index.php/2009/03/20/debouncing-javascript-methods/
    var debounce = function(func, threshold, execAsap) {
            var timeout;

            return function debounced() {
                var obj = this,
                    args = arguments;

                function delayed() {
                    if (!execAsap)
                        func.apply(obj, args);
                    timeout = null;
                };

                if (timeout)
                    clearTimeout(timeout);
                else if (execAsap)
                    func.apply(obj, args);

                timeout = setTimeout(delayed, threshold || 100);
            };
        }
        // smartresize
    jQuery.fn[sr] = function(fn) {
        return fn ? this.bind('resize', debounce(fn)) : this.trigger(sr);
    };

})(jQuery, 'smartresize');
/*!
	Colorbox 1.6.4
	license: MIT
	http://www.jacklmoore.com/colorbox
*/
(function ($, document, window) {
	var
	// Default settings object.
	// See http://jacklmoore.com/colorbox for details.
	defaults = {
		// data sources
		html: false,
		photo: false,
		iframe: false,
		inline: false,

		// behavior and appearance
		transition: "elastic",
		speed: 300,
		fadeOut: 300,
		width: false,
		initialWidth: "600",
		innerWidth: false,
		maxWidth: false,
		height: false,
		initialHeight: "450",
		innerHeight: false,
		maxHeight: false,
		scalePhotos: true,
		scrolling: true,
		opacity: 0.9,
		preloading: true,
		className: false,
		overlayClose: true,
		escKey: true,
		arrowKey: true,
		top: false,
		bottom: false,
		left: false,
		right: false,
		fixed: false,
		data: undefined,
		closeButton: true,
		fastIframe: true,
		open: false,
		reposition: true,
		loop: true,
		slideshow: false,
		slideshowAuto: true,
		slideshowSpeed: 2500,
		slideshowStart: "start slideshow",
		slideshowStop: "stop slideshow",
		photoRegex: /\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,

		// alternate image paths for high-res displays
		retinaImage: false,
		retinaUrl: false,
		retinaSuffix: '@2x.$1',

		// internationalization
		current: "image {current} of {total}",
		previous: "previous",
		next: "next",
		close: "close",
		xhrError: "This content failed to load.",
		imgError: "This image failed to load.",

		// accessbility
		returnFocus: true,
		trapFocus: true,

		// callbacks
		onOpen: false,
		onLoad: false,
		onComplete: false,
		onCleanup: false,
		onClosed: false,

		rel: function() {
			return this.rel;
		},
		href: function() {
			// using this.href would give the absolute url, when the href may have been inteded as a selector (e.g. '#container')
			return $(this).attr('href');
		},
		title: function() {
			return this.title;
		},
		createImg: function() {
			var img = new Image();
			var attrs = $(this).data('cbox-img-attrs');

			if (typeof attrs === 'object') {
				$.each(attrs, function(key, val){
					img[key] = val;
				});
			}

			return img;
		},
		createIframe: function() {
			var iframe = document.createElement('iframe');
			var attrs = $(this).data('cbox-iframe-attrs');

			if (typeof attrs === 'object') {
				$.each(attrs, function(key, val){
					iframe[key] = val;
				});
			}

			if ('frameBorder' in iframe) {
				iframe.frameBorder = 0;
			}
			if ('allowTransparency' in iframe) {
				iframe.allowTransparency = "true";
			}
			iframe.name = (new Date()).getTime(); // give the iframe a unique name to prevent caching
			iframe.allowFullscreen = true;

			return iframe;
		}
	},

	// Abstracting the HTML and event identifiers for easy rebranding
	colorbox = 'colorbox',
	prefix = 'cbox',
	boxElement = prefix + 'Element',

	// Events
	event_open = prefix + '_open',
	event_load = prefix + '_load',
	event_complete = prefix + '_complete',
	event_cleanup = prefix + '_cleanup',
	event_closed = prefix + '_closed',
	event_purge = prefix + '_purge',

	// Cached jQuery Object Variables
	$overlay,
	$box,
	$wrap,
	$content,
	$topBorder,
	$leftBorder,
	$rightBorder,
	$bottomBorder,
	$related,
	$window,
	$loaded,
	$loadingBay,
	$loadingOverlay,
	$title,
	$current,
	$slideshow,
	$next,
	$prev,
	$close,
	$groupControls,
	$events = $('<a/>'), // $({}) would be preferred, but there is an issue with jQuery 1.4.2

	// Variables for cached values or use across multiple functions
	settings,
	interfaceHeight,
	interfaceWidth,
	loadedHeight,
	loadedWidth,
	index,
	photo,
	open,
	active,
	closing,
	loadingTimer,
	publicMethod,
	div = "div",
	requests = 0,
	previousCSS = {},
	init;

	// ****************
	// HELPER FUNCTIONS
	// ****************

	// Convenience function for creating new jQuery objects
	function $tag(tag, id, css) {
		var element = document.createElement(tag);

		if (id) {
			element.id = prefix + id;
		}

		if (css) {
			element.style.cssText = css;
		}

		return $(element);
	}

	// Get the window height using innerHeight when available to avoid an issue with iOS
	// http://bugs.jquery.com/ticket/6724
	function winheight() {
		return window.innerHeight ? window.innerHeight : $(window).height();
	}

	function Settings(element, options) {
		if (options !== Object(options)) {
			options = {};
		}

		this.cache = {};
		this.el = element;

		this.value = function(key) {
			var dataAttr;

			if (this.cache[key] === undefined) {
				dataAttr = $(this.el).attr('data-cbox-'+key);

				if (dataAttr !== undefined) {
					this.cache[key] = dataAttr;
				} else if (options[key] !== undefined) {
					this.cache[key] = options[key];
				} else if (defaults[key] !== undefined) {
					this.cache[key] = defaults[key];
				}
			}

			return this.cache[key];
		};

		this.get = function(key) {
			var value = this.value(key);
			return $.isFunction(value) ? value.call(this.el, this) : value;
		};
	}

	// Determine the next and previous members in a group.
	function getIndex(increment) {
		var
		max = $related.length,
		newIndex = (index + increment) % max;

		return (newIndex < 0) ? max + newIndex : newIndex;
	}

	// Convert '%' and 'px' values to integers
	function setSize(size, dimension) {
		return Math.round((/%/.test(size) ? ((dimension === 'x' ? $window.width() : winheight()) / 100) : 1) * parseInt(size, 10));
	}

	// Checks an href to see if it is a photo.
	// There is a force photo option (photo: true) for hrefs that cannot be matched by the regex.
	function isImage(settings, url) {
		return settings.get('photo') || settings.get('photoRegex').test(url);
	}

	function retinaUrl(settings, url) {
		return settings.get('retinaUrl') && window.devicePixelRatio > 1 ? url.replace(settings.get('photoRegex'), settings.get('retinaSuffix')) : url;
	}

	function trapFocus(e) {
		if ('contains' in $box[0] && !$box[0].contains(e.target) && e.target !== $overlay[0]) {
			e.stopPropagation();
			$box.focus();
		}
	}

	function setClass(str) {
		if (setClass.str !== str) {
			$box.add($overlay).removeClass(setClass.str).addClass(str);
			setClass.str = str;
		}
	}

	function getRelated(rel) {
		index = 0;

		if (rel && rel !== false && rel !== 'nofollow') {
			$related = $('.' + boxElement).filter(function () {
				var options = $.data(this, colorbox);
				var settings = new Settings(this, options);
				return (settings.get('rel') === rel);
			});
			index = $related.index(settings.el);

			// Check direct calls to Colorbox.
			if (index === -1) {
				$related = $related.add(settings.el);
				index = $related.length - 1;
			}
		} else {
			$related = $(settings.el);
		}
	}

	function trigger(event) {
		// for external use
		$(document).trigger(event);
		// for internal use
		$events.triggerHandler(event);
	}

	var slideshow = (function(){
		var active,
			className = prefix + "Slideshow_",
			click = "click." + prefix,
			timeOut;

		function clear () {
			clearTimeout(timeOut);
		}

		function set() {
			if (settings.get('loop') || $related[index + 1]) {
				clear();
				timeOut = setTimeout(publicMethod.next, settings.get('slideshowSpeed'));
			}
		}

		function start() {
			$slideshow
				.html(settings.get('slideshowStop'))
				.unbind(click)
				.one(click, stop);

			$events
				.bind(event_complete, set)
				.bind(event_load, clear);

			$box.removeClass(className + "off").addClass(className + "on");
		}

		function stop() {
			clear();

			$events
				.unbind(event_complete, set)
				.unbind(event_load, clear);

			$slideshow
				.html(settings.get('slideshowStart'))
				.unbind(click)
				.one(click, function () {
					publicMethod.next();
					start();
				});

			$box.removeClass(className + "on").addClass(className + "off");
		}

		function reset() {
			active = false;
			$slideshow.hide();
			clear();
			$events
				.unbind(event_complete, set)
				.unbind(event_load, clear);
			$box.removeClass(className + "off " + className + "on");
		}

		return function(){
			if (active) {
				if (!settings.get('slideshow')) {
					$events.unbind(event_cleanup, reset);
					reset();
				}
			} else {
				if (settings.get('slideshow') && $related[1]) {
					active = true;
					$events.one(event_cleanup, reset);
					if (settings.get('slideshowAuto')) {
						start();
					} else {
						stop();
					}
					$slideshow.show();
				}
			}
		};

	}());


	function launch(element) {
		var options;

		if (!closing) {

			options = $(element).data(colorbox);

			settings = new Settings(element, options);

			getRelated(settings.get('rel'));

			if (!open) {
				open = active = true; // Prevents the page-change action from queuing up if the visitor holds down the left or right keys.

				setClass(settings.get('className'));

				// Show colorbox so the sizes can be calculated in older versions of jQuery
				$box.css({visibility:'hidden', display:'block', opacity:''});

				$loaded = $tag(div, 'LoadedContent', 'width:0; height:0; overflow:hidden; visibility:hidden');
				$content.css({width:'', height:''}).append($loaded);

				// Cache values needed for size calculations
				interfaceHeight = $topBorder.height() + $bottomBorder.height() + $content.outerHeight(true) - $content.height();
				interfaceWidth = $leftBorder.width() + $rightBorder.width() + $content.outerWidth(true) - $content.width();
				loadedHeight = $loaded.outerHeight(true);
				loadedWidth = $loaded.outerWidth(true);

				// Opens inital empty Colorbox prior to content being loaded.
				var initialWidth = setSize(settings.get('initialWidth'), 'x');
				var initialHeight = setSize(settings.get('initialHeight'), 'y');
				var maxWidth = settings.get('maxWidth');
				var maxHeight = settings.get('maxHeight');

				settings.w = Math.max((maxWidth !== false ? Math.min(initialWidth, setSize(maxWidth, 'x')) : initialWidth) - loadedWidth - interfaceWidth, 0);
				settings.h = Math.max((maxHeight !== false ? Math.min(initialHeight, setSize(maxHeight, 'y')) : initialHeight) - loadedHeight - interfaceHeight, 0);

				$loaded.css({width:'', height:settings.h});
				publicMethod.position();

				trigger(event_open);
				settings.get('onOpen');

				$groupControls.add($title).hide();

				$box.focus();

				if (settings.get('trapFocus')) {
					// Confine focus to the modal
					// Uses event capturing that is not supported in IE8-
					if (document.addEventListener) {

						document.addEventListener('focus', trapFocus, true);

						$events.one(event_closed, function () {
							document.removeEventListener('focus', trapFocus, true);
						});
					}
				}

				// Return focus on closing
				if (settings.get('returnFocus')) {
					$events.one(event_closed, function () {
						$(settings.el).focus();
					});
				}
			}

			var opacity = parseFloat(settings.get('opacity'));
			$overlay.css({
				opacity: opacity === opacity ? opacity : '',
				cursor: settings.get('overlayClose') ? 'pointer' : '',
				visibility: 'visible'
			}).show();

			if (settings.get('closeButton')) {
				$close.html(settings.get('close')).appendTo($content);
			} else {
				$close.appendTo('<div/>'); // replace with .detach() when dropping jQuery < 1.4
			}

			load();
		}
	}

	// Colorbox's markup needs to be added to the DOM prior to being called
	// so that the browser will go ahead and load the CSS background images.
	function appendHTML() {
		if (!$box) {
			init = false;
			$window = $(window);
			$box = $tag(div).attr({
				id: colorbox,
				'class': $.support.opacity === false ? prefix + 'IE' : '', // class for optional IE8 & lower targeted CSS.
				role: 'dialog',
				tabindex: '-1'
			}).hide();
			$overlay = $tag(div, "Overlay").hide();
			$loadingOverlay = $([$tag(div, "LoadingOverlay")[0],$tag(div, "LoadingGraphic")[0]]);
			$wrap = $tag(div, "Wrapper");
			$content = $tag(div, "Content").append(
				$title = $tag(div, "Title"),
				$current = $tag(div, "Current"),
				$prev = $('<button type="button"/>').attr({id:prefix+'Previous'}),
				$next = $('<button type="button"/>').attr({id:prefix+'Next'}),
				$slideshow = $('<button type="button"/>').attr({id:prefix+'Slideshow'}),
				$loadingOverlay
			);

			$close = $('<a href="javascript:void(0)"/>').attr({id:prefix+'Close'});

			$wrap.append( // The 3x3 Grid that makes up Colorbox
				$tag(div).append(
					$tag(div, "TopLeft"),
					$topBorder = $tag(div, "TopCenter"),
					$tag(div, "TopRight")
				),
				$tag(div, false, 'clear:left').append(
					$leftBorder = $tag(div, "MiddleLeft"),
					$content,
					$rightBorder = $tag(div, "MiddleRight")
				),
				$tag(div, false, 'clear:left').append(
					$tag(div, "BottomLeft"),
					$bottomBorder = $tag(div, "BottomCenter"),
					$tag(div, "BottomRight")
				)
			).find('div div').css({'float': 'left'});

			$loadingBay = $tag(div, false, 'position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;');

			$groupControls = $next.add($prev).add($current).add($slideshow);
		}
		if (document.body && !$box.parent().length) {
			$(document.body).append($overlay, $box.append($wrap, $loadingBay));
		}
	}

	// Add Colorbox's event bindings
	function addBindings() {
		function clickHandler(e) {
			// ignore non-left-mouse-clicks and clicks modified with ctrl / command, shift, or alt.
			// See: http://jacklmoore.com/notes/click-events/
			if (!(e.which > 1 || e.shiftKey || e.altKey || e.metaKey || e.ctrlKey)) {
				e.preventDefault();
				launch(this);
			}
		}

		if ($box) {
			if (!init) {
				init = true;

				// Anonymous functions here keep the public method from being cached, thereby allowing them to be redefined on the fly.
				$next.click(function () {
					publicMethod.next();
				});
				$prev.click(function () {
					publicMethod.prev();
				});
				$close.click(function () {
					$('body').removeClass('noscroll');
					publicMethod.close();
                    publicMethod.remove();
				});
				$overlay.click(function () {
					if (settings.get('overlayClose')) {
						$('body').removeClass('noscroll');
						publicMethod.close();
					}
				});

				// Key Bindings
				$(document).bind('keydown.' + prefix, function (e) {
					var key = e.keyCode;
					if (open && settings.get('escKey') && key === 27) {
						e.preventDefault();
						publicMethod.close();
					}
					if (open && settings.get('arrowKey') && $related[1] && !e.altKey) {
						if (key === 37) {
							e.preventDefault();
							$prev.click();
						} else if (key === 39) {
							e.preventDefault();
							$next.click();
						}
					}
				});

				if ($.isFunction($.fn.on)) {
					// For jQuery 1.7+
					$(document).on('click.'+prefix, '.'+boxElement, clickHandler);
				} else {
					// For jQuery 1.3.x -> 1.6.x
					// This code is never reached in jQuery 1.9, so do not contact me about 'live' being removed.
					// This is not here for jQuery 1.9, it's here for legacy users.
					$('.'+boxElement).live('click.'+prefix, clickHandler);
				}
			}
			return true;
		}
		return false;
	}

	// Don't do anything if Colorbox already exists.
	if ($[colorbox]) {
		return;
	}

	// Append the HTML when the DOM loads
	$(appendHTML);


	// ****************
	// PUBLIC FUNCTIONS
	// Usage format: $.colorbox.close();
	// Usage from within an iframe: parent.jQuery.colorbox.close();
	// ****************

	publicMethod = $.fn[colorbox] = $[colorbox] = function (options, callback) {
		var settings;
		var $obj = this;

		options = options || {};

		if ($.isFunction($obj)) { // assume a call to $.colorbox
			$obj = $('<a/>');
			options.open = true;
		}

		if (!$obj[0]) { // colorbox being applied to empty collection
			return $obj;
		}

		appendHTML();

		if (addBindings()) {

			if (callback) {
				options.onComplete = callback;
			}

			$obj.each(function () {
				var old = $.data(this, colorbox) || {};
				$.data(this, colorbox, $.extend(old, options));
			}).addClass(boxElement);

			settings = new Settings($obj[0], options);

			if (settings.get('open')) {
				launch($obj[0]);
			}
		}

		return $obj;
	};

	publicMethod.position = function (speed, loadedCallback) {
		var
		css,
		top = 0,
		left = 0,
		offset = $box.offset(),
		scrollTop,
		scrollLeft;

		$window.unbind('resize.' + prefix);

		// remove the modal so that it doesn't influence the document width/height
		$box.css({top: -9e4, left: -9e4});

		scrollTop = $window.scrollTop();
		scrollLeft = $window.scrollLeft();

		if (settings.get('fixed')) {
			offset.top -= scrollTop;
			offset.left -= scrollLeft;
			$box.css({position: 'fixed'});
		} else {
			top = scrollTop;
			left = scrollLeft;
			$box.css({position: 'absolute'});
		}

		// keeps the top and left positions within the browser's viewport.
		if (settings.get('right') !== false) {
			left += Math.max($window.width() - settings.w - loadedWidth - interfaceWidth - setSize(settings.get('right'), 'x'), 0);
		} else if (settings.get('left') !== false) {
			left += setSize(settings.get('left'), 'x');
		} else {
			left += Math.round(Math.max($window.width() - settings.w - loadedWidth - interfaceWidth, 0) / 2);
		}

		if (settings.get('bottom') !== false) {
			top += Math.max(winheight() - settings.h - loadedHeight - interfaceHeight - setSize(settings.get('bottom'), 'y'), 0);
		} else if (settings.get('top') !== false) {
			top += setSize(settings.get('top'), 'y');
		} else {
			top += Math.round(Math.max(winheight() - settings.h - loadedHeight - interfaceHeight, 0) / 2);
		}

		$box.css({top: offset.top, left: offset.left, visibility:'visible'});

		// this gives the wrapper plenty of breathing room so it's floated contents can move around smoothly,
		// but it has to be shrank down around the size of div#colorbox when it's done.  If not,
		// it can invoke an obscure IE bug when using iframes.
		$wrap[0].style.width = $wrap[0].style.height = "9999px";

		function modalDimensions() {
			$topBorder[0].style.width = $bottomBorder[0].style.width = $content[0].style.width = (parseInt($box[0].style.width,10) - interfaceWidth)+'px';
			$content[0].style.height = $leftBorder[0].style.height = $rightBorder[0].style.height = (parseInt($box[0].style.height,10) - interfaceHeight)+'px';
		}

		css = {width: settings.w + loadedWidth + interfaceWidth, height: settings.h + loadedHeight + interfaceHeight, top: top, left: left};

		// setting the speed to 0 if the content hasn't changed size or position
		if (speed) {
			var tempSpeed = 0;
			$.each(css, function(i){
				if (css[i] !== previousCSS[i]) {
					tempSpeed = speed;
					return;
				}
			});
			speed = tempSpeed;
		}

		previousCSS = css;

		if (!speed) {
			$box.css(css);
		}

		$box.dequeue().animate(css, {
			duration: speed || 0,
			complete: function () {
				modalDimensions();

				active = false;

				// shrink the wrapper down to exactly the size of colorbox to avoid a bug in IE's iframe implementation.
				$wrap[0].style.width = (settings.w + loadedWidth + interfaceWidth) + "px";
				$wrap[0].style.height = (settings.h + loadedHeight + interfaceHeight) + "px";

				if (settings.get('reposition')) {
					setTimeout(function () {  // small delay before binding onresize due to an IE8 bug.
						$window.bind('resize.' + prefix, publicMethod.position);
					}, 1);
				}

				if ($.isFunction(loadedCallback)) {
					loadedCallback();
				}
			},
			step: modalDimensions
		});
	};

	publicMethod.resize = function (options) {
		var scrolltop;

		if (open) {
			options = options || {};

			if (options.width) {
				settings.w = setSize(options.width, 'x') - loadedWidth - interfaceWidth;
			}

			if (options.innerWidth) {
				settings.w = setSize(options.innerWidth, 'x');
			}

			$loaded.css({width: settings.w});

			if (options.height) {
				settings.h = setSize(options.height, 'y') - loadedHeight - interfaceHeight;
			}

			if (options.innerHeight) {
				settings.h = setSize(options.innerHeight, 'y');
			}

			if (!options.innerHeight && !options.height) {
				scrolltop = $loaded.scrollTop();
				$loaded.css({height: "auto"});
				settings.h = $loaded.height();
			}

			$loaded.css({height: settings.h});

			if(scrolltop) {
				$loaded.scrollTop(scrolltop);
			}

			publicMethod.position(settings.get('transition') === "none" ? 0 : settings.get('speed'));
		}
	};

	publicMethod.prep = function (object) {
		if (!open) {
			return;
		}

		var callback, speed = settings.get('transition') === "none" ? 0 : settings.get('speed');

		$loaded.remove();

		$loaded = $tag(div, 'LoadedContent').append(object);

		function getWidth() {
			settings.w = settings.w || $loaded.width();
			settings.w = settings.mw && settings.mw < settings.w ? settings.mw : settings.w;
			return settings.w;
		}
		function getHeight() {
			settings.h = settings.h || $loaded.height();
			settings.h = settings.mh && settings.mh < settings.h ? settings.mh : settings.h;
			return settings.h;
		}

		$loaded.hide()
		.appendTo($loadingBay.show())// content has to be appended to the DOM for accurate size calculations.
		.css({width: getWidth(), overflow: settings.get('scrolling') ? 'auto' : 'hidden'})
		.css({height: getHeight()})// sets the height independently from the width in case the new width influences the value of height.
		.prependTo($content);

		$loadingBay.hide();

		// floating the IMG removes the bottom line-height and fixed a problem where IE miscalculates the width of the parent element as 100% of the document width.

		$(photo).css({'float': 'none'});

		setClass(settings.get('className'));

		callback = function () {
			var total = $related.length,
				iframe,
				complete;

			if (!open) {
				return;
			}

			function removeFilter() { // Needed for IE8 in versions of jQuery prior to 1.7.2
				if ($.support.opacity === false) {
					$box[0].style.removeAttribute('filter');
				}
			}

			complete = function () {
				clearTimeout(loadingTimer);
				$loadingOverlay.hide();
				trigger(event_complete);
				settings.get('onComplete');
			};


			$title.html(settings.get('title')).show();
			$loaded.show();

			if (total > 1) { // handle grouping
				if (typeof settings.get('current') === "string") {
					$current.html(settings.get('current').replace('{current}', index + 1).replace('{total}', total)).show();
				}

				$next[(settings.get('loop') || index < total - 1) ? "show" : "hide"]().html(settings.get('next'));
				$prev[(settings.get('loop') || index) ? "show" : "hide"]().html(settings.get('previous'));

				slideshow();

				// Preloads images within a rel group
				if (settings.get('preloading')) {
					$.each([getIndex(-1), getIndex(1)], function(){
						var img,
							i = $related[this],
							settings = new Settings(i, $.data(i, colorbox)),
							src = settings.get('href');

						if (src && isImage(settings, src)) {
							src = retinaUrl(settings, src);
							img = document.createElement('img');
							img.src = src;
						}
					});
				}
			} else {
				$groupControls.hide();
			}

			if (settings.get('iframe')) {

				iframe = settings.get('createIframe');

				if (!settings.get('scrolling')) {
					iframe.scrolling = "no";
				}

				$(iframe)
					.attr({
						src: settings.get('href'),
						'class': prefix + 'Iframe'
					})
					.one('load', complete)
					.appendTo($loaded);

				$events.one(event_purge, function () {
					iframe.src = "//about:blank";
				});

				if (settings.get('fastIframe')) {
					$(iframe).trigger('load');
				}
			} else {
				complete();
			}

			if (settings.get('transition') === 'fade') {
				$box.fadeTo(speed, 1, removeFilter);
			} else {
				removeFilter();
			}
		};

		if (settings.get('transition') === 'fade') {
			$box.fadeTo(speed, 0, function () {
				publicMethod.position(0, callback);
			});
		} else {
			publicMethod.position(speed, callback);
		}
	};

	function load () {
		var href, setResize, prep = publicMethod.prep, $inline, request = ++requests;

		active = true;

		photo = false;

		trigger(event_purge);
		trigger(event_load);
		settings.get('onLoad');

		settings.h = settings.get('height') ?
				setSize(settings.get('height'), 'y') - loadedHeight - interfaceHeight :
				settings.get('innerHeight') && setSize(settings.get('innerHeight'), 'y');

		settings.w = settings.get('width') ?
				setSize(settings.get('width'), 'x') - loadedWidth - interfaceWidth :
				settings.get('innerWidth') && setSize(settings.get('innerWidth'), 'x');

		// Sets the minimum dimensions for use in image scaling
		settings.mw = settings.w;
		settings.mh = settings.h;

		// Re-evaluate the minimum width and height based on maxWidth and maxHeight values.
		// If the width or height exceed the maxWidth or maxHeight, use the maximum values instead.
		if (settings.get('maxWidth')) {
			settings.mw = setSize(settings.get('maxWidth'), 'x') - loadedWidth - interfaceWidth;
			settings.mw = settings.w && settings.w < settings.mw ? settings.w : settings.mw;
		}
		if (settings.get('maxHeight')) {
			settings.mh = setSize(settings.get('maxHeight'), 'y') - loadedHeight - interfaceHeight;
			settings.mh = settings.h && settings.h < settings.mh ? settings.h : settings.mh;
		}

		href = settings.get('href');

		loadingTimer = setTimeout(function () {
			$loadingOverlay.show();
		}, 100);

		if (settings.get('inline')) {
			var $target = $(href).eq(0);
			// Inserts an empty placeholder where inline content is being pulled from.
			// An event is bound to put inline content back when Colorbox closes or loads new content.
			$inline = $('<div>').hide().insertBefore($target);

			$events.one(event_purge, function () {
				$inline.replaceWith($target);
			});

			prep($target);
		} else if (settings.get('iframe')) {
			// IFrame element won't be added to the DOM until it is ready to be displayed,
			// to avoid problems with DOM-ready JS that might be trying to run in that iframe.
			prep(" ");
		} else if (settings.get('html')) {
			prep(settings.get('html'));
		} else if (isImage(settings, href)) {

			href = retinaUrl(settings, href);

			photo = settings.get('createImg');

			$(photo)
			.addClass(prefix + 'Photo')
			.bind('error.'+prefix,function () {
				prep($tag(div, 'Error').html(settings.get('imgError')));
			})
			.one('load', function () {
				if (request !== requests) {
					return;
				}

				// A small pause because some browsers will occasionally report a
				// img.width and img.height of zero immediately after the img.onload fires
				setTimeout(function(){
					var percent;

					if (settings.get('retinaImage') && window.devicePixelRatio > 1) {
						photo.height = photo.height / window.devicePixelRatio;
						photo.width = photo.width / window.devicePixelRatio;
					}

					if (settings.get('scalePhotos')) {
						setResize = function () {
							photo.height -= photo.height * percent;
							photo.width -= photo.width * percent;
						};
						if (settings.mw && photo.width > settings.mw) {
							percent = (photo.width - settings.mw) / photo.width;
							setResize();
						}
						if (settings.mh && photo.height > settings.mh) {
							percent = (photo.height - settings.mh) / photo.height;
							setResize();
						}
					}

					if (settings.h) {
						photo.style.marginTop = Math.max(settings.mh - photo.height, 0) / 2 + 'px';
					}

					if ($related[1] && (settings.get('loop') || $related[index + 1])) {
						photo.style.cursor = 'pointer';

						$(photo).bind('click.'+prefix, function () {
							publicMethod.next();
						});
					}

					photo.style.width = photo.width + 'px';
					photo.style.height = photo.height + 'px';
					prep(photo);
				}, 1);
			});

			photo.src = href;

		} else if (href) {
			$loadingBay.load(href, settings.get('data'), function (data, status) {
				if (request === requests) {
					prep(status === 'error' ? $tag(div, 'Error').html(settings.get('xhrError')) : $(this).contents());
				}
			});
		}
	}

	// Navigates to the next page/image in a set.
	publicMethod.next = function () {
		if (!active && $related[1] && (settings.get('loop') || $related[index + 1])) {
			index = getIndex(1);
			launch($related[index]);
		}
	};

	publicMethod.prev = function () {
		if (!active && $related[1] && (settings.get('loop') || index)) {
			index = getIndex(-1);
			launch($related[index]);
		}
	};

	// Note: to use this within an iframe use the following format: parent.jQuery.colorbox.close();
	publicMethod.close = function () {
		if (open && !closing) {

			closing = true;
			open = false;
			trigger(event_cleanup);
			settings.get('onCleanup');
			$window.unbind('.' + prefix);
			$overlay.fadeTo(settings.get('fadeOut') || 0, 0);

			$box.stop().fadeTo(settings.get('fadeOut') || 0, 0, function () {
				$box.hide();
				$overlay.hide();
				trigger(event_purge);
				$loaded.remove();

				setTimeout(function () {
					closing = false;
					trigger(event_closed);
					settings.get('onClosed');
				}, 1);
			});


		}
	};

	// Removes changes Colorbox made to the document, but does not remove the plugin.
	publicMethod.remove = function () {
		if (!$box) { return; }

		$box.stop();
		$[colorbox].close();
		$box.stop(false, true).remove();
		$overlay.remove();
		closing = false;
		$box = null;
		$('.' + boxElement)
			.removeData(colorbox)
			.removeClass(boxElement);

		$(document).unbind('click.'+prefix).unbind('keydown.'+prefix);
	};

	// A method for fetching the current element Colorbox is referencing.
	// returns a jQuery object.
	publicMethod.element = function () {
		return $(settings.el);
	};

	publicMethod.settings = defaults;

}(jQuery, document, window));
(function defineMustache(global,factory){if(typeof exports==="object"&&exports&&typeof exports.nodeName!=="string"){factory(exports)}else if(typeof define==="function"&&define.amd){define(["exports"],factory)}else{global.Mustache={};factory(global.Mustache)}})(this,function mustacheFactory(mustache){var objectToString=Object.prototype.toString;var isArray=Array.isArray||function isArrayPolyfill(object){return objectToString.call(object)==="[object Array]"};function isFunction(object){return typeof object==="function"}function typeStr(obj){return isArray(obj)?"array":typeof obj}function escapeRegExp(string){return string.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function hasProperty(obj,propName){return obj!=null&&typeof obj==="object"&&propName in obj}var regExpTest=RegExp.prototype.test;function testRegExp(re,string){return regExpTest.call(re,string)}var nonSpaceRe=/\S/;function isWhitespace(string){return!testRegExp(nonSpaceRe,string)}var entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function escapeHtml(string){return String(string).replace(/[&<>"'`=\/]/g,function fromEntityMap(s){return entityMap[s]})}var whiteRe=/\s*/;var spaceRe=/\s+/;var equalsRe=/\s*=/;var curlyRe=/\s*\}/;var tagRe=/#|\^|\/|>|\{|&|=|!/;function parseTemplate(template,tags){if(!template)return[];var sections=[];var tokens=[];var spaces=[];var hasTag=false;var nonSpace=false;function stripSpace(){if(hasTag&&!nonSpace){while(spaces.length)delete tokens[spaces.pop()]}else{spaces=[]}hasTag=false;nonSpace=false}var openingTagRe,closingTagRe,closingCurlyRe;function compileTags(tagsToCompile){if(typeof tagsToCompile==="string")tagsToCompile=tagsToCompile.split(spaceRe,2);if(!isArray(tagsToCompile)||tagsToCompile.length!==2)throw new Error("Invalid tags: "+tagsToCompile);openingTagRe=new RegExp(escapeRegExp(tagsToCompile[0])+"\\s*");closingTagRe=new RegExp("\\s*"+escapeRegExp(tagsToCompile[1]));closingCurlyRe=new RegExp("\\s*"+escapeRegExp("}"+tagsToCompile[1]))}compileTags(tags||mustache.tags);var scanner=new Scanner(template);var start,type,value,chr,token,openSection;while(!scanner.eos()){start=scanner.pos;value=scanner.scanUntil(openingTagRe);if(value){for(var i=0,valueLength=value.length;i<valueLength;++i){chr=value.charAt(i);if(isWhitespace(chr)){spaces.push(tokens.length)}else{nonSpace=true}tokens.push(["text",chr,start,start+1]);start+=1;if(chr==="\n")stripSpace()}}if(!scanner.scan(openingTagRe))break;hasTag=true;type=scanner.scan(tagRe)||"name";scanner.scan(whiteRe);if(type==="="){value=scanner.scanUntil(equalsRe);scanner.scan(equalsRe);scanner.scanUntil(closingTagRe)}else if(type==="{"){value=scanner.scanUntil(closingCurlyRe);scanner.scan(curlyRe);scanner.scanUntil(closingTagRe);type="&"}else{value=scanner.scanUntil(closingTagRe)}if(!scanner.scan(closingTagRe))throw new Error("Unclosed tag at "+scanner.pos);token=[type,value,start,scanner.pos];tokens.push(token);if(type==="#"||type==="^"){sections.push(token)}else if(type==="/"){openSection=sections.pop();if(!openSection)throw new Error('Unopened section "'+value+'" at '+start);if(openSection[1]!==value)throw new Error('Unclosed section "'+openSection[1]+'" at '+start)}else if(type==="name"||type==="{"||type==="&"){nonSpace=true}else if(type==="="){compileTags(value)}}openSection=sections.pop();if(openSection)throw new Error('Unclosed section "'+openSection[1]+'" at '+scanner.pos);return nestTokens(squashTokens(tokens))}function squashTokens(tokens){var squashedTokens=[];var token,lastToken;for(var i=0,numTokens=tokens.length;i<numTokens;++i){token=tokens[i];if(token){if(token[0]==="text"&&lastToken&&lastToken[0]==="text"){lastToken[1]+=token[1];lastToken[3]=token[3]}else{squashedTokens.push(token);lastToken=token}}}return squashedTokens}function nestTokens(tokens){var nestedTokens=[];var collector=nestedTokens;var sections=[];var token,section;for(var i=0,numTokens=tokens.length;i<numTokens;++i){token=tokens[i];switch(token[0]){case"#":case"^":collector.push(token);sections.push(token);collector=token[4]=[];break;case"/":section=sections.pop();section[5]=token[2];collector=sections.length>0?sections[sections.length-1][4]:nestedTokens;break;default:collector.push(token)}}return nestedTokens}function Scanner(string){this.string=string;this.tail=string;this.pos=0}Scanner.prototype.eos=function eos(){return this.tail===""};Scanner.prototype.scan=function scan(re){var match=this.tail.match(re);if(!match||match.index!==0)return"";var string=match[0];this.tail=this.tail.substring(string.length);this.pos+=string.length;return string};Scanner.prototype.scanUntil=function scanUntil(re){var index=this.tail.search(re),match;switch(index){case-1:match=this.tail;this.tail="";break;case 0:match="";break;default:match=this.tail.substring(0,index);this.tail=this.tail.substring(index)}this.pos+=match.length;return match};function Context(view,parentContext){this.view=view;this.cache={".":this.view};this.parent=parentContext}Context.prototype.push=function push(view){return new Context(view,this)};Context.prototype.lookup=function lookup(name){var cache=this.cache;var value;if(cache.hasOwnProperty(name)){value=cache[name]}else{var context=this,names,index,lookupHit=false;while(context){if(name.indexOf(".")>0){value=context.view;names=name.split(".");index=0;while(value!=null&&index<names.length){if(index===names.length-1)lookupHit=hasProperty(value,names[index]);value=value[names[index++]]}}else{value=context.view[name];lookupHit=hasProperty(context.view,name)}if(lookupHit)break;context=context.parent}cache[name]=value}if(isFunction(value))value=value.call(this.view);return value};function Writer(){this.cache={}}Writer.prototype.clearCache=function clearCache(){this.cache={}};Writer.prototype.parse=function parse(template,tags){var cache=this.cache;var tokens=cache[template];if(tokens==null)tokens=cache[template]=parseTemplate(template,tags);return tokens};Writer.prototype.render=function render(template,view,partials){var tokens=this.parse(template);var context=view instanceof Context?view:new Context(view);return this.renderTokens(tokens,context,partials,template)};Writer.prototype.renderTokens=function renderTokens(tokens,context,partials,originalTemplate){var buffer="";var token,symbol,value;for(var i=0,numTokens=tokens.length;i<numTokens;++i){value=undefined;token=tokens[i];symbol=token[0];if(symbol==="#")value=this.renderSection(token,context,partials,originalTemplate);else if(symbol==="^")value=this.renderInverted(token,context,partials,originalTemplate);else if(symbol===">")value=this.renderPartial(token,context,partials,originalTemplate);else if(symbol==="&")value=this.unescapedValue(token,context);else if(symbol==="name")value=this.escapedValue(token,context);else if(symbol==="text")value=this.rawValue(token);if(value!==undefined)buffer+=value}return buffer};Writer.prototype.renderSection=function renderSection(token,context,partials,originalTemplate){var self=this;var buffer="";var value=context.lookup(token[1]);function subRender(template){return self.render(template,context,partials)}if(!value)return;if(isArray(value)){for(var j=0,valueLength=value.length;j<valueLength;++j){buffer+=this.renderTokens(token[4],context.push(value[j]),partials,originalTemplate)}}else if(typeof value==="object"||typeof value==="string"||typeof value==="number"){buffer+=this.renderTokens(token[4],context.push(value),partials,originalTemplate)}else if(isFunction(value)){if(typeof originalTemplate!=="string")throw new Error("Cannot use higher-order sections without the original template");value=value.call(context.view,originalTemplate.slice(token[3],token[5]),subRender);if(value!=null)buffer+=value}else{buffer+=this.renderTokens(token[4],context,partials,originalTemplate)}return buffer};Writer.prototype.renderInverted=function renderInverted(token,context,partials,originalTemplate){var value=context.lookup(token[1]);if(!value||isArray(value)&&value.length===0)return this.renderTokens(token[4],context,partials,originalTemplate)};Writer.prototype.renderPartial=function renderPartial(token,context,partials){if(!partials)return;var value=isFunction(partials)?partials(token[1]):partials[token[1]];if(value!=null)return this.renderTokens(this.parse(value),context,partials,value)};Writer.prototype.unescapedValue=function unescapedValue(token,context){var value=context.lookup(token[1]);if(value!=null)return value};Writer.prototype.escapedValue=function escapedValue(token,context){var value=context.lookup(token[1]);if(value!=null)return mustache.escape(value)};Writer.prototype.rawValue=function rawValue(token){return token[1]};mustache.name="mustache.js";mustache.version="2.3.0";mustache.tags=["{{","}}"];var defaultWriter=new Writer;mustache.clearCache=function clearCache(){return defaultWriter.clearCache()};mustache.parse=function parse(template,tags){return defaultWriter.parse(template,tags)};mustache.render=function render(template,view,partials){if(typeof template!=="string"){throw new TypeError('Invalid template! Template should be a "string" '+'but "'+typeStr(template)+'" was given as the first '+"argument for mustache#render(template, view, partials)")}return defaultWriter.render(template,view,partials)};mustache.to_html=function to_html(template,view,partials,send){var result=mustache.render(template,view,partials);if(isFunction(send)){send(result)}else{return result}};mustache.escape=escapeHtml;mustache.Scanner=Scanner;mustache.Context=Context;mustache.Writer=Writer;return mustache});

;
$(function($) {
	$('.campaignParam a').each(function() {
	    var url = new URL(window.location.href);
	    
	    /* logic to forward all params to next Page*/
	    var currHref=$(this).attr('href'),currURL=window.location.href;
	    if(currHref.indexOf('?fwdparams') > -1 ){
	    	if(currURL.indexOf('?') > -1){
		    	$(this).attr('href', function() {
		    		return currHref.replace("fwdparams",currURL.split(/\?(.+)/)[1]);
		    	});
	    	}else{
	    		$(this).attr('href', function() {
		    		return currHref.replace("?fwdparams","");
		    	});
	    	}
	    	if($(this).attr('data-href')!= undefined) {
				$(this).attr('data-href',$(this).attr('href'));
			}
	    
	    }else{
			var campaignkeys = ["ncid","nvid"];
		    var campaignValue = [];
	        for (var i = 0; i < campaignkeys.length; i++) {
				campaignValue.push(url.searchParams.get(campaignkeys[i]));
	        }
		    for (var j = 0; j < campaignValue.length; j++) {	   
				if (campaignValue[j] != null) {
					$(this).attr('href', function() {
	                    var link = this.href, reslink = "";
						if (link.indexOf('?') > -1 ) {
	                        var linkparam = link.split('?')[1];
							if (linkparam.indexOf(campaignkeys[j]+'=') > -1 && campaignValue[j] != null) {
	                            var linkregex = new RegExp('('+campaignkeys[j]+'=)[^\\&]+');
	                            reslink = link.replace(linkregex, '$1' + campaignValue[j]);
	                            return reslink;
	                        }
							else if (campaignValue[j] == null) {
								reslink = this.href;
	                        }
							else if(link.indexOf('pricespider.com') > -1 && link.toLowerCase().indexOf('utid') > -1) {
								reslink = link.replace(/(utid=)[^\&]+/ig, '$1' +campaignValue[j]);
								return reslink;
	                        }else if(link.indexOf('pricespider.com') > -1 && link.toLowerCase().indexOf('utid') == -1) {
								reslink = this.href+'&utid='+campaignValue[j];
								return reslink;
	                        }						
							else {
								reslink = this.href+'&'+campaignkeys[j]+'='+campaignValue[j];
							}
						}
						else {
								reslink = this.href+'?'+campaignkeys[j]+'='+campaignValue[j];
							}
	 					return reslink;
					});
					if($(this).attr('data-href')!= undefined) {
						$(this).attr('data-href',$(this).attr('href'));
					}
				}
			}
		    
		}
	});
	
	/** Start of code for setting of NCID parameter into hidden input field **/	
	$("form").each(function(){	
		if($(this).find("input[name='ncid']").length){
			if ('URLSearchParams' in window) {
			// Browser supports URLSearchParams
			const cpageurl = new URL(location);
			const ncidvalue = cpageurl.searchParams.get('ncid') || '';		
			$('input[name=ncid]').val(ncidvalue);
			}else{
				$.urlParam = function(name){
					var paramresults = new RegExp('[\?&]' + name + '=([^&#]*)').exec(window.location.href);
					if (paramresults==null) {
					   return null;
					}
					return decodeURI(paramresults[1]) || 0;
				}
			$('input[name=ncid]').val($.urlParam('ncid'));
			}
			
		}else{
			/** There is no input element with ncid to set **/
		}	
	});
	
	/** End of code for setting of NCID parameter into hidden input field **/	
});
/*
     _ _      _       _
 ___| (_) ___| | __  (_)___
/ __| | |/ __| |/ /  | / __|
\__ \ | | (__|   < _ | \__ \
|___/_|_|\___|_|\_(_)/ |___/
                   |__/

 Version: 1.8.0
  Author: Ken Wheeler
 Website: http://kenwheeler.github.io
    Docs: http://kenwheeler.github.io/slick
    Repo: http://github.com/kenwheeler/slick
  Issues: http://github.com/kenwheeler/slick/issues

 */
/* global window, document, define, jQuery, setInterval, clearInterval */
;(function(factory) {
    'use strict';
    if (typeof define === 'function' && define.amd) {
        define(['jquery'], factory);
    } else if (typeof exports !== 'undefined') {
        module.exports = factory(require('jquery'));
    } else {
        factory(jQuery);
    }

}(function($) {
    'use strict';
    var Slick = window.Slick || {};

    Slick = (function() {

        var instanceUid = 0;

        function Slick(element, settings) {

            var _ = this, dataSettings;

            _.defaults = {
                accessibility: true,
                adaptiveHeight: false,
                appendArrows: $(element),
                appendDots: $(element),
                arrows: true,
                asNavFor: null,
                prevArrow: '<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',
                nextArrow: '<button class="slick-next" aria-label="Next" type="button">Next</button>',
                autoplay: false,
                autoplaySpeed: 3000,
                centerMode: false,
                centerPadding: '50px',
                cssEase: 'ease',
                customPaging: function(slider, i) {
                    return $('<button type="button" />').text(i + 1);
                },
                dots: false,
                dotsClass: 'slick-dots',
                draggable: true,
                easing: 'linear',
                edgeFriction: 0.35,
                fade: false,
                focusOnSelect: false,
                focusOnChange: false,
                infinite: true,
                initialSlide: 0,
                lazyLoad: 'ondemand',
                mobileFirst: false,
                pauseOnHover: true,
                pauseOnFocus: true,
                pauseOnDotsHover: false,
                respondTo: 'window',
                responsive: null,
                rows: 1,
                rtl: false,
                slide: '',
                slidesPerRow: 1,
                slidesToShow: 1,
                slidesToScroll: 1,
                speed: 500,
                swipe: true,
                swipeToSlide: false,
                touchMove: true,
                touchThreshold: 5,
                useCSS: true,
                useTransform: true,
                variableWidth: false,
                vertical: false,
                verticalSwiping: false,
                waitForAnimate: true,
                zIndex: 1000
            };

            _.initials = {
                animating: false,
                dragging: false,
                autoPlayTimer: null,
                currentDirection: 0,
                currentLeft: null,
                currentSlide: 0,
                direction: 1,
                $dots: null,
                listWidth: null,
                listHeight: null,
                loadIndex: 0,
                $nextArrow: null,
                $prevArrow: null,
                scrolling: false,
                slideCount: null,
                slideWidth: null,
                $slideTrack: null,
                $slides: null,
                sliding: false,
                slideOffset: 0,
                swipeLeft: null,
                swiping: false,
                $list: null,
                touchObject: {},
                transformsEnabled: false,
                unslicked: false
            };

            $.extend(_, _.initials);

            _.activeBreakpoint = null;
            _.animType = null;
            _.animProp = null;
            _.breakpoints = [];
            _.breakpointSettings = [];
            _.cssTransitions = false;
            _.focussed = false;
            _.interrupted = false;
            _.hidden = 'hidden';
            _.paused = true;
            _.positionProp = null;
            _.respondTo = null;
            _.rowCount = 1;
            _.shouldClick = true;
            _.$slider = $(element);
            _.$slidesCache = null;
            _.transformType = null;
            _.transitionType = null;
            _.visibilityChange = 'visibilitychange';
            _.windowWidth = 0;
            _.windowTimer = null;

            dataSettings = $(element).data('slick') || {};

            _.options = $.extend({}, _.defaults, settings, dataSettings);

            _.currentSlide = _.options.initialSlide;

            _.originalSettings = _.options;

            if (typeof document.mozHidden !== 'undefined') {
                _.hidden = 'mozHidden';
                _.visibilityChange = 'mozvisibilitychange';
            } else if (typeof document.webkitHidden !== 'undefined') {
                _.hidden = 'webkitHidden';
                _.visibilityChange = 'webkitvisibilitychange';
            }

            _.autoPlay = $.proxy(_.autoPlay, _);
            _.autoPlayClear = $.proxy(_.autoPlayClear, _);
            _.autoPlayIterator = $.proxy(_.autoPlayIterator, _);
            _.changeSlide = $.proxy(_.changeSlide, _);
            _.clickHandler = $.proxy(_.clickHandler, _);
            _.selectHandler = $.proxy(_.selectHandler, _);
            _.setPosition = $.proxy(_.setPosition, _);
            _.swipeHandler = $.proxy(_.swipeHandler, _);
            _.dragHandler = $.proxy(_.dragHandler, _);
            _.keyHandler = $.proxy(_.keyHandler, _);

            _.instanceUid = instanceUid++;

            // A simple way to check for HTML strings
            // Strict HTML recognition (must start with <)
            // Extracted from jQuery v1.11 source
            _.htmlExpr = /^(?:\s*(<[\w\W]+>)[^>]*)$/;


            _.registerBreakpoints();
            _.init(true);

        }

        return Slick;

    }());

    Slick.prototype.activateADA = function() {
        var _ = this;

        _.$slideTrack.find('.slick-active').attr({
            'aria-hidden': 'false'
        }).find('a, input, button, select').attr({
            'tabindex': '0'
        });

    };

    Slick.prototype.addSlide = Slick.prototype.slickAdd = function(markup, index, addBefore) {

        var _ = this;

        if (typeof(index) === 'boolean') {
            addBefore = index;
            index = null;
        } else if (index < 0 || (index >= _.slideCount)) {
            return false;
        }

        _.unload();

        if (typeof(index) === 'number') {
            if (index === 0 && _.$slides.length === 0) {
                $(markup).appendTo(_.$slideTrack);
            } else if (addBefore) {
                $(markup).insertBefore(_.$slides.eq(index));
            } else {
                $(markup).insertAfter(_.$slides.eq(index));
            }
        } else {
            if (addBefore === true) {
                $(markup).prependTo(_.$slideTrack);
            } else {
                $(markup).appendTo(_.$slideTrack);
            }
        }

        _.$slides = _.$slideTrack.children(this.options.slide);

        _.$slideTrack.children(this.options.slide).detach();

        _.$slideTrack.append(_.$slides);

        _.$slides.each(function(index, element) {
            $(element).attr('data-slick-index', index);
        });

        _.$slidesCache = _.$slides;

        _.reinit();

    };

    Slick.prototype.animateHeight = function() {
        var _ = this;
        if (_.options.slidesToShow === 1 && _.options.adaptiveHeight === true && _.options.vertical === false) {
            var targetHeight = _.$slides.eq(_.currentSlide).outerHeight(true);
            _.$list.animate({
                height: targetHeight
            }, _.options.speed);
        }
    };

    Slick.prototype.animateSlide = function(targetLeft, callback) {

        var animProps = {},
            _ = this;

        _.animateHeight();

        if (_.options.rtl === true && _.options.vertical === false) {
            targetLeft = -targetLeft;
        }
        if (_.transformsEnabled === false) {
            if (_.options.vertical === false) {
                _.$slideTrack.animate({
                    left: targetLeft
                }, _.options.speed, _.options.easing, callback);
            } else {
                _.$slideTrack.animate({
                    top: targetLeft
                }, _.options.speed, _.options.easing, callback);
            }

        } else {

            if (_.cssTransitions === false) {
                if (_.options.rtl === true) {
                    _.currentLeft = -(_.currentLeft);
                }
                $({
                    animStart: _.currentLeft
                }).animate({
                    animStart: targetLeft
                }, {
                    duration: _.options.speed,
                    easing: _.options.easing,
                    step: function(now) {
                        now = Math.ceil(now);
                        if (_.options.vertical === false) {
                            animProps[_.animType] = 'translate(' +
                                now + 'px, 0px)';
                            _.$slideTrack.css(animProps);
                        } else {
                            animProps[_.animType] = 'translate(0px,' +
                                now + 'px)';
                            _.$slideTrack.css(animProps);
                        }
                    },
                    complete: function() {
                        if (callback) {
                            callback.call();
                        }
                    }
                });

            } else {

                _.applyTransition();
                targetLeft = Math.ceil(targetLeft);

                if (_.options.vertical === false) {
                    animProps[_.animType] = 'translate3d(' + targetLeft + 'px, 0px, 0px)';
                } else {
                    animProps[_.animType] = 'translate3d(0px,' + targetLeft + 'px, 0px)';
                }
                _.$slideTrack.css(animProps);

                if (callback) {
                    setTimeout(function() {

                        _.disableTransition();

                        callback.call();
                    }, _.options.speed);
                }

            }

        }

    };

    Slick.prototype.getNavTarget = function() {

        var _ = this,
            asNavFor = _.options.asNavFor;

        if ( asNavFor && asNavFor !== null ) {
            asNavFor = $(asNavFor).not(_.$slider);
        }

        return asNavFor;

    };

    Slick.prototype.asNavFor = function(index) {

        var _ = this,
            asNavFor = _.getNavTarget();

        if ( asNavFor !== null && typeof asNavFor === 'object' ) {
            asNavFor.each(function() {
                var target = $(this).slick('getSlick');
                if(!target.unslicked) {
                    target.slideHandler(index, true);
                }
            });
        }

    };

    Slick.prototype.applyTransition = function(slide) {

        var _ = this,
            transition = {};

        if (_.options.fade === false) {
            transition[_.transitionType] = _.transformType + ' ' + _.options.speed + 'ms ' + _.options.cssEase;
        } else {
            transition[_.transitionType] = 'opacity ' + _.options.speed + 'ms ' + _.options.cssEase;
        }

        if (_.options.fade === false) {
            _.$slideTrack.css(transition);
        } else {
            _.$slides.eq(slide).css(transition);
        }

    };

    Slick.prototype.autoPlay = function() {

        var _ = this;

        _.autoPlayClear();

        if ( _.slideCount > _.options.slidesToShow ) {
            _.autoPlayTimer = setInterval( _.autoPlayIterator, _.options.autoplaySpeed );
        }

    };

    Slick.prototype.autoPlayClear = function() {

        var _ = this;

        if (_.autoPlayTimer) {
            clearInterval(_.autoPlayTimer);
        }

    };

    Slick.prototype.autoPlayIterator = function() {

        var _ = this,
            slideTo = _.currentSlide + _.options.slidesToScroll;

        if ( !_.paused && !_.interrupted && !_.focussed ) {

            if ( _.options.infinite === false ) {

                if ( _.direction === 1 && ( _.currentSlide + 1 ) === ( _.slideCount - 1 )) {
                    _.direction = 0;
                }

                else if ( _.direction === 0 ) {

                    slideTo = _.currentSlide - _.options.slidesToScroll;

                    if ( _.currentSlide - 1 === 0 ) {
                        _.direction = 1;
                    }

                }

            }

            _.slideHandler( slideTo );

        }

    };

    Slick.prototype.buildArrows = function() {

        var _ = this;

        if (_.options.arrows === true ) {

            _.$prevArrow = $(_.options.prevArrow).addClass('slick-arrow');
            _.$nextArrow = $(_.options.nextArrow).addClass('slick-arrow');

            if( _.slideCount > _.options.slidesToShow ) {

                _.$prevArrow.removeClass('slick-hidden').removeAttr('aria-hidden tabindex');
                _.$nextArrow.removeClass('slick-hidden').removeAttr('aria-hidden tabindex');

                if (_.htmlExpr.test(_.options.prevArrow)) {
                    _.$prevArrow.prependTo(_.options.appendArrows);
                }

                if (_.htmlExpr.test(_.options.nextArrow)) {
                    _.$nextArrow.appendTo(_.options.appendArrows);
                }

                if (_.options.infinite !== true) {
                    _.$prevArrow
                        .addClass('slick-disabled')
                        .attr('aria-disabled', 'true');
                }

            } else {

                _.$prevArrow.add( _.$nextArrow )

                    .addClass('slick-hidden')
                    .attr({
                        'aria-disabled': 'true',
                        'tabindex': '-1'
                    });

            }

        }

    };

    Slick.prototype.buildDots = function() {

        var _ = this,
            i, dot;

        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {

            _.$slider.addClass('slick-dotted');

            dot = $('<ul />').addClass(_.options.dotsClass);

            for (i = 0; i <= _.getDotCount(); i += 1) {
                dot.append($('<li />').append(_.options.customPaging.call(this, _, i)));
            }

            _.$dots = dot.appendTo(_.options.appendDots);

            _.$dots.find('li').first().addClass('slick-active');

        }

    };

    Slick.prototype.buildOut = function() {

        var _ = this;

        _.$slides =
            _.$slider
                .children( _.options.slide + ':not(.slick-cloned)')
                .addClass('slick-slide');

        _.slideCount = _.$slides.length;

        _.$slides.each(function(index, element) {
            $(element)
                .attr('data-slick-index', index)
                .data('originalStyling', $(element).attr('style') || '');
        });

        _.$slider.addClass('slick-slider');

        _.$slideTrack = (_.slideCount === 0) ?
            $('<div class="slick-track"/>').appendTo(_.$slider) :
            _.$slides.wrapAll('<div class="slick-track"/>').parent();

        _.$list = _.$slideTrack.wrap(
            '<div class="slick-list"/>').parent();
        _.$slideTrack.css('opacity', 0);

        if (_.options.centerMode === true || _.options.swipeToSlide === true) {
            _.options.slidesToScroll = 1;
        }

        $('img[data-lazy]', _.$slider).not('[src]').addClass('slick-loading');

        _.setupInfinite();

        _.buildArrows();

        _.buildDots();

        _.updateDots();


        _.setSlideClasses(typeof _.currentSlide === 'number' ? _.currentSlide : 0);

        if (_.options.draggable === true) {
            _.$list.addClass('draggable');
        }

    };

    Slick.prototype.buildRows = function() {

        var _ = this, a, b, c, newSlides, numOfSlides, originalSlides,slidesPerSection;

        newSlides = document.createDocumentFragment();
        originalSlides = _.$slider.children();

        if(_.options.rows > 0) {

            slidesPerSection = _.options.slidesPerRow * _.options.rows;
            numOfSlides = Math.ceil(
                originalSlides.length / slidesPerSection
            );

            for(a = 0; a < numOfSlides; a++){
                var slide = document.createElement('div');
                for(b = 0; b < _.options.rows; b++) {
                    var row = document.createElement('div');
                    for(c = 0; c < _.options.slidesPerRow; c++) {
                        var target = (a * slidesPerSection + ((b * _.options.slidesPerRow) + c));
                        if (originalSlides.get(target)) {
                            row.appendChild(originalSlides.get(target));
                        }
                    }
                    slide.appendChild(row);
                }
                newSlides.appendChild(slide);
            }

            _.$slider.empty().append(newSlides);
            _.$slider.children().children().children()
                .css({
                    'width':(100 / _.options.slidesPerRow) + '%',
                    'display': 'inline-block'
                });

        }

    };

    Slick.prototype.checkResponsive = function(initial, forceUpdate) {

        var _ = this,
            breakpoint, targetBreakpoint, respondToWidth, triggerBreakpoint = false;
        var sliderWidth = _.$slider.width();
        var windowWidth = window.innerWidth || $(window).width();

        if (_.respondTo === 'window') {
            respondToWidth = windowWidth;
        } else if (_.respondTo === 'slider') {
            respondToWidth = sliderWidth;
        } else if (_.respondTo === 'min') {
            respondToWidth = Math.min(windowWidth, sliderWidth);
        }

        if ( _.options.responsive &&
            _.options.responsive.length &&
            _.options.responsive !== null) {

            targetBreakpoint = null;

            for (breakpoint in _.breakpoints) {
                if (_.breakpoints.hasOwnProperty(breakpoint)) {
                    if (_.originalSettings.mobileFirst === false) {
                        if (respondToWidth < _.breakpoints[breakpoint]) {
                            targetBreakpoint = _.breakpoints[breakpoint];
                        }
                    } else {
                        if (respondToWidth > _.breakpoints[breakpoint]) {
                            targetBreakpoint = _.breakpoints[breakpoint];
                        }
                    }
                }
            }

            if (targetBreakpoint !== null) {
                if (_.activeBreakpoint !== null) {
                    if (targetBreakpoint !== _.activeBreakpoint || forceUpdate) {
                        _.activeBreakpoint =
                            targetBreakpoint;
                        if (_.breakpointSettings[targetBreakpoint] === 'unslick') {
                            _.unslick(targetBreakpoint);
                        } else {
                            _.options = $.extend({}, _.originalSettings,
                                _.breakpointSettings[
                                    targetBreakpoint]);
                            if (initial === true) {
                                _.currentSlide = _.options.initialSlide;
                            }
                            _.refresh(initial);
                        }
                        triggerBreakpoint = targetBreakpoint;
                    }
                } else {
                    _.activeBreakpoint = targetBreakpoint;
                    if (_.breakpointSettings[targetBreakpoint] === 'unslick') {
                        _.unslick(targetBreakpoint);
                    } else {
                        _.options = $.extend({}, _.originalSettings,
                            _.breakpointSettings[
                                targetBreakpoint]);
                        if (initial === true) {
                            _.currentSlide = _.options.initialSlide;
                        }
                        _.refresh(initial);
                    }
                    triggerBreakpoint = targetBreakpoint;
                }
            } else {
                if (_.activeBreakpoint !== null) {
                    _.activeBreakpoint = null;
                    _.options = _.originalSettings;
                    if (initial === true) {
                        _.currentSlide = _.options.initialSlide;
                    }
                    _.refresh(initial);
                    triggerBreakpoint = targetBreakpoint;
                }
            }

            // only trigger breakpoints during an actual break. not on initialize.
            if( !initial && triggerBreakpoint !== false ) {
                _.$slider.trigger('breakpoint', [_, triggerBreakpoint]);
            }
        }

    };

    Slick.prototype.changeSlide = function(event, dontAnimate) {

        var _ = this,
            $target = $(event.currentTarget),
            indexOffset, slideOffset, unevenOffset;

        // If target is a link, prevent default action.
        if($target.is('a')) {
            event.preventDefault();
        }

        // If target is not the <li> element (ie: a child), find the <li>.
        if(!$target.is('li')) {
            $target = $target.closest('li');
        }

        unevenOffset = (_.slideCount % _.options.slidesToScroll !== 0);
        indexOffset = unevenOffset ? 0 : (_.slideCount - _.currentSlide) % _.options.slidesToScroll;

        switch (event.data.message) {

            case 'previous':
                slideOffset = indexOffset === 0 ? _.options.slidesToScroll : _.options.slidesToShow - indexOffset;
                if (_.slideCount > _.options.slidesToShow) {
                    _.slideHandler(_.currentSlide - slideOffset, false, dontAnimate);
                }
                break;

            case 'next':
                slideOffset = indexOffset === 0 ? _.options.slidesToScroll : indexOffset;
                if (_.slideCount > _.options.slidesToShow) {
                    _.slideHandler(_.currentSlide + slideOffset, false, dontAnimate);
                }
                break;

            case 'index':
                var index = event.data.index === 0 ? 0 :
                    event.data.index || $target.index() * _.options.slidesToScroll;

                _.slideHandler(_.checkNavigable(index), false, dontAnimate);
                $target.children().trigger('focus');
                break;

            default:
                return;
        }

    };

    Slick.prototype.checkNavigable = function(index) {

        var _ = this,
            navigables, prevNavigable;

        navigables = _.getNavigableIndexes();
        prevNavigable = 0;
        if (index > navigables[navigables.length - 1]) {
            index = navigables[navigables.length - 1];
        } else {
            for (var n in navigables) {
                if (index < navigables[n]) {
                    index = prevNavigable;
                    break;
                }
                prevNavigable = navigables[n];
            }
        }

        return index;
    };

    Slick.prototype.cleanUpEvents = function() {

        var _ = this;

        if (_.options.dots && _.$dots !== null) {

            $('li', _.$dots)
                .off('click.slick', _.changeSlide)
                .off('mouseenter.slick', $.proxy(_.interrupt, _, true))
                .off('mouseleave.slick', $.proxy(_.interrupt, _, false));

            if (_.options.accessibility === true) {
                _.$dots.off('keydown.slick', _.keyHandler);
            }
        }

        _.$slider.off('focus.slick blur.slick');

        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {
            _.$prevArrow && _.$prevArrow.off('click.slick', _.changeSlide);
            _.$nextArrow && _.$nextArrow.off('click.slick', _.changeSlide);

            if (_.options.accessibility === true) {
                _.$prevArrow && _.$prevArrow.off('keydown.slick', _.keyHandler);
                _.$nextArrow && _.$nextArrow.off('keydown.slick', _.keyHandler);
            }
        }

        _.$list.off('touchstart.slick mousedown.slick', _.swipeHandler);
        _.$list.off('touchmove.slick mousemove.slick', _.swipeHandler);
        _.$list.off('touchend.slick mouseup.slick', _.swipeHandler);
        _.$list.off('touchcancel.slick mouseleave.slick', _.swipeHandler);

        _.$list.off('click.slick', _.clickHandler);

        $(document).off(_.visibilityChange, _.visibility);

        _.cleanUpSlideEvents();

        if (_.options.accessibility === true) {
            _.$list.off('keydown.slick', _.keyHandler);
        }

        if (_.options.focusOnSelect === true) {
            $(_.$slideTrack).children().off('click.slick', _.selectHandler);
        }

        $(window).off('orientationchange.slick.slick-' + _.instanceUid, _.orientationChange);

        $(window).off('resize.slick.slick-' + _.instanceUid, _.resize);

        $('[draggable!=true]', _.$slideTrack).off('dragstart', _.preventDefault);

        $(window).off('load.slick.slick-' + _.instanceUid, _.setPosition);

    };

    Slick.prototype.cleanUpSlideEvents = function() {

        var _ = this;

        _.$list.off('mouseenter.slick', $.proxy(_.interrupt, _, true));
        _.$list.off('mouseleave.slick', $.proxy(_.interrupt, _, false));

    };

    Slick.prototype.cleanUpRows = function() {

        var _ = this, originalSlides;

        if(_.options.rows > 0) {
            originalSlides = _.$slides.children().children();
            originalSlides.removeAttr('style');
            _.$slider.empty().append(originalSlides);
        }

    };

    Slick.prototype.clickHandler = function(event) {

        var _ = this;

        if (_.shouldClick === false) {
            event.stopImmediatePropagation();
            event.stopPropagation();
            event.preventDefault();
        }

    };

    Slick.prototype.destroy = function(refresh) {

        var _ = this;

        _.autoPlayClear();

        _.touchObject = {};

        _.cleanUpEvents();

        $('.slick-cloned', _.$slider).detach();

        if (_.$dots) {
            _.$dots.remove();
        }

        if ( _.$prevArrow && _.$prevArrow.length ) {

            _.$prevArrow
                .removeClass('slick-disabled slick-arrow slick-hidden')
                .removeAttr('aria-hidden aria-disabled tabindex')
                .css('display','');

            if ( _.htmlExpr.test( _.options.prevArrow )) {
                _.$prevArrow.remove();
            }
        }

        if ( _.$nextArrow && _.$nextArrow.length ) {

            _.$nextArrow
                .removeClass('slick-disabled slick-arrow slick-hidden')
                .removeAttr('aria-hidden aria-disabled tabindex')
                .css('display','');

            if ( _.htmlExpr.test( _.options.nextArrow )) {
                _.$nextArrow.remove();
            }
        }


        if (_.$slides) {

            _.$slides
                .removeClass('slick-slide slick-active slick-center slick-visible slick-current')
                .removeAttr('aria-hidden')
                .removeAttr('data-slick-index')
                .each(function(){
                    $(this).attr('style', $(this).data('originalStyling'));
                });

            _.$slideTrack.children(this.options.slide).detach();

            _.$slideTrack.detach();

            _.$list.detach();

            _.$slider.append(_.$slides);
        }

        _.cleanUpRows();

        _.$slider.removeClass('slick-slider');
        _.$slider.removeClass('slick-initialized');
        _.$slider.removeClass('slick-dotted');

        _.unslicked = true;

        if(!refresh) {
            _.$slider.trigger('destroy', [_]);
        }

    };

    Slick.prototype.disableTransition = function(slide) {

        var _ = this,
            transition = {};

        transition[_.transitionType] = '';

        if (_.options.fade === false) {
            _.$slideTrack.css(transition);
        } else {
            _.$slides.eq(slide).css(transition);
        }

    };

    Slick.prototype.fadeSlide = function(slideIndex, callback) {

        var _ = this;

        if (_.cssTransitions === false) {

            _.$slides.eq(slideIndex).css({
                zIndex: _.options.zIndex
            });

            _.$slides.eq(slideIndex).animate({
                opacity: 1
            }, _.options.speed, _.options.easing, callback);

        } else {

            _.applyTransition(slideIndex);

            _.$slides.eq(slideIndex).css({
                opacity: 1,
                zIndex: _.options.zIndex
            });

            if (callback) {
                setTimeout(function() {

                    _.disableTransition(slideIndex);

                    callback.call();
                }, _.options.speed);
            }

        }

    };

    Slick.prototype.fadeSlideOut = function(slideIndex) {

        var _ = this;

        if (_.cssTransitions === false) {

            _.$slides.eq(slideIndex).animate({
                opacity: 0,
                zIndex: _.options.zIndex - 2
            }, _.options.speed, _.options.easing);

        } else {

            _.applyTransition(slideIndex);

            _.$slides.eq(slideIndex).css({
                opacity: 0,
                zIndex: _.options.zIndex - 2
            });

        }

    };

    Slick.prototype.filterSlides = Slick.prototype.slickFilter = function(filter) {

        var _ = this;

        if (filter !== null) {

            _.$slidesCache = _.$slides;

            _.unload();

            _.$slideTrack.children(this.options.slide).detach();

            _.$slidesCache.filter(filter).appendTo(_.$slideTrack);

            _.reinit();

        }

    };

    Slick.prototype.focusHandler = function() {

        var _ = this;

        _.$slider
            .off('focus.slick blur.slick')
            .on('focus.slick blur.slick', '*', function(event) {

            event.stopImmediatePropagation();
            var $sf = $(this);

            setTimeout(function() {

                if( _.options.pauseOnFocus ) {
                    _.focussed = $sf.is(':focus');
                    _.autoPlay();
                }

            }, 0);

        });
    };

    Slick.prototype.getCurrent = Slick.prototype.slickCurrentSlide = function() {

        var _ = this;
        return _.currentSlide;

    };

    Slick.prototype.getDotCount = function() {

        var _ = this;

        var breakPoint = 0;
        var counter = 0;
        var pagerQty = 0;

        if (_.options.infinite === true) {
            if (_.slideCount <= _.options.slidesToShow) {
                 ++pagerQty;
            } else {
                while (breakPoint < _.slideCount) {
                    ++pagerQty;
                    breakPoint = counter + _.options.slidesToScroll;
                    counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow;
                }
            }
        } else if (_.options.centerMode === true) {
            pagerQty = _.slideCount;
        } else if(!_.options.asNavFor) {
            pagerQty = 1 + Math.ceil((_.slideCount - _.options.slidesToShow) / _.options.slidesToScroll);
        }else {
            while (breakPoint < _.slideCount) {
                ++pagerQty;
                breakPoint = counter + _.options.slidesToScroll;
                counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow;
            }
        }

        return pagerQty - 1;

    };

    Slick.prototype.getLeft = function(slideIndex) {

        var _ = this,
            targetLeft,
            verticalHeight,
            verticalOffset = 0,
            targetSlide,
            coef;

        _.slideOffset = 0;
        verticalHeight = _.$slides.first().outerHeight(true);

        if (_.options.infinite === true) {
            if (_.slideCount > _.options.slidesToShow) {
                _.slideOffset = (_.slideWidth * _.options.slidesToShow) * -1;
                coef = -1

                if (_.options.vertical === true && _.options.centerMode === true) {
                    if (_.options.slidesToShow === 2) {
                        coef = -1.5;
                    } else if (_.options.slidesToShow === 1) {
                        coef = -2
                    }
                }
                verticalOffset = (verticalHeight * _.options.slidesToShow) * coef;
            }
            if (_.slideCount % _.options.slidesToScroll !== 0) {
                if (slideIndex + _.options.slidesToScroll > _.slideCount && _.slideCount > _.options.slidesToShow) {
                    if (slideIndex > _.slideCount) {
                        _.slideOffset = ((_.options.slidesToShow - (slideIndex - _.slideCount)) * _.slideWidth) * -1;
                        verticalOffset = ((_.options.slidesToShow - (slideIndex - _.slideCount)) * verticalHeight) * -1;
                    } else {
                        _.slideOffset = ((_.slideCount % _.options.slidesToScroll) * _.slideWidth) * -1;
                        verticalOffset = ((_.slideCount % _.options.slidesToScroll) * verticalHeight) * -1;
                    }
                }
            }
        } else {
            if (slideIndex + _.options.slidesToShow > _.slideCount) {
                _.slideOffset = ((slideIndex + _.options.slidesToShow) - _.slideCount) * _.slideWidth;
                verticalOffset = ((slideIndex + _.options.slidesToShow) - _.slideCount) * verticalHeight;
            }
        }

        if (_.slideCount <= _.options.slidesToShow) {
            _.slideOffset = 0;
            verticalOffset = 0;
        }

        if (_.options.centerMode === true && _.slideCount <= _.options.slidesToShow) {
            _.slideOffset = ((_.slideWidth * Math.floor(_.options.slidesToShow)) / 2) - ((_.slideWidth * _.slideCount) / 2);
        } else if (_.options.centerMode === true && _.options.infinite === true) {
            _.slideOffset += _.slideWidth * Math.floor(_.options.slidesToShow / 2) - _.slideWidth;
        } else if (_.options.centerMode === true) {
            _.slideOffset = 0;
            _.slideOffset += _.slideWidth * Math.floor(_.options.slidesToShow / 2);
        }

        if (_.options.vertical === false) {
            targetLeft = ((slideIndex * _.slideWidth) * -1) + _.slideOffset;
        } else {
            targetLeft = ((slideIndex * verticalHeight) * -1) + verticalOffset;
        }

        if (_.options.variableWidth === true) {

            if (_.slideCount <= _.options.slidesToShow || _.options.infinite === false) {
                targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex);
            } else {
                targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex + _.options.slidesToShow);
            }

            if (_.options.rtl === true) {
                if (targetSlide[0]) {
                    targetLeft = (_.$slideTrack.width() - targetSlide[0].offsetLeft - targetSlide.width()) * -1;
                } else {
                    targetLeft =  0;
                }
            } else {
                targetLeft = targetSlide[0] ? targetSlide[0].offsetLeft * -1 : 0;
            }

            if (_.options.centerMode === true) {
                if (_.slideCount <= _.options.slidesToShow || _.options.infinite === false) {
                    targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex);
                } else {
                    targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex + _.options.slidesToShow + 1);
                }

                if (_.options.rtl === true) {
                    if (targetSlide[0]) {
                        targetLeft = (_.$slideTrack.width() - targetSlide[0].offsetLeft - targetSlide.width()) * -1;
                    } else {
                        targetLeft =  0;
                    }
                } else {
                    targetLeft = targetSlide[0] ? targetSlide[0].offsetLeft * -1 : 0;
                }

                targetLeft += (_.$list.width() - targetSlide.outerWidth()) / 2;
            }
        }

        return targetLeft;

    };

    Slick.prototype.getOption = Slick.prototype.slickGetOption = function(option) {

        var _ = this;

        return _.options[option];

    };

    Slick.prototype.getNavigableIndexes = function() {

        var _ = this,
            breakPoint = 0,
            counter = 0,
            indexes = [],
            max;

        if (_.options.infinite === false) {
            max = _.slideCount;
        } else {
            breakPoint = _.options.slidesToScroll * -1;
            counter = _.options.slidesToScroll * -1;
            max = _.slideCount * 2;
        }

        while (breakPoint < max) {
            indexes.push(breakPoint);
            breakPoint = counter + _.options.slidesToScroll;
            counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow;
        }

        return indexes;

    };

    Slick.prototype.getSlick = function() {

        return this;

    };

    Slick.prototype.getSlideCount = function() {

        var _ = this,
            slidesTraversed, swipedSlide, centerOffset;

        centerOffset = _.options.centerMode === true ? _.slideWidth * Math.floor(_.options.slidesToShow / 2) : 0;

        if (_.options.swipeToSlide === true) {
            _.$slideTrack.find('.slick-slide').each(function(index, slide) {
                if (slide.offsetLeft - centerOffset + ($(slide).outerWidth() / 2) > (_.swipeLeft * -1)) {
                    swipedSlide = slide;
                    return false;
                }
            });

            slidesTraversed = Math.abs($(swipedSlide).attr('data-slick-index') - _.currentSlide) || 1;

            return slidesTraversed;

        } else {
            return _.options.slidesToScroll;
        }

    };

    Slick.prototype.goTo = Slick.prototype.slickGoTo = function(slide, dontAnimate) {

        var _ = this;

        _.changeSlide({
            data: {
                message: 'index',
                index: parseInt(slide)
            }
        }, dontAnimate);

    };

    Slick.prototype.init = function(creation) {

        var _ = this;

        if (!$(_.$slider).hasClass('slick-initialized')) {

            $(_.$slider).addClass('slick-initialized');

            _.buildRows();
            _.buildOut();
            _.setProps();
            _.startLoad();
            _.loadSlider();
            _.initializeEvents();
            _.updateArrows();
            _.updateDots();
            _.checkResponsive(true);
            _.focusHandler();

        }

        if (creation) {
            _.$slider.trigger('init', [_]);
        }

        if (_.options.accessibility === true) {
            _.initADA();
        }

        if ( _.options.autoplay ) {

            _.paused = false;
            _.autoPlay();

        }

    };

    Slick.prototype.initADA = function() {
        var _ = this,
                numDotGroups = Math.ceil(_.slideCount / _.options.slidesToShow),
                tabControlIndexes = _.getNavigableIndexes().filter(function(val) {
                    return (val >= 0) && (val < _.slideCount);
                });

        _.$slides.add(_.$slideTrack.find('.slick-cloned')).attr({
            'aria-hidden': 'true',
            'tabindex': '-1'
        }).find('a, input, button, select').attr({
            'tabindex': '-1'
        });

        if (_.$dots !== null) {
            _.$slides.not(_.$slideTrack.find('.slick-cloned')).each(function(i) {
                var slideControlIndex = tabControlIndexes.indexOf(i);

                $(this).attr({
                    'role': 'tabpanel',
                    'id': 'slick-slide' + _.instanceUid + i,
                    'tabindex': -1
                });

                if (slideControlIndex !== -1) {
                   var ariaButtonControl = 'slick-slide-control' + _.instanceUid + slideControlIndex
                   if ($('#' + ariaButtonControl).length) {
                     $(this).attr({
                         'aria-describedby': ariaButtonControl
                     });
                   }
                }
            });

            _.$dots.attr('role', 'tablist').find('li').each(function(i) {
                var mappedSlideIndex = tabControlIndexes[i];

                $(this).attr({
                    'role': 'presentation'
                });

                $(this).find('button').first().attr({
                    'role': 'tab',
                    'id': 'slick-slide-control' + _.instanceUid + i,
                    'aria-controls': 'slick-slide' + _.instanceUid + mappedSlideIndex,
                    'aria-label': (i + 1) + ' of ' + numDotGroups,
                    'aria-selected': null,
                    'tabindex': '-1'
                });

            }).eq(_.currentSlide).find('button').attr({
                'aria-selected': 'true',
                'tabindex': '0'
            }).end();
        }

        for (var i=_.currentSlide, max=i+_.options.slidesToShow; i < max; i++) {
          if (_.options.focusOnChange) {
            _.$slides.eq(i).attr({'tabindex': '0'});
          } else {
            _.$slides.eq(i).removeAttr('tabindex');
          }
        }

        _.activateADA();

    };

    Slick.prototype.initArrowEvents = function() {

        var _ = this;

        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {
            _.$prevArrow
               .off('click.slick')
               .on('click.slick', {
                    message: 'previous'
               }, _.changeSlide);
            _.$nextArrow
               .off('click.slick')
               .on('click.slick', {
                    message: 'next'
               }, _.changeSlide);

            if (_.options.accessibility === true) {
                _.$prevArrow.on('keydown.slick', _.keyHandler);
                _.$nextArrow.on('keydown.slick', _.keyHandler);
            }
        }

    };

    Slick.prototype.initDotEvents = function() {

        var _ = this;

        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {
            $('li', _.$dots).on('click.slick', {
                message: 'index'
            }, _.changeSlide);

            if (_.options.accessibility === true) {
                _.$dots.on('keydown.slick', _.keyHandler);
            }
        }

        if (_.options.dots === true && _.options.pauseOnDotsHover === true && _.slideCount > _.options.slidesToShow) {

            $('li', _.$dots)
                .on('mouseenter.slick', $.proxy(_.interrupt, _, true))
                .on('mouseleave.slick', $.proxy(_.interrupt, _, false));

        }

    };

    Slick.prototype.initSlideEvents = function() {

        var _ = this;

        if ( _.options.pauseOnHover ) {

            _.$list.on('mouseenter.slick', $.proxy(_.interrupt, _, true));
            _.$list.on('mouseleave.slick', $.proxy(_.interrupt, _, false));

        }

    };

    Slick.prototype.initializeEvents = function() {

        var _ = this;

        _.initArrowEvents();

        _.initDotEvents();
        _.initSlideEvents();

        _.$list.on('touchstart.slick mousedown.slick', {
            action: 'start'
        }, _.swipeHandler);
        _.$list.on('touchmove.slick mousemove.slick', {
            action: 'move'
        }, _.swipeHandler);
        _.$list.on('touchend.slick mouseup.slick', {
            action: 'end'
        }, _.swipeHandler);
        _.$list.on('touchcancel.slick mouseleave.slick', {
            action: 'end'
        }, _.swipeHandler);

        _.$list.on('click.slick', _.clickHandler);

        $(document).on(_.visibilityChange, $.proxy(_.visibility, _));

        if (_.options.accessibility === true) {
            _.$list.on('keydown.slick', _.keyHandler);
        }

        if (_.options.focusOnSelect === true) {
            $(_.$slideTrack).children().on('click.slick', _.selectHandler);
        }

        $(window).on('orientationchange.slick.slick-' + _.instanceUid, $.proxy(_.orientationChange, _));

        $(window).on('resize.slick.slick-' + _.instanceUid, $.proxy(_.resize, _));

        $('[draggable!=true]', _.$slideTrack).on('dragstart', _.preventDefault);

        $(window).on('load.slick.slick-' + _.instanceUid, _.setPosition);
        $(_.setPosition);

    };

    Slick.prototype.initUI = function() {

        var _ = this;

        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {

            _.$prevArrow.show();
            _.$nextArrow.show();

        }

        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {

            _.$dots.show();

        }

    };

    Slick.prototype.keyHandler = function(event) {

        var _ = this;
         //Dont slide if the cursor is inside the form fields and arrow keys are pressed
        if(!event.target.tagName.match('TEXTAREA|INPUT|SELECT')) {
            if (event.keyCode === 37 && _.options.accessibility === true) {
                _.changeSlide({
                    data: {
                        message: _.options.rtl === true ? 'next' :  'previous'
                    }
                });
            } else if (event.keyCode === 39 && _.options.accessibility === true) {
                _.changeSlide({
                    data: {
                        message: _.options.rtl === true ? 'previous' : 'next'
                    }
                });
            }
        }

    };

    Slick.prototype.lazyLoad = function() {

        var _ = this,
            loadRange, cloneRange, rangeStart, rangeEnd;

        function loadImages(imagesScope) {

            $('img[data-lazy]', imagesScope).each(function() {

                var image = $(this),
                    imageSource = $(this).attr('data-lazy'),
                    imageSrcSet = $(this).attr('data-srcset'),
                    imageSizes  = $(this).attr('data-sizes') || _.$slider.attr('data-sizes'),
                    imageToLoad = document.createElement('img');

                imageToLoad.onload = function() {

                    image
                        .animate({ opacity: 0 }, 100, function() {

                            if (imageSrcSet) {
                                image
                                    .attr('srcset', imageSrcSet );

                                if (imageSizes) {
                                    image
                                        .attr('sizes', imageSizes );
                                }
                            }

                            image
                                .attr('src', imageSource)
                                .animate({ opacity: 1 }, 200, function() {
                                    image
                                        .removeAttr('data-lazy data-srcset data-sizes')
                                        .removeClass('slick-loading');
                                });
                            _.$slider.trigger('lazyLoaded', [_, image, imageSource]);
                        });

                };

                imageToLoad.onerror = function() {

                    image
                        .removeAttr( 'data-lazy' )
                        .removeClass( 'slick-loading' )
                        .addClass( 'slick-lazyload-error' );

                    _.$slider.trigger('lazyLoadError', [ _, image, imageSource ]);

                };

                imageToLoad.src = imageSource;

            });

        }

        if (_.options.centerMode === true) {
            if (_.options.infinite === true) {
                rangeStart = _.currentSlide + (_.options.slidesToShow / 2 + 1);
                rangeEnd = rangeStart + _.options.slidesToShow + 2;
            } else {
                rangeStart = Math.max(0, _.currentSlide - (_.options.slidesToShow / 2 + 1));
                rangeEnd = 2 + (_.options.slidesToShow / 2 + 1) + _.currentSlide;
            }
        } else {
            rangeStart = _.options.infinite ? _.options.slidesToShow + _.currentSlide : _.currentSlide;
            rangeEnd = Math.ceil(rangeStart + _.options.slidesToShow);
            if (_.options.fade === true) {
                if (rangeStart > 0) rangeStart--;
                if (rangeEnd <= _.slideCount) rangeEnd++;
            }
        }

        loadRange = _.$slider.find('.slick-slide').slice(rangeStart, rangeEnd);

        if (_.options.lazyLoad === 'anticipated') {
            var prevSlide = rangeStart - 1,
                nextSlide = rangeEnd,
                $slides = _.$slider.find('.slick-slide');

            for (var i = 0; i < _.options.slidesToScroll; i++) {
                if (prevSlide < 0) prevSlide = _.slideCount - 1;
                loadRange = loadRange.add($slides.eq(prevSlide));
                loadRange = loadRange.add($slides.eq(nextSlide));
                prevSlide--;
                nextSlide++;
            }
        }

        loadImages(loadRange);

        if (_.slideCount <= _.options.slidesToShow) {
            cloneRange = _.$slider.find('.slick-slide');
            loadImages(cloneRange);
        } else
        if (_.currentSlide >= _.slideCount - _.options.slidesToShow) {
            cloneRange = _.$slider.find('.slick-cloned').slice(0, _.options.slidesToShow);
            loadImages(cloneRange);
        } else if (_.currentSlide === 0) {
            cloneRange = _.$slider.find('.slick-cloned').slice(_.options.slidesToShow * -1);
            loadImages(cloneRange);
        }

    };

    Slick.prototype.loadSlider = function() {

        var _ = this;

        _.setPosition();

        _.$slideTrack.css({
            opacity: 1
        });

        _.$slider.removeClass('slick-loading');

        _.initUI();

        if (_.options.lazyLoad === 'progressive') {
            _.progressiveLazyLoad();
        }

    };

    Slick.prototype.next = Slick.prototype.slickNext = function() {

        var _ = this;

        _.changeSlide({
            data: {
                message: 'next'
            }
        });

    };

    Slick.prototype.orientationChange = function() {

        var _ = this;

        _.checkResponsive();
        _.setPosition();

    };

    Slick.prototype.pause = Slick.prototype.slickPause = function() {

        var _ = this;

        _.autoPlayClear();
        _.paused = true;

    };

    Slick.prototype.play = Slick.prototype.slickPlay = function() {

        var _ = this;

        _.autoPlay();
        _.options.autoplay = true;
        _.paused = false;
        _.focussed = false;
        _.interrupted = false;

    };

    Slick.prototype.postSlide = function(index) {

        var _ = this;

        if( !_.unslicked ) {

            _.$slider.trigger('afterChange', [_, index]);

            _.animating = false;

            if (_.slideCount > _.options.slidesToShow) {
                _.setPosition();
            }

            _.swipeLeft = null;

            if ( _.options.autoplay ) {
                _.autoPlay();
            }

            if (_.options.accessibility === true) {
                _.initADA();

                if (_.options.focusOnChange) {
                    var $currentSlide = $(_.$slides.get(_.currentSlide));
                    $currentSlide.attr('tabindex', 0).focus();
                }
            }

        }

    };

    Slick.prototype.prev = Slick.prototype.slickPrev = function() {

        var _ = this;

        _.changeSlide({
            data: {
                message: 'previous'
            }
        });

    };

    Slick.prototype.preventDefault = function(event) {

        event.preventDefault();

    };

    Slick.prototype.progressiveLazyLoad = function( tryCount ) {

        tryCount = tryCount || 1;

        var _ = this,
            $imgsToLoad = $( 'img[data-lazy]', _.$slider ),
            image,
            imageSource,
            imageSrcSet,
            imageSizes,
            imageToLoad;

        if ( $imgsToLoad.length ) {

            image = $imgsToLoad.first();
            imageSource = image.attr('data-lazy');
            imageSrcSet = image.attr('data-srcset');
            imageSizes  = image.attr('data-sizes') || _.$slider.attr('data-sizes');
            imageToLoad = document.createElement('img');

            imageToLoad.onload = function() {

                if (imageSrcSet) {
                    image
                        .attr('srcset', imageSrcSet );

                    if (imageSizes) {
                        image
                            .attr('sizes', imageSizes );
                    }
                }

                image
                    .attr( 'src', imageSource )
                    .removeAttr('data-lazy data-srcset data-sizes')
                    .removeClass('slick-loading');

                if ( _.options.adaptiveHeight === true ) {
                    _.setPosition();
                }

                _.$slider.trigger('lazyLoaded', [ _, image, imageSource ]);
                _.progressiveLazyLoad();

            };

            imageToLoad.onerror = function() {

                if ( tryCount < 3 ) {

                    /**
                     * try to load the image 3 times,
                     * leave a slight delay so we don't get
                     * servers blocking the request.
                     */
                    setTimeout( function() {
                        _.progressiveLazyLoad( tryCount + 1 );
                    }, 500 );

                } else {

                    image
                        .removeAttr( 'data-lazy' )
                        .removeClass( 'slick-loading' )
                        .addClass( 'slick-lazyload-error' );

                    _.$slider.trigger('lazyLoadError', [ _, image, imageSource ]);

                    _.progressiveLazyLoad();

                }

            };

            imageToLoad.src = imageSource;

        } else {

            _.$slider.trigger('allImagesLoaded', [ _ ]);

        }

    };

    Slick.prototype.refresh = function( initializing ) {

        var _ = this, currentSlide, lastVisibleIndex;

        lastVisibleIndex = _.slideCount - _.options.slidesToShow;

        // in non-infinite sliders, we don't want to go past the
        // last visible index.
        if( !_.options.infinite && ( _.currentSlide > lastVisibleIndex )) {
            _.currentSlide = lastVisibleIndex;
        }

        // if less slides than to show, go to start.
        if ( _.slideCount <= _.options.slidesToShow ) {
            _.currentSlide = 0;

        }

        currentSlide = _.currentSlide;

        _.destroy(true);

        $.extend(_, _.initials, { currentSlide: currentSlide });

        _.init();

        if( !initializing ) {

            _.changeSlide({
                data: {
                    message: 'index',
                    index: currentSlide
                }
            }, false);

        }

    };

    Slick.prototype.registerBreakpoints = function() {

        var _ = this, breakpoint, currentBreakpoint, l,
            responsiveSettings = _.options.responsive || null;

        if ( $.type(responsiveSettings) === 'array' && responsiveSettings.length ) {

            _.respondTo = _.options.respondTo || 'window';

            for ( breakpoint in responsiveSettings ) {

                l = _.breakpoints.length-1;

                if (responsiveSettings.hasOwnProperty(breakpoint)) {
                    currentBreakpoint = responsiveSettings[breakpoint].breakpoint;

                    // loop through the breakpoints and cut out any existing
                    // ones with the same breakpoint number, we don't want dupes.
                    while( l >= 0 ) {
                        if( _.breakpoints[l] && _.breakpoints[l] === currentBreakpoint ) {
                            _.breakpoints.splice(l,1);
                        }
                        l--;
                    }

                    _.breakpoints.push(currentBreakpoint);
                    _.breakpointSettings[currentBreakpoint] = responsiveSettings[breakpoint].settings;

                }

            }

            _.breakpoints.sort(function(a, b) {
                return ( _.options.mobileFirst ) ? a-b : b-a;
            });

        }

    };

    Slick.prototype.reinit = function() {

        var _ = this;

        _.$slides =
            _.$slideTrack
                .children(_.options.slide)
                .addClass('slick-slide');

        _.slideCount = _.$slides.length;

        if (_.currentSlide >= _.slideCount && _.currentSlide !== 0) {
            _.currentSlide = _.currentSlide - _.options.slidesToScroll;
        }

        if (_.slideCount <= _.options.slidesToShow) {
            _.currentSlide = 0;
        }

        _.registerBreakpoints();

        _.setProps();
        _.setupInfinite();
        _.buildArrows();
        _.updateArrows();
        _.initArrowEvents();
        _.buildDots();
        _.updateDots();
        _.initDotEvents();
        _.cleanUpSlideEvents();
        _.initSlideEvents();

        _.checkResponsive(false, true);

        if (_.options.focusOnSelect === true) {
            $(_.$slideTrack).children().on('click.slick', _.selectHandler);
        }

        _.setSlideClasses(typeof _.currentSlide === 'number' ? _.currentSlide : 0);

        _.setPosition();
        _.focusHandler();

        _.paused = !_.options.autoplay;
        _.autoPlay();

        _.$slider.trigger('reInit', [_]);

    };

    Slick.prototype.resize = function() {

        var _ = this;

        if ($(window).width() !== _.windowWidth) {
            clearTimeout(_.windowDelay);
            _.windowDelay = window.setTimeout(function() {
                _.windowWidth = $(window).width();
                _.checkResponsive();
                if( !_.unslicked ) { _.setPosition(); }
            }, 50);
        }
    };

    Slick.prototype.removeSlide = Slick.prototype.slickRemove = function(index, removeBefore, removeAll) {

        var _ = this;

        if (typeof(index) === 'boolean') {
            removeBefore = index;
            index = removeBefore === true ? 0 : _.slideCount - 1;
        } else {
            index = removeBefore === true ? --index : index;
        }

        if (_.slideCount < 1 || index < 0 || index > _.slideCount - 1) {
            return false;
        }

        _.unload();

        if (removeAll === true) {
            _.$slideTrack.children().remove();
        } else {
            _.$slideTrack.children(this.options.slide).eq(index).remove();
        }

        _.$slides = _.$slideTrack.children(this.options.slide);

        _.$slideTrack.children(this.options.slide).detach();

        _.$slideTrack.append(_.$slides);

        _.$slidesCache = _.$slides;

        _.reinit();

    };

    Slick.prototype.setCSS = function(position) {

        var _ = this,
            positionProps = {},
            x, y;

        if (_.options.rtl === true) {
            position = -position;
        }
        x = _.positionProp == 'left' ? Math.ceil(position) + 'px' : '0px';
        y = _.positionProp == 'top' ? Math.ceil(position) + 'px' : '0px';

        positionProps[_.positionProp] = position;

        if (_.transformsEnabled === false) {
            _.$slideTrack.css(positionProps);
        } else {
            positionProps = {};
            if (_.cssTransitions === false) {
                positionProps[_.animType] = 'translate(' + x + ', ' + y + ')';
                _.$slideTrack.css(positionProps);
            } else {
                positionProps[_.animType] = 'translate3d(' + x + ', ' + y + ', 0px)';
                _.$slideTrack.css(positionProps);
            }
        }

    };

    Slick.prototype.setDimensions = function() {

        var _ = this;

        if (_.options.vertical === false) {
            if (_.options.centerMode === true) {
                _.$list.css({
                    padding: ('0px ' + _.options.centerPadding)
                });
            }
        } else {
            _.$list.height(_.$slides.first().outerHeight(true) * _.options.slidesToShow);
            if (_.options.centerMode === true) {
                _.$list.css({
                    padding: (_.options.centerPadding + ' 0px')
                });
            }
        }

        _.listWidth = _.$list.width();
        _.listHeight = _.$list.height();


        if (_.options.vertical === false && _.options.variableWidth === false) {
            _.slideWidth = Math.ceil(_.listWidth / _.options.slidesToShow);
            _.$slideTrack.width(Math.ceil((_.slideWidth * _.$slideTrack.children('.slick-slide').length)));

        } else if (_.options.variableWidth === true) {
            _.$slideTrack.width(5000 * _.slideCount);
        } else {
            _.slideWidth = Math.ceil(_.listWidth);
            _.$slideTrack.height(Math.ceil((_.$slides.first().outerHeight(true) * _.$slideTrack.children('.slick-slide').length)));
        }

        var offset = _.$slides.first().outerWidth(true) - _.$slides.first().width();
        if (_.options.variableWidth === false) _.$slideTrack.children('.slick-slide').width(_.slideWidth - offset);

    };

    Slick.prototype.setFade = function() {

        var _ = this,
            targetLeft;

        _.$slides.each(function(index, element) {
            targetLeft = (_.slideWidth * index) * -1;
            if (_.options.rtl === true) {
                $(element).css({
                    position: 'relative',
                    right: targetLeft,
                    top: 0,
                    zIndex: _.options.zIndex - 2,
                    opacity: 0
                });
            } else {
                $(element).css({
                    position: 'relative',
                    left: targetLeft,
                    top: 0,
                    zIndex: _.options.zIndex - 2,
                    opacity: 0
                });
            }
        });

        _.$slides.eq(_.currentSlide).css({
            zIndex: _.options.zIndex - 1,
            opacity: 1
        });

    };

    Slick.prototype.setHeight = function() {

        var _ = this;

        if (_.options.slidesToShow === 1 && _.options.adaptiveHeight === true && _.options.vertical === false) {
            var targetHeight = _.$slides.eq(_.currentSlide).outerHeight(true);
            _.$list.css('height', targetHeight);
        }

    };

    Slick.prototype.setOption =
    Slick.prototype.slickSetOption = function() {

        /**
         * accepts arguments in format of:
         *
         *  - for changing a single option's value:
         *     .slick("setOption", option, value, refresh )
         *
         *  - for changing a set of responsive options:
         *     .slick("setOption", 'responsive', [{}, ...], refresh )
         *
         *  - for updating multiple values at once (not responsive)
         *     .slick("setOption", { 'option': value, ... }, refresh )
         */

        var _ = this, l, item, option, value, refresh = false, type;

        if( $.type( arguments[0] ) === 'object' ) {

            option =  arguments[0];
            refresh = arguments[1];
            type = 'multiple';

        } else if ( $.type( arguments[0] ) === 'string' ) {

            option =  arguments[0];
            value = arguments[1];
            refresh = arguments[2];

            if ( arguments[0] === 'responsive' && $.type( arguments[1] ) === 'array' ) {

                type = 'responsive';

            } else if ( typeof arguments[1] !== 'undefined' ) {

                type = 'single';

            }

        }

        if ( type === 'single' ) {

            _.options[option] = value;


        } else if ( type === 'multiple' ) {

            $.each( option , function( opt, val ) {

                _.options[opt] = val;

            });


        } else if ( type === 'responsive' ) {

            for ( item in value ) {

                if( $.type( _.options.responsive ) !== 'array' ) {

                    _.options.responsive = [ value[item] ];

                } else {

                    l = _.options.responsive.length-1;

                    // loop through the responsive object and splice out duplicates.
                    while( l >= 0 ) {

                        if( _.options.responsive[l].breakpoint === value[item].breakpoint ) {

                            _.options.responsive.splice(l,1);

                        }

                        l--;

                    }

                    _.options.responsive.push( value[item] );

                }

            }

        }

        if ( refresh ) {

            _.unload();
            _.reinit();

        }

    };

    Slick.prototype.setPosition = function() {

        var _ = this;

        _.setDimensions();

        _.setHeight();

        if (_.options.fade === false) {
            _.setCSS(_.getLeft(_.currentSlide));
        } else {
            _.setFade();
        }

        _.$slider.trigger('setPosition', [_]);

    };

    Slick.prototype.setProps = function() {

        var _ = this,
            bodyStyle = document.body.style;

        _.positionProp = _.options.vertical === true ? 'top' : 'left';

        if (_.positionProp === 'top') {
            _.$slider.addClass('slick-vertical');
        } else {
            _.$slider.removeClass('slick-vertical');
        }

        if (bodyStyle.WebkitTransition !== undefined ||
            bodyStyle.MozTransition !== undefined ||
            bodyStyle.msTransition !== undefined) {
            if (_.options.useCSS === true) {
                _.cssTransitions = true;
            }
        }

        if ( _.options.fade ) {
            if ( typeof _.options.zIndex === 'number' ) {
                if( _.options.zIndex < 3 ) {
                    _.options.zIndex = 3;
                }
            } else {
                _.options.zIndex = _.defaults.zIndex;
            }
        }

        if (bodyStyle.OTransform !== undefined) {
            _.animType = 'OTransform';
            _.transformType = '-o-transform';
            _.transitionType = 'OTransition';
            if (bodyStyle.perspectiveProperty === undefined && bodyStyle.webkitPerspective === undefined) _.animType = false;
        }
        if (bodyStyle.MozTransform !== undefined) {
            _.animType = 'MozTransform';
            _.transformType = '-moz-transform';
            _.transitionType = 'MozTransition';
            if (bodyStyle.perspectiveProperty === undefined && bodyStyle.MozPerspective === undefined) _.animType = false;
        }
        if (bodyStyle.webkitTransform !== undefined) {
            _.animType = 'webkitTransform';
            _.transformType = '-webkit-transform';
            _.transitionType = 'webkitTransition';
            if (bodyStyle.perspectiveProperty === undefined && bodyStyle.webkitPerspective === undefined) _.animType = false;
        }
        if (bodyStyle.msTransform !== undefined) {
            _.animType = 'msTransform';
            _.transformType = '-ms-transform';
            _.transitionType = 'msTransition';
            if (bodyStyle.msTransform === undefined) _.animType = false;
        }
        if (bodyStyle.transform !== undefined && _.animType !== false) {
            _.animType = 'transform';
            _.transformType = 'transform';
            _.transitionType = 'transition';
        }
        _.transformsEnabled = _.options.useTransform && (_.animType !== null && _.animType !== false);
    };


    Slick.prototype.setSlideClasses = function(index) {

        var _ = this,
            centerOffset, allSlides, indexOffset, remainder;

        allSlides = _.$slider
            .find('.slick-slide')
            .removeClass('slick-active slick-center slick-current')
            .attr('aria-hidden', 'true');

        _.$slides
            .eq(index)
            .addClass('slick-current');

        if (_.options.centerMode === true) {

            var evenCoef = _.options.slidesToShow % 2 === 0 ? 1 : 0;

            centerOffset = Math.floor(_.options.slidesToShow / 2);

            if (_.options.infinite === true) {

                if (index >= centerOffset && index <= (_.slideCount - 1) - centerOffset) {
                    _.$slides
                        .slice(index - centerOffset + evenCoef, index + centerOffset + 1)
                        .addClass('slick-active')
                        .attr('aria-hidden', 'false');

                } else {

                    indexOffset = _.options.slidesToShow + index;
                    allSlides
                        .slice(indexOffset - centerOffset + 1 + evenCoef, indexOffset + centerOffset + 2)
                        .addClass('slick-active')
                        .attr('aria-hidden', 'false');

                }

                if (index === 0) {

                    allSlides
                        .eq(allSlides.length - 1 - _.options.slidesToShow)
                        .addClass('slick-center');

                } else if (index === _.slideCount - 1) {

                    allSlides
                        .eq(_.options.slidesToShow)
                        .addClass('slick-center');

                }

            }

            _.$slides
                .eq(index)
                .addClass('slick-center');

        } else {

            if (index >= 0 && index <= (_.slideCount - _.options.slidesToShow)) {

                _.$slides
                    .slice(index, index + _.options.slidesToShow)
                    .addClass('slick-active')
                    .attr('aria-hidden', 'false');

            } else if (allSlides.length <= _.options.slidesToShow) {

                allSlides
                    .addClass('slick-active')
                    .attr('aria-hidden', 'false');

            } else {

                remainder = _.slideCount % _.options.slidesToShow;
                indexOffset = _.options.infinite === true ? _.options.slidesToShow + index : index;

                if (_.options.slidesToShow == _.options.slidesToScroll && (_.slideCount - index) < _.options.slidesToShow) {

                    allSlides
                        .slice(indexOffset - (_.options.slidesToShow - remainder), indexOffset + remainder)
                        .addClass('slick-active')
                        .attr('aria-hidden', 'false');

                } else {

                    allSlides
                        .slice(indexOffset, indexOffset + _.options.slidesToShow)
                        .addClass('slick-active')
                        .attr('aria-hidden', 'false');

                }

            }

        }

        if (_.options.lazyLoad === 'ondemand' || _.options.lazyLoad === 'anticipated') {
            _.lazyLoad();
        }
    };

    Slick.prototype.setupInfinite = function() {

        var _ = this,
            i, slideIndex, infiniteCount;

        if (_.options.fade === true) {
            _.options.centerMode = false;
        }

        if (_.options.infinite === true && _.options.fade === false) {

            slideIndex = null;

            if (_.slideCount > _.options.slidesToShow) {

                if (_.options.centerMode === true) {
                    infiniteCount = _.options.slidesToShow + 1;
                } else {
                    infiniteCount = _.options.slidesToShow;
                }

                for (i = _.slideCount; i > (_.slideCount -
                        infiniteCount); i -= 1) {
                    slideIndex = i - 1;
                    $(_.$slides[slideIndex]).clone(true).attr('id', '')
                        .attr('data-slick-index', slideIndex - _.slideCount)
                        .prependTo(_.$slideTrack).addClass('slick-cloned');
                }
                for (i = 0; i < infiniteCount  + _.slideCount; i += 1) {
                    slideIndex = i;
                    $(_.$slides[slideIndex]).clone(true).attr('id', '')
                        .attr('data-slick-index', slideIndex + _.slideCount)
                        .appendTo(_.$slideTrack).addClass('slick-cloned');
                }
                _.$slideTrack.find('.slick-cloned').find('[id]').each(function() {
                    $(this).attr('id', '');
                });

            }

        }

    };

    Slick.prototype.interrupt = function( toggle ) {

        var _ = this;

        if( !toggle ) {
            _.autoPlay();
        }
        _.interrupted = toggle;

    };

    Slick.prototype.selectHandler = function(event) {

        var _ = this;

        var targetElement =
            $(event.target).is('.slick-slide') ?
                $(event.target) :
                $(event.target).parents('.slick-slide');

        var index = parseInt(targetElement.attr('data-slick-index'));

        if (!index) index = 0;

        if (_.slideCount <= _.options.slidesToShow) {

            _.slideHandler(index, false, true);
            return;

        }

        _.slideHandler(index);

    };

    Slick.prototype.slideHandler = function(index, sync, dontAnimate) {

        var targetSlide, animSlide, oldSlide, slideLeft, targetLeft = null,
            _ = this, navTarget;

        sync = sync || false;

        if (_.animating === true && _.options.waitForAnimate === true) {
            return;
        }

        if (_.options.fade === true && _.currentSlide === index) {
            return;
        }

        if (sync === false) {
            _.asNavFor(index);
        }

        targetSlide = index;
        targetLeft = _.getLeft(targetSlide);
        slideLeft = _.getLeft(_.currentSlide);

        _.currentLeft = _.swipeLeft === null ? slideLeft : _.swipeLeft;

        if (_.options.infinite === false && _.options.centerMode === false && (index < 0 || index > _.getDotCount() * _.options.slidesToScroll)) {
            if (_.options.fade === false) {
                targetSlide = _.currentSlide;
                if (dontAnimate !== true && _.slideCount > _.options.slidesToShow) {
                    _.animateSlide(slideLeft, function() {
                        _.postSlide(targetSlide);
                    });
                } else {
                    _.postSlide(targetSlide);
                }
            }
            return;
        } else if (_.options.infinite === false && _.options.centerMode === true && (index < 0 || index > (_.slideCount - _.options.slidesToScroll))) {
            if (_.options.fade === false) {
                targetSlide = _.currentSlide;
                if (dontAnimate !== true && _.slideCount > _.options.slidesToShow) {
                    _.animateSlide(slideLeft, function() {
                        _.postSlide(targetSlide);
                    });
                } else {
                    _.postSlide(targetSlide);
                }
            }
            return;
        }

        if ( _.options.autoplay ) {
            clearInterval(_.autoPlayTimer);
        }

        if (targetSlide < 0) {
            if (_.slideCount % _.options.slidesToScroll !== 0) {
                animSlide = _.slideCount - (_.slideCount % _.options.slidesToScroll);
            } else {
                animSlide = _.slideCount + targetSlide;
            }
        } else if (targetSlide >= _.slideCount) {
            if (_.slideCount % _.options.slidesToScroll !== 0) {
                animSlide = 0;
            } else {
                animSlide = targetSlide - _.slideCount;
            }
        } else {
            animSlide = targetSlide;
        }

        _.animating = true;

        _.$slider.trigger('beforeChange', [_, _.currentSlide, animSlide]);

        oldSlide = _.currentSlide;
        _.currentSlide = animSlide;

        _.setSlideClasses(_.currentSlide);

        if ( _.options.asNavFor ) {

            navTarget = _.getNavTarget();
            navTarget = navTarget.slick('getSlick');

            if ( navTarget.slideCount <= navTarget.options.slidesToShow ) {
                navTarget.setSlideClasses(_.currentSlide);
            }

        }

        _.updateDots();
        _.updateArrows();

        if (_.options.fade === true) {
            if (dontAnimate !== true) {

                _.fadeSlideOut(oldSlide);

                _.fadeSlide(animSlide, function() {
                    _.postSlide(animSlide);
                });

            } else {
                _.postSlide(animSlide);
            }
            _.animateHeight();
            return;
        }

        if (dontAnimate !== true && _.slideCount > _.options.slidesToShow) {
            _.animateSlide(targetLeft, function() {
                _.postSlide(animSlide);
            });
        } else {
            _.postSlide(animSlide);
        }

    };

    Slick.prototype.startLoad = function() {

        var _ = this;

        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {

            _.$prevArrow.hide();
            _.$nextArrow.hide();

        }

        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {

            _.$dots.hide();

        }

        _.$slider.addClass('slick-loading');

    };

    Slick.prototype.swipeDirection = function() {

        var xDist, yDist, r, swipeAngle, _ = this;

        xDist = _.touchObject.startX - _.touchObject.curX;
        yDist = _.touchObject.startY - _.touchObject.curY;
        r = Math.atan2(yDist, xDist);

        swipeAngle = Math.round(r * 180 / Math.PI);
        if (swipeAngle < 0) {
            swipeAngle = 360 - Math.abs(swipeAngle);
        }

        if ((swipeAngle <= 45) && (swipeAngle >= 0)) {
            return (_.options.rtl === false ? 'left' : 'right');
        }
        if ((swipeAngle <= 360) && (swipeAngle >= 315)) {
            return (_.options.rtl === false ? 'left' : 'right');
        }
        if ((swipeAngle >= 135) && (swipeAngle <= 225)) {
            return (_.options.rtl === false ? 'right' : 'left');
        }
        if (_.options.verticalSwiping === true) {
            if ((swipeAngle >= 35) && (swipeAngle <= 135)) {
                return 'down';
            } else {
                return 'up';
            }
        }

        return 'vertical';

    };

    Slick.prototype.swipeEnd = function(event) {

        var _ = this,
            slideCount,
            direction;

        _.dragging = false;
        _.swiping = false;

        if (_.scrolling) {
            _.scrolling = false;
            return false;
        }

        _.interrupted = false;
        _.shouldClick = ( _.touchObject.swipeLength > 10 ) ? false : true;

        if ( _.touchObject.curX === undefined ) {
            return false;
        }

        if ( _.touchObject.edgeHit === true ) {
            _.$slider.trigger('edge', [_, _.swipeDirection() ]);
        }

        if ( _.touchObject.swipeLength >= _.touchObject.minSwipe ) {

            direction = _.swipeDirection();

            switch ( direction ) {

                case 'left':
                case 'down':

                    slideCount =
                        _.options.swipeToSlide ?
                            _.checkNavigable( _.currentSlide + _.getSlideCount() ) :
                            _.currentSlide + _.getSlideCount();

                    _.currentDirection = 0;

                    break;

                case 'right':
                case 'up':

                    slideCount =
                        _.options.swipeToSlide ?
                            _.checkNavigable( _.currentSlide - _.getSlideCount() ) :
                            _.currentSlide - _.getSlideCount();

                    _.currentDirection = 1;

                    break;

                default:


            }

            if( direction != 'vertical' ) {

                _.slideHandler( slideCount );
                _.touchObject = {};
                _.$slider.trigger('swipe', [_, direction ]);

            }

        } else {

            if ( _.touchObject.startX !== _.touchObject.curX ) {

                _.slideHandler( _.currentSlide );
                _.touchObject = {};

            }

        }

    };

    Slick.prototype.swipeHandler = function(event) {

        var _ = this;

        if ((_.options.swipe === false) || ('ontouchend' in document && _.options.swipe === false)) {
            return;
        } else if (_.options.draggable === false && event.type.indexOf('mouse') !== -1) {
            return;
        }

        _.touchObject.fingerCount = event.originalEvent && event.originalEvent.touches !== undefined ?
            event.originalEvent.touches.length : 1;

        _.touchObject.minSwipe = _.listWidth / _.options
            .touchThreshold;

        if (_.options.verticalSwiping === true) {
            _.touchObject.minSwipe = _.listHeight / _.options
                .touchThreshold;
        }

        switch (event.data.action) {

            case 'start':
                _.swipeStart(event);
                break;

            case 'move':
                _.swipeMove(event);
                break;

            case 'end':
                _.swipeEnd(event);
                break;

        }

    };

    Slick.prototype.swipeMove = function(event) {

        var _ = this,
            edgeWasHit = false,
            curLeft, swipeDirection, swipeLength, positionOffset, touches, verticalSwipeLength;

        touches = event.originalEvent !== undefined ? event.originalEvent.touches : null;

        if (!_.dragging || _.scrolling || touches && touches.length !== 1) {
            return false;
        }

        curLeft = _.getLeft(_.currentSlide);

        _.touchObject.curX = touches !== undefined ? touches[0].pageX : event.clientX;
        _.touchObject.curY = touches !== undefined ? touches[0].pageY : event.clientY;

        _.touchObject.swipeLength = Math.round(Math.sqrt(
            Math.pow(_.touchObject.curX - _.touchObject.startX, 2)));

        verticalSwipeLength = Math.round(Math.sqrt(
            Math.pow(_.touchObject.curY - _.touchObject.startY, 2)));

        if (!_.options.verticalSwiping && !_.swiping && verticalSwipeLength > 4) {
            _.scrolling = true;
            return false;
        }

        if (_.options.verticalSwiping === true) {
            _.touchObject.swipeLength = verticalSwipeLength;
        }

        swipeDirection = _.swipeDirection();

        if (event.originalEvent !== undefined && _.touchObject.swipeLength > 4) {
            _.swiping = true;
            event.preventDefault();
        }

        positionOffset = (_.options.rtl === false ? 1 : -1) * (_.touchObject.curX > _.touchObject.startX ? 1 : -1);
        if (_.options.verticalSwiping === true) {
            positionOffset = _.touchObject.curY > _.touchObject.startY ? 1 : -1;
        }


        swipeLength = _.touchObject.swipeLength;

        _.touchObject.edgeHit = false;

        if (_.options.infinite === false) {
            if ((_.currentSlide === 0 && swipeDirection === 'right') || (_.currentSlide >= _.getDotCount() && swipeDirection === 'left')) {
                swipeLength = _.touchObject.swipeLength * _.options.edgeFriction;
                _.touchObject.edgeHit = true;
            }
        }

        if (_.options.vertical === false) {
            _.swipeLeft = curLeft + swipeLength * positionOffset;
        } else {
            _.swipeLeft = curLeft + (swipeLength * (_.$list.height() / _.listWidth)) * positionOffset;
        }
        if (_.options.verticalSwiping === true) {
            _.swipeLeft = curLeft + swipeLength * positionOffset;
        }

        if (_.options.fade === true || _.options.touchMove === false) {
            return false;
        }

        if (_.animating === true) {
            _.swipeLeft = null;
            return false;
        }

        _.setCSS(_.swipeLeft);

    };

    Slick.prototype.swipeStart = function(event) {

        var _ = this,
            touches;

        _.interrupted = true;

        if (_.touchObject.fingerCount !== 1 || _.slideCount <= _.options.slidesToShow) {
            _.touchObject = {};
            return false;
        }

        if (event.originalEvent !== undefined && event.originalEvent.touches !== undefined) {
            touches = event.originalEvent.touches[0];
        }

        _.touchObject.startX = _.touchObject.curX = touches !== undefined ? touches.pageX : event.clientX;
        _.touchObject.startY = _.touchObject.curY = touches !== undefined ? touches.pageY : event.clientY;

        _.dragging = true;

    };

    Slick.prototype.unfilterSlides = Slick.prototype.slickUnfilter = function() {

        var _ = this;

        if (_.$slidesCache !== null) {

            _.unload();

            _.$slideTrack.children(this.options.slide).detach();

            _.$slidesCache.appendTo(_.$slideTrack);

            _.reinit();

        }

    };

    Slick.prototype.unload = function() {

        var _ = this;

        $('.slick-cloned', _.$slider).remove();

        if (_.$dots) {
            _.$dots.remove();
        }

        if (_.$prevArrow && _.htmlExpr.test(_.options.prevArrow)) {
            _.$prevArrow.remove();
        }

        if (_.$nextArrow && _.htmlExpr.test(_.options.nextArrow)) {
            _.$nextArrow.remove();
        }

        _.$slides
            .removeClass('slick-slide slick-active slick-visible slick-current')
            .attr('aria-hidden', 'true')
            .css('width', '');

    };

    Slick.prototype.unslick = function(fromBreakpoint) {

        var _ = this;
        _.$slider.trigger('unslick', [_, fromBreakpoint]);
        _.destroy();

    };

    Slick.prototype.updateArrows = function() {

        var _ = this,
            centerOffset;

        centerOffset = Math.floor(_.options.slidesToShow / 2);

        if ( _.options.arrows === true &&
            _.slideCount > _.options.slidesToShow &&
            !_.options.infinite ) {

            _.$prevArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');
            _.$nextArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');

            if (_.currentSlide === 0) {

                _.$prevArrow.addClass('slick-disabled').attr('aria-disabled', 'true');
                _.$nextArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');

            } else if (_.currentSlide >= _.slideCount - _.options.slidesToShow && _.options.centerMode === false) {

                _.$nextArrow.addClass('slick-disabled').attr('aria-disabled', 'true');
                _.$prevArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');

            } else if (_.currentSlide >= _.slideCount - 1 && _.options.centerMode === true) {

                _.$nextArrow.addClass('slick-disabled').attr('aria-disabled', 'true');
                _.$prevArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');

            }

        }

    };

    Slick.prototype.updateDots = function() {

        var _ = this;

        if (_.$dots !== null) {

            _.$dots
                .find('li')
                    .removeClass('slick-active')
                    .end();

            _.$dots
                .find('li')
                .eq(Math.floor(_.currentSlide / _.options.slidesToScroll))
                .addClass('slick-active');

        }

    };

    Slick.prototype.visibility = function() {

        var _ = this;

        if ( _.options.autoplay ) {

            if ( document[_.hidden] ) {

                _.interrupted = true;

            } else {

                _.interrupted = false;

            }

        }

    };

    $.fn.slick = function() {
        var _ = this,
            opt = arguments[0],
            args = Array.prototype.slice.call(arguments, 1),
            l = _.length,
            i,
            ret;
        for (i = 0; i < l; i++) {
            if (typeof opt == 'object' || typeof opt == 'undefined')
                _[i].slick = new Slick(_[i], opt);
            else
                ret = _[i].slick[opt].apply(_[i].slick, args);
            if (typeof ret != 'undefined') return ret;
        }
        return _;
    };

}));

(function(window, factory) {
	var lazySizes = factory(window, window.document);
	window.lazySizes = lazySizes;
	if(typeof module == 'object' && module.exports){
		module.exports = lazySizes;
	}
}(typeof window != 'undefined' ?
      window : {}, function l(window, document) {
	'use strict';
	/*jshint eqnull:true */

	var lazysizes, lazySizesCfg;
	(function(){
		var prop;

		var lazySizesDefaults = {
			lazyClass: 'lazyload',
			loadedClass: 'lazyloaded',
			loadingClass: 'lazyloading',
			preloadClass: 'lazypreload',
			errorClass: 'lazyerror',
			//strictClass: 'lazystrict',
			autosizesClass: 'lazyautosizes',
			srcAttr: 'data-src',
			srcsetAttr: 'data-srcset',
			sizesAttr: 'data-sizes',
			//preloadAfterLoad: false,
			laptopdisabled : false,
			minSize: 40,
			customMedia: {},
			init: true,
			expFactor: 1.5,
			hFac: 0.8,
			loadMode: 2,
			loadHidden: true,
			ricTimeout: 0,
			throttleDelay: 125,
		};

		lazySizesCfg = window.lazySizesConfig || window.lazysizesConfig || {};

		for(prop in lazySizesDefaults){
			if(!(prop in lazySizesCfg)){
				lazySizesCfg[prop] = lazySizesDefaults[prop];
			}
		}
	})();

	if (!document || !document.getElementsByClassName) {
		return {
			init: function () {},
			cfg: lazySizesCfg,
			noSupport: true,
		};
	}

	var docElem = document.documentElement;

	var Date = window.Date;

	var supportPicture = window.HTMLPictureElement;

	var _addEventListener = 'addEventListener';

	var _getAttribute = 'getAttribute';

	var addEventListener = window[_addEventListener];

	var setTimeout = window.setTimeout;

	var requestAnimationFrame = window.requestAnimationFrame || setTimeout;

	var requestIdleCallback = window.requestIdleCallback;

	var regPicture = /^picture$/i;

	var loadEvents = ['load', 'error', 'lazyincluded', '_lazyloaded'];

	var regClassCache = {};

	var forEach = Array.prototype.forEach;
	
	var screenSize = $(window).width(),
	  pixelSize = window.devicePixelRatio,
	  largeDesktopBreakpoint = NVIDIAGDC.largeDesktopBreakpoint,
	  desktopBreakpoint = NVIDIAGDC.desktopBreakpoint,
	  tabletBreakpoint = NVIDIAGDC.tabletBreakpoint;

	var hasClass = function(ele, cls) {
		if(!regClassCache[cls]){
			regClassCache[cls] = new RegExp('(\\s|^)'+cls+'(\\s|$)');
		}
		return regClassCache[cls].test(ele[_getAttribute]('class') || '') && regClassCache[cls];
	};

	var addClass = function(ele, cls) {
		if (!hasClass(ele, cls)){
			ele.setAttribute('class', (ele[_getAttribute]('class') || '').trim() + ' ' + cls);
		}
	};

	var removeClass = function(ele, cls) {
		var reg;
		if ((reg = hasClass(ele,cls))) {
			ele.setAttribute('class', (ele[_getAttribute]('class') || '').replace(reg, ' '));
		}
	};

	var addRemoveLoadEvents = function(dom, fn, add){
		var action = add ? _addEventListener : 'removeEventListener';
		if(add){
			addRemoveLoadEvents(dom, fn);
		}
		loadEvents.forEach(function(evt){
			dom[action](evt, fn);
		});
	};
	
	var getImagesrc= function (source) {
		/*Retina Support*/
		  if(pixelSize >= 1.5) {
			  if (screenSize < tabletBreakpoint) {
				  
				 return  source[_getAttribute]('data-src-mobile-retina');
				  
		    } else if (screenSize >= tabletBreakpoint && screenSize < desktopBreakpoint) {	
		    	
		    	return  source[_getAttribute]('data-src-tablet-retina');
		    	  
		    } else if (screenSize >= desktopBreakpoint && screenSize < largeDesktopBreakpoint && !lazySizesCfg.laptopdisabled ) {
		    	
		    	return  source[_getAttribute]('data-src-laptop-retina');
		    
		    } else {
		    	
		    	return  source[_getAttribute]('data-src-desktop-retina');

		    }
		  }
		  else {
			  if (screenSize < tabletBreakpoint) {
				  return  source[_getAttribute]('data-src-mobile');
				  
		    } else if (screenSize >= tabletBreakpoint && screenSize < desktopBreakpoint) {
		    	return  source[_getAttribute]('data-src-tablet');
		    	    	
		    } else if (screenSize >= desktopBreakpoint && screenSize < largeDesktopBreakpoint && !lazySizesCfg.laptopdisabled ) {
		    	return  source[_getAttribute]('data-src-laptop');
		    	
		    }else {
		    	return  source[_getAttribute]('data-src-desktop');
		    	
		    }
		  }
		  
		
	}

	var triggerEvent = function(elem, name, detail, noBubbles, noCancelable){
		var event = document.createEvent('Event');

		if(!detail){
			detail = {};
		}

		detail.instance = lazysizes;

		event.initEvent(name, !noBubbles, !noCancelable);

		event.detail = detail;

		elem.dispatchEvent(event);
		return event;
	};

	var updatePolyfill = function (el, full){
		var polyfill;
		if( !supportPicture && ( polyfill = (window.picturefill || lazySizesCfg.pf) ) ){
			if(full && full.src && !el[_getAttribute]('srcset')){
				el.setAttribute('srcset', full.src);
			}
			polyfill({reevaluate: true, elements: [el]});
		} else if(full && full.src){
			el.src = full.src;
		}
	};

	var getCSS = function (elem, style){
		return (getComputedStyle(elem, null) || {})[style];
	};

	var getWidth = function(elem, parent, width){
		width = width || elem.offsetWidth;

		while(width < lazySizesCfg.minSize && parent && !elem._lazysizesWidth){
			width =  parent.offsetWidth;
			parent = parent.parentNode;
		}

		return width;
	};

	var rAF = (function(){
		var running, waiting;
		var firstFns = [];
		var secondFns = [];
		var fns = firstFns;

		var run = function(){
			var runFns = fns;

			fns = firstFns.length ? secondFns : firstFns;

			running = true;
			waiting = false;

			while(runFns.length){
				runFns.shift()();
			}

			running = false;
		};

		var rafBatch = function(fn, queue){
			if(running && !queue){
				fn.apply(this, arguments);
			} else {
				fns.push(fn);

				if(!waiting){
					waiting = true;
					(document.hidden ? setTimeout : requestAnimationFrame)(run);
				}
			}
		};

		rafBatch._lsFlush = run;

		return rafBatch;
	})();

	var rAFIt = function(fn, simple){
		return simple ?
			function() {
				rAF(fn);
			} :
			function(){
				var that = this;
				var args = arguments;
				rAF(function(){
					fn.apply(that, args);
				});
			}
		;
	};

	var throttle = function(fn){
		var running;
		var lastTime = 0;
		var gDelay = lazySizesCfg.throttleDelay;
		var rICTimeout = lazySizesCfg.ricTimeout;
		var run = function(){
			running = false;
			lastTime = Date.now();
			fn();
		};
		var idleCallback = requestIdleCallback && rICTimeout > 49 ?
			function(){
				requestIdleCallback(run, {timeout: rICTimeout});

				if(rICTimeout !== lazySizesCfg.ricTimeout){
					rICTimeout = lazySizesCfg.ricTimeout;
				}
			} :
			rAFIt(function(){
				setTimeout(run);
			}, true)
		;

		return function(isPriority){
			var delay;

			if((isPriority = isPriority === true)){
				rICTimeout = 33;
			}

			if(running){
				return;
			}

			running =  true;

			delay = gDelay - (Date.now() - lastTime);

			if(delay < 0){
				delay = 0;
			}

			if(isPriority || delay < 9){
				idleCallback();
			} else {
				setTimeout(idleCallback, delay);
			}
		};
	};

	//based on http://modernjavascript.blogspot.de/2013/08/building-better-debounce.html
	var debounce = function(func) {
		var timeout, timestamp;
		var wait = 99;
		var run = function(){
			timeout = null;
			func();
		};
		var later = function() {
			var last = Date.now() - timestamp;

			if (last < wait) {
				setTimeout(later, wait - last);
			} else {
				(requestIdleCallback || run)(run);
			}
		};

		return function() {
			timestamp = Date.now();

			if (!timeout) {
				timeout = setTimeout(later, wait);
			}
		};
	};

	var loader = (function(){
		var preloadElems, isCompleted, resetPreloadingTimer, loadMode, started;

		var eLvW, elvH, eLtop, eLleft, eLright, eLbottom, isBodyHidden;

		var regImg = /^img$/i;
		var regIframe = /^iframe$/i;

		var supportScroll = ('onscroll' in window) && !(/(gle|ing)bot/.test(navigator.userAgent));

		var shrinkExpand = 0;
		var currentExpand = 0;

		var isLoading = 0;
		var lowRuns = -1;

		var resetPreloading = function(e){
			isLoading--;
			if(!e || isLoading < 0 || !e.target){
				isLoading = 0;
			}
		};

		var isVisible = function (elem) {
			if (isBodyHidden == null) {
				isBodyHidden = getCSS(document.body, 'visibility') == 'hidden';
			}

			return isBodyHidden || (getCSS(elem.parentNode, 'visibility') != 'hidden' && getCSS(elem, 'visibility') != 'hidden');
		};

		var isNestedVisible = function(elem, elemExpand){
			var outerRect;
			var parent = elem;
			var visible = isVisible(elem);

			eLtop -= elemExpand;
			eLbottom += elemExpand;
			eLleft -= elemExpand;
			eLright += elemExpand;

			while(visible && (parent = parent.offsetParent) && parent != document.body && parent != docElem){
				visible = ((getCSS(parent, 'opacity') || 1) > 0);

				if(visible && getCSS(parent, 'overflow') != 'visible'){
					outerRect = parent.getBoundingClientRect();
					visible = eLright > outerRect.left &&
						eLleft < outerRect.right &&
						eLbottom > outerRect.top - 1 &&
						eLtop < outerRect.bottom + 1
					;
				}
			}

			return visible;
		};

		var checkElements = function() {
			var eLlen, i, rect, autoLoadElem, loadedSomething, elemExpand, elemNegativeExpand, elemExpandVal,
				beforeExpandVal, defaultExpand, preloadExpand, hFac;
			var lazyloadElems = lazysizes.elements;

			if((loadMode = lazySizesCfg.loadMode) && isLoading < 8 && (eLlen = lazyloadElems.length)){

				i = 0;

				lowRuns++;

				for(; i < eLlen; i++){

					if(!lazyloadElems[i] || lazyloadElems[i]._lazyRace){continue;}

					if(!supportScroll || (lazysizes.prematureUnveil && lazysizes.prematureUnveil(lazyloadElems[i]))){unveilElement(lazyloadElems[i]);continue;}

					if(!(elemExpandVal = lazyloadElems[i][_getAttribute]('data-expand')) || !(elemExpand = elemExpandVal * 1)){
						elemExpand = currentExpand;
					}

					if (!defaultExpand) {
						defaultExpand = (!lazySizesCfg.expand || lazySizesCfg.expand < 1) ?
							docElem.clientHeight > 500 && docElem.clientWidth > 500 ? 500 : 370 :
							lazySizesCfg.expand;
							/*replacing this for now*/
							/*TODO: make this thru configuration and remove this line*/
							defaultExpand=200;
						lazysizes._defEx = defaultExpand;

						preloadExpand = defaultExpand * lazySizesCfg.expFactor;
						hFac = lazySizesCfg.hFac;
						isBodyHidden = null;

						if(currentExpand < preloadExpand && isLoading < 1 && lowRuns > 2 && loadMode > 2 && !document.hidden){
							currentExpand = preloadExpand;
							lowRuns = 0;
						} else if(loadMode > 1 && lowRuns > 1 && isLoading < 6){
							currentExpand = defaultExpand;
						} else {
							currentExpand = shrinkExpand;
						}
					}

					if(beforeExpandVal !== elemExpand){
						eLvW = innerWidth + (elemExpand * hFac);
						elvH = innerHeight + elemExpand;
						elemNegativeExpand = elemExpand * -1;
						beforeExpandVal = elemExpand;
					}

					rect = lazyloadElems[i].getBoundingClientRect();

					if ((eLbottom = rect.bottom) >= elemNegativeExpand &&
						(eLtop = rect.top) <= elvH &&
						(eLright = rect.right) >= elemNegativeExpand * hFac &&
						(eLleft = rect.left) <= eLvW &&
						(eLbottom || eLright || eLleft || eLtop) &&
						(lazySizesCfg.loadHidden || isVisible(lazyloadElems[i])) &&
						((isCompleted && isLoading < 3 && !elemExpandVal && (loadMode < 3 || lowRuns < 4)) || isNestedVisible(lazyloadElems[i], elemExpand))){
						unveilElement(lazyloadElems[i]);
						loadedSomething = true;
						if(isLoading > 9){break;}
					} else if(!loadedSomething && isCompleted && !autoLoadElem &&
						isLoading < 4 && lowRuns < 4 && loadMode > 2 &&
						(preloadElems[0] || lazySizesCfg.preloadAfterLoad) &&
						(preloadElems[0] || (!elemExpandVal && ((eLbottom || eLright || eLleft || eLtop) || lazyloadElems[i][_getAttribute](lazySizesCfg.sizesAttr) != 'auto')))){
						autoLoadElem = preloadElems[0] || lazyloadElems[i];
					}
				}

				if(autoLoadElem && !loadedSomething){
					unveilElement(autoLoadElem);
				}
			}
		};

		var throttledCheckElements = throttle(checkElements);

		var switchLoadingClass = function(e){
			var elem = e.target;

			if (elem._lazyCache) {
				delete elem._lazyCache;
				return;
			}

			resetPreloading(e);
			addClass(elem, lazySizesCfg.loadedClass);
			removeClass(elem, lazySizesCfg.loadingClass);
			addRemoveLoadEvents(elem, rafSwitchLoadingClass);
			triggerEvent(elem, 'lazyloaded');
		};
		var rafedSwitchLoadingClass = rAFIt(switchLoadingClass);
		var rafSwitchLoadingClass = function(e){
			rafedSwitchLoadingClass({target: e.target});
		};

		var changeIframeSrc = function(elem, src){
			try {
				elem.contentWindow.location.replace(src);
			} catch(e){
				elem.src = src;
			}
		};

		var handleSources = function(source){
			var customMedia;

			var sourceSrcset = source[_getAttribute](lazySizesCfg.srcsetAttr);

			if( (customMedia = lazySizesCfg.customMedia[source[_getAttribute]('data-media') || source[_getAttribute]('media')]) ){
				source.setAttribute('media', customMedia);
			}

			if(sourceSrcset){
				source.setAttribute('srcset', sourceSrcset);
			}
		};

		var lazyUnveil = rAFIt(function (elem, detail, isAuto, sizes, isImg){
			var src, srcset, parent, isPicture, event, firesLoad;

			if(!(event = triggerEvent(elem, 'lazybeforeunveil', detail)).defaultPrevented){

				if(sizes){
					if(isAuto){
						addClass(elem, lazySizesCfg.autosizesClass);
					} else {
						elem.setAttribute('sizes', sizes);
					}
				}

				srcset = elem[_getAttribute](lazySizesCfg.srcsetAttr);
				src = getImagesrc(elem);
				

				if(isImg) {
					parent = elem.parentNode;
					isPicture = parent && regPicture.test(parent.nodeName || '');
				}

				firesLoad = detail.firesLoad || (('src' in elem) && (srcset || src || isPicture));

				event = {target: elem};

				addClass(elem, lazySizesCfg.loadingClass);

				if(firesLoad){
					clearTimeout(resetPreloadingTimer);
					resetPreloadingTimer = setTimeout(resetPreloading, 2500);
					addRemoveLoadEvents(elem, rafSwitchLoadingClass, true);
				}

				if(isPicture){
					forEach.call(parent.getElementsByTagName('source'), handleSources);
				}

				if(srcset){
					elem.setAttribute('srcset', srcset);
				} else if(src && !isPicture){
					if(regIframe.test(elem.nodeName)){
						changeIframeSrc(elem, src);
					} else {
						elem.src = src;
					}
				}

				if(isImg && (srcset || isPicture)){
					updatePolyfill(elem, {src: src});
				}
			}

			if(elem._lazyRace){
				delete elem._lazyRace;
			}
			removeClass(elem, lazySizesCfg.lazyClass);

			rAF(function(){
				// Part of this can be removed as soon as this fix is older: https://bugs.chromium.org/p/chromium/issues/detail?id=7731 (2015)
				var isLoaded = elem.complete && elem.naturalWidth > 1;

				if( !firesLoad || isLoaded){
					if (isLoaded) {
						addClass(elem, 'ls-is-cached');
					}
					switchLoadingClass(event);
					elem._lazyCache = true;
					setTimeout(function(){
						if ('_lazyCache' in elem) {
							delete elem._lazyCache;
						}
					}, 9);
				}
				if (elem.loading == 'lazy') {
					isLoading--;
				}
			}, true);
		});

		var unveilElement = function (elem){
			if (elem._lazyRace) {return;}
			var detail;

			var isImg = regImg.test(elem.nodeName);

			//allow using sizes="auto", but don't use. it's invalid. Use data-sizes="auto" or a valid value for sizes instead (i.e.: sizes="80vw")
			var sizes = isImg && (elem[_getAttribute](lazySizesCfg.sizesAttr) || elem[_getAttribute]('sizes'));
			var isAuto = sizes == 'auto';

			if( (isAuto || !isCompleted) && isImg && (elem[_getAttribute]('src') || elem.srcset) && !elem.complete && !hasClass(elem, lazySizesCfg.errorClass) && hasClass(elem, lazySizesCfg.lazyClass)){return;}

			detail = triggerEvent(elem, 'lazyunveilread').detail;

			if(isAuto){
				 autoSizer.updateElem(elem, true, elem.offsetWidth);
			}

			elem._lazyRace = true;
			isLoading++;

			lazyUnveil(elem, detail, isAuto, sizes, isImg);
		};

		var afterScroll = debounce(function(){
			lazySizesCfg.loadMode = 3;
			throttledCheckElements();
		});

		var altLoadmodeScrollListner = function(){
			if(lazySizesCfg.loadMode == 3){
				lazySizesCfg.loadMode = 2;
			}
			afterScroll();
		};

		var onload = function(){
			if(isCompleted){return;}
			if(Date.now() - started < 999){
				setTimeout(onload, 999);
				return;
			}


			isCompleted = true;

			lazySizesCfg.loadMode = 3;

			throttledCheckElements();

			addEventListener('scroll', altLoadmodeScrollListner, true);
		};

		return {
			_: function(){
				started = Date.now();

				lazysizes.elements = document.getElementsByClassName(lazySizesCfg.lazyClass);
				preloadElems = document.getElementsByClassName(lazySizesCfg.lazyClass + ' ' + lazySizesCfg.preloadClass);

				addEventListener('scroll', throttledCheckElements, true);

				addEventListener('resize', throttledCheckElements, true);

				if(window.MutationObserver){
					new MutationObserver( throttledCheckElements ).observe( docElem, {childList: true, subtree: true, attributes: true} );
				} else {
					docElem[_addEventListener]('DOMNodeInserted', throttledCheckElements, true);
					docElem[_addEventListener]('DOMAttrModified', throttledCheckElements, true);
					setInterval(throttledCheckElements, 999);
				}

				addEventListener('hashchange', throttledCheckElements, true);

				//, 'fullscreenchange'
				['focus', 'mouseover', 'click', 'load', 'transitionend', 'animationend'].forEach(function(name){
					document[_addEventListener](name, throttledCheckElements, true);
				});

				if((/d$|^c/.test(document.readyState))){
					onload();
				} else {
					addEventListener('load', onload);
					document[_addEventListener]('DOMContentLoaded', throttledCheckElements);
					setTimeout(onload, 20000);
				}

				if(lazysizes.elements.length){
					checkElements();
					rAF._lsFlush();
				} else {
					throttledCheckElements();
				}
			},
			checkElems: throttledCheckElements,
			unveil: unveilElement,
			_aLSL: altLoadmodeScrollListner,
		};
	})();


	var autoSizer = (function(){
		var autosizesElems;

		var sizeElement = rAFIt(function(elem, parent, event, width){
			var sources, i, len;
			elem._lazysizesWidth = width;
			width += 'px';

			elem.setAttribute('sizes', width);

			if(regPicture.test(parent.nodeName || '')){
				sources = parent.getElementsByTagName('source');
				for(i = 0, len = sources.length; i < len; i++){
					sources[i].setAttribute('sizes', width);
				}
			}

			if(!event.detail.dataAttr){
				updatePolyfill(elem, event.detail);
			}
		});
		var getSizeElement = function (elem, dataAttr, width){
			var event;
			var parent = elem.parentNode;

			if(parent){
				width = getWidth(elem, parent, width);
				event = triggerEvent(elem, 'lazybeforesizes', {width: width, dataAttr: !!dataAttr});

				if(!event.defaultPrevented){
					width = event.detail.width;

					if(width && width !== elem._lazysizesWidth){
						sizeElement(elem, parent, event, width);
					}
				}
			}
		};

		var updateElementsSizes = function(){
			var i;
			var len = autosizesElems.length;
			if(len){
				i = 0;

				for(; i < len; i++){
					getSizeElement(autosizesElems[i]);
				}
			}
		};

		var debouncedUpdateElementsSizes = debounce(updateElementsSizes);

		return {
			_: function(){
				autosizesElems = document.getElementsByClassName(lazySizesCfg.autosizesClass);
				addEventListener('resize', debouncedUpdateElementsSizes);
			},
			checkElems: debouncedUpdateElementsSizes,
			updateElem: getSizeElement
		};
	})();

	var init = function(){
		if(!init.i && document.getElementsByClassName){
			init.i = true;
			autoSizer._();
			loader._();
		}
	};

	setTimeout(function(){
		if(lazySizesCfg.init){
			init();
		}
	});

	lazysizes = {
		cfg: lazySizesCfg,
		autoSizer: autoSizer,
		loader: loader,
		init: init,
		uP: updatePolyfill,
		aC: addClass,
		rC: removeClass,
		hC: hasClass,
		fire: triggerEvent,
		gW: getWidth,
		rAF: rAF,
	};

	return lazysizes;
}
));
/*
This plugin extends lazySizes to lazyLoad:
background images, videos/posters and scripts

Background-Image:
For background images, use data-bg attribute:
<div class="lazyload" data-bg="bg-img.jpg"></div>

 Video:
 For video/audio use data-poster and preload="none":
 <video class="lazyload" data-poster="poster.jpg" preload="none">
 <!-- sources -->
 </video>

 Scripts:
 For scripts use data-script:
 <div class="lazyload" data-script="module-name.js"></div>


 Script modules using require:
 For modules using require use data-require:
 <div class="lazyload" data-require="module-name"></div>
*/

(function(window, factory) {
	var globalInstall = function(){
		factory(window.lazySizes);
		window.removeEventListener('lazyunveilread', globalInstall, true);
	};

	factory = factory.bind(null, window, window.document);

	if(typeof module == 'object' && module.exports){
		factory(require('lazysizes'));
	} else if(window.lazySizes) {
		globalInstall();
	} else {
		window.addEventListener('lazyunveilread', globalInstall, true);
	}
}(window, function(window, document, lazySizes) {
	/*jshint eqnull:true */
	'use strict';
	var bgLoad, regBgUrlEscape;
	var uniqueUrls = {};
	var screenSize = $(window).width(),
	  pixelSize = window.devicePixelRatio,
	  largeDesktopBreakpoint = NVIDIAGDC.largeDesktopBreakpoint,
	  desktopBreakpoint = NVIDIAGDC.desktopBreakpoint,
	  tabletBreakpoint = NVIDIAGDC.tabletBreakpoint;

	if(document.addEventListener){
		regBgUrlEscape = /\(|\)|\s|'/;

		bgLoad = function (url, cb){
			var img = document.createElement('img');
			img.onload = function(){
				img.onload = null;
				img.onerror = null;
				img = null;
				cb();
			};
			img.onerror = img.onload;

			img.src = url;

			if(img && img.complete && img.onload){
				img.onload();
			}
		};

		addEventListener('lazybeforeunveil', function(e){
			if(e.detail.instance != lazySizes){return;}

			var tmp, load, bg, poster,videocontainer;
			if(!e.defaultPrevented) {

				if(e.target.preload == 'none'){
					e.target.preload = 'auto';
				}

				tmp = e.target.getAttribute('data-link');
				if(tmp){
					addStyleScript(tmp, true);
				}

				// handle data-script
				tmp = e.target.getAttribute('data-script');
				if(tmp){
					addStyleScript(tmp);
				}

				// handle data-require
				tmp = e.target.getAttribute('data-require');
				if(tmp){
					if(lazySizes.cfg.requireJs){
						lazySizes.cfg.requireJs([tmp]);
					} else {
						addStyleScript(tmp);
					}
				}

				// handle data-bg
				bg = e.target.getAttribute('data-bg');
				
				if (screenSize < tabletBreakpoint){
					bg=e.target.getAttribute('data-bcgImageMobile');			
				} else if (screenSize >= tabletBreakpoint && screenSize < desktopBreakpoint){
					bg=e.target.getAttribute('data-bcgImageTablet');			
				} else if ( ((screenSize >= desktopBreakpoint) && (screenSize < largeDesktopBreakpoint)) && !lazySizes.cfg.laptopdisabled ) {	
	                
					bg=e.target.getAttribute('data-bcgImageLaptop');			    	
			    } else {
			    	bg=e.target.getAttribute('data-bcgImagePC');	
				}
				
				
				if (bg) {
					e.detail.firesLoad = true;
					load = function(){
						e.target.style.backgroundImage = 'url(' + (regBgUrlEscape.test(bg) ? JSON.stringify(bg) : bg ) + ')';
						e.detail.firesLoad = false;
						lazySizes.fire(e.target, '_lazyloaded', {}, true, true);
					};

					bgLoad(bg, load);
				}

				// handle data-poster
				poster = e.target.getAttribute('data-poster');
				videocontainer=$(e.target).hasClass('hero-vid');
				if((poster || videocontainer)&& screenSize >= tabletBreakpoint){
					if(!poster){
						poster="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4wLWMwNjAgNjEuMTM0Nzc3LCAyMDEwLzAyLzEyLTE3OjMyOjAwICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Njg1MzE2OTNFNzREMTFERkI3NEJBNDRGNDk5NUNCRTYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Njg1MzE2OTRFNzREMTFERkI3NEJBNDRGNDk5NUNCRTYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2ODUzMTY5MUU3NEQxMURGQjc0QkE0NEY0OTk1Q0JFNiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo2ODUzMTY5MkU3NEQxMURGQjc0QkE0NEY0OTk1Q0JFNiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";
					}
					e.detail.firesLoad = true;
					load = function() {
						e.target.poster = poster;
						e.detail.firesLoad = false;
						/*logic to lazyload videos*/
						for (var source in e.target.children) {
				            var videoSource = e.target.children[source];
				            if (typeof videoSource.tagName === "string" && videoSource.tagName === "SOURCE") {
				              videoSource.src = videoSource.dataset.src;
				            }
				          }
						/*reload and play video*/
						 e.target.load();
						 e.target.play();
							
						/*end of logic*/
						lazySizes.fire(e.target, '_lazyloaded', {}, true, true);
					};

					bgLoad(poster, load);

				}
				
			}
		}, false);

	}

	function addStyleScript(src, style){
		if(uniqueUrls[src]){
			return;
		}
		var elem = document.createElement(style ? 'link' : 'script');
		var insertElem = document.getElementsByTagName('script')[0];

		if(style){
			elem.rel = 'stylesheet';
			elem.href = src;
		} else {
			elem.src = src;
		}
		uniqueUrls[src] = true;
		uniqueUrls[elem.src || elem.href] = true;
		insertElem.parentNode.insertBefore(elem, insertElem);
	}
}));
function debugLine(e,t,i){if(e===true)e="true";if(e===false)e="false";var r=e;if(typeof e=="object"){r="";for(name in e){var n=e[name];r+=" "+name+": "+n}}if(t==true&&!i)r+=" "+Math.random();if(i==true){var a=jQuery("#debug_line");a.width(200);if(a.height()>=500)a.html("");var s=a.html();r=s+"<br> -------------- <br>"+r}jQuery("#debug_line").show().html(r)}function debugSide(e){var t="";for(name in e){var i=e[name];t+=name+" : "+i+"<br>"}jQuery("#debug_side").show().html(t)}function trace(e){if(typeof console!="undefined")console.log(e)}function UGFunctions(){var n=null;var S=this;var s={starTime:0,arrThemes:[],isTouchDevice:-1,isRgbaSupported:-1,timeCache:{},dataCache:{},lastEventType:"",lastEventTime:0,lastTouchStartElement:null,touchThreshold:700,handle:null};this.debugVar="";this.z__________FULL_SCREEN___________=function(){};this.toFullscreen=function(e,t){if(e.requestFullscreen){e.requestFullscreen()}else if(e.mozRequestFullScreen){e.mozRequestFullScreen()}else if(e.webkitRequestFullscreen){e.webkitRequestFullscreen()}else if(e.msRequestFullscreen){e.msRequestFullscreen()}else{return false}return true};this.exitFullscreen=function(){if(S.isFullScreen()==false)return false;if(document.exitFullscreen){document.exitFullscreen()}else if(document.cancelFullScreen){document.cancelFullScreen()}else if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else if(document.webkitExitFullscreen){document.webkitExitFullscreen()}else if(document.msExitFullscreen){document.msExitFullscreen()}else{return false}return true};function t(e,t,i){if(t.addEventListener)t.addEventListener(e,i,false);else if(t.attachEvent){t.attachEvent("on"+e,i)}else{t[e]=i}}this.addFullScreenChangeEvent=function(e){if(document["webkitCancelFullScreen"])t("webkitfullscreenchange",document,e);else if(document["msExitFullscreen"])t("MSFullscreenChange",document,e);else if(document["mozCancelFullScreen"])t("mozfullscreenchange",document,e);else t("fullscreenchange",document,e)};this.destroyFullScreenChangeEvent=function(){jQuery(document).unbind("fullscreenChange");jQuery(document).unbind("mozfullscreenchange");jQuery(document).unbind("webkitfullscreenchange");jQuery(document).unbind("MSFullscreenChange")};this.getFullScreenElement=function(){var e=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;return e};this.isFullScreen=function(){var e=document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement;if(!e)e=false;else e=true;return e};this.z__________GET_PROPS___________=function(){};this.getBrowserPrefix=function(){if(n!==null)return n;var e=["webkit","Moz","ms","O"];var t=document.createElement("div");for(var i in e){var r=e[i];if(r+"Transform"in t.style){r=r.toLowerCase();n=r;return r}}n="";return""};this.getImageInsideParentDataByImage=function(e,t,i){var r=e.parent();var n=S.getImageOriginalSize(e);var a=S.getImageInsideParentData(r,n.width,n.height,t,i);return a};this.getImageInsideParentData=function(e,t,i,r,n,a,s){if(!n)var n={};var o={};if(typeof a==="undefined")var a=e.width();if(typeof s==="undefined")var s=e.height();if(n.padding_left)a-=n.padding_left;if(n.padding_right)a-=n.padding_right;if(n.padding_top)s-=n.padding_top;if(n.padding_bottom)s-=n.padding_bottom;var l=null;var u="100%";var d=null;var f=null;var _="display:block;margin:0px auto;";if(t>0&&i>0){if(r=="down"&&t<a&&i<s){u=i;l=t;f=(a-l)/2;d=(s-u)/2}else if(r=="fill"){var g=t/i;u=s;l=u*g;if(l<a){l=a;u=l/g;f=0;d=Math.round((u-s)/2*-1)}else{d=0;f=Math.round((l-a)/2*-1)}}else{var g=t/i;u=s;l=u*g;d=0;f=(a-l)/2;if(r!="fitvert"&&l>a){l=a;u=l/g;f=0;d=(s-u)/2}}l=Math.floor(l);u=Math.floor(u);d=Math.floor(d);f=Math.floor(f);_="position:absolute;"}if(n.padding_top)d+=n.padding_top;if(n.padding_left)f+=n.padding_left;o.imageWidth=l;o.imageHeight=u;o.imageTop=d;o.imageLeft=f;o.imageRight=f+l;if(d==0||u=="100%")o.imageBottom=null;else o.imageBottom=d+u;o.style=_;return o};this.getElementCenterPosition=function(e,t){var i=e.parent();var r=S.getElementSize(e);var n=S.getElementSize(i);var a=n.width;var s=n.height;if(t&&t.padding_top!==undefined)s-=t.padding_top;if(t&&t.padding_bottom!==undefined)s-=t.padding_bottom;if(t&&t.padding_left!==undefined)a-=t.padding_left;if(t&&t.padding_right!==undefined)a-=t.padding_right;var o={};o.left=Math.round((a-r.width)/2);o.top=Math.round((s-r.height)/2);if(t&&t.padding_top!==undefined)o.top+=t.padding_top;if(t&&t.padding_left!==undefined)o.left+=t.padding_left;return o};this.getElementCenterPoint=function(e,t){if(!t)var t=false;var i=S.getElementSize(e);var r={};r.x=i.width/2;r.y=i.height/2;if(t==true){r.x+=i.left;r.y+=i.top}r.x=Math.round(r.x);r.y=Math.round(r.y);return r};this.getMousePosition=function(e,t){var i={pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY};if(e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length>0){i.pageX=e.originalEvent.touches[0].pageX;i.pageY=e.originalEvent.touches[0].pageY;i.clientX=e.originalEvent.touches[0].clientX;i.clientY=e.originalEvent.touches[0].clientY}if(t){var r=t.offset();i.mouseX=i.pageX-r.left;i.mouseY=i.pageY-r.top}return i};this.getMouseElementPoint=function(e,t){var i={x:e.pageX,y:e.pageY};var r=S.getElementLocalPoint(i,t);return r};this.getElementLocalPoint=function(e,t){var i={};var r=t.offset();i.x=Math.round(e.x-r.left);i.y=Math.round(e.y-r.top);return i};this.getImageOriginalSize=function(e,t,i){if(typeof t!="undefined"&&typeof i!="undefined")return{width:t,height:i};var r=e[0];if(typeof r=="undefined")throw new Error("getImageOriginalSize error - Image not found");var n={};if(typeof r.naturalWidth=="undefined"){if(typeof e.data("naturalWidth")=="number"){var n={};n.width=e.data("naturalWidth");n.height=e.data("naturalHeight");return n}var a=new Image;a.src=r.src;if(a.complete){n.width=a.width;n.height=a.height;e.data("naturalWidth",n.width);e.data("naturalHeight",n.height);return n}return{width:0,height:0}}else{n.width=r.naturalWidth;n.height=r.naturalHeight;return n}};this.getimageRatio=function(e){var t=S.getImageOriginalSize(e);var i=S.getElementSize(e);var r=i.width/t.width;return r};this.isImageFitParent=function(e){var t=e.parent();var i=S.getElementSize(e);var r=S.getElementSize(t);if(i.width<=r.width&&i.height<=r.height)return true;return false};this.getElementSize=function(e){if(e===undefined){throw new Error("Can't get size, empty element")}var t=e.position();t.height=e.outerHeight();t.width=e.outerWidth();t.left=Math.round(t.left);t.top=Math.round(t.top);t.right=t.left+t.width;t.bottom=t.top+t.height;return t};this.isElementBiggerThenParent=function(e){var t=e.parent();var i=S.getElementSize(e);var r=S.getElementSize(t);if(i.width>r.width||i.height>r.height)return true;return false};this.isPointInsideElement=function(e,t){var i=e.x>=0&&e.x<t.width;if(i==false)return false;var r=e.y>=0&&e.y<t.height;if(r==false)return false;return true};this.getElementRelativePos=function(e,t,i,r){if(!r)var r=e.parent();if(typeof e=="number"){var n={width:e,height:e}}else var n=S.getElementSize(e);var a=S.getElementSize(r);switch(t){case"top":case"left":t=0;if(i)t+=i;break;case"center":t=Math.round((a.width-n.width)/2);if(i)t+=i;break;case"right":t=a.width-n.width;if(i)t-=i;break;case"middle":t=Math.round((a.height-n.height)/2);if(i)t+=i;break;case"bottom":t=a.height-n.height;if(i)t-=i;break}return t};this.z_________SET_ELEMENT_PROPS_______=function(){};this.zoomImageInsideParent=function(e,t,i,r,n,a,s){if(!i)var i=1.2;if(!n)var n="fit";var o=i;var l=e.parent();var u=S.getElementSize(e);var d=S.getImageOriginalSize(e);var f=false;var _,g,c=0,h=0,p,m,v=0,b=0;if(!r){f=false}else{var y=S.getMouseElementPoint(r,e);f=S.isPointInsideElement(y,u);v=y.x;b=y.y}if(f==false){var I=S.getElementCenterPoint(e);v=I.x;b=I.y}if(t==true){_=u.height*o;g=u.width*o;if(v!=0)c=-(v*o-v);if(b!=0)h=-(b*o-b)}else{_=u.height/o;g=u.width/o;var w=S.getImageInsideParentData(l,d.width,d.height,n,s);if(g<w.imageWidth){S.scaleImageFitParent(e,d.width,d.height,n,s);return true}if(f==true){if(v!=0)c=-(v/o-v);if(b!=0)h=-(b/o-b)}}if(a){var E=1;if(d.width!=0)E=g/d.width;if(E>a)return false}S.setElementSize(e,g,_);if(t==false&&f==false){var T=S.getElementCenterPosition(e);p=T.left;m=T.top}else{p=u.left+c;m=u.top+h}S.placeElement(e,p,m);return true};this.placeElement=function(e,t,i,r,n,a){if(jQuery.isNumeric(t)==false||jQuery.isNumeric(i)==false){if(!a)var a=e.parent();var s=S.getElementSize(e);var o=S.getElementSize(a)}if(jQuery.isNumeric(t)==false){switch(t){case"left":t=0;if(r)t+=r;break;case"center":t=Math.round((o.width-s.width)/2);if(r)t+=r;break;case"right":t=o.width-s.width;if(r)t-=r;break}}if(jQuery.isNumeric(i)==false){switch(i){case"top":i=0;if(n)i+=n;break;case"middle":case"center":i=Math.round((o.height-s.height)/2);if(n)i+=n;break;case"bottom":i=o.height-s.height;if(n)i-=n;break}}var l={position:"absolute",margin:"0px"};if(t!==null)l.left=t;if(i!==null)l.top=i;e.css(l)};this.placeElementInParentCenter=function(e){S.placeElement(e,"center","middle")};this.setElementSizeAndPosition=function(e,t,i,r,n){var a={width:r+"px",height:n+"px",left:t+"px",top:i+"px",position:"absolute",margin:"0px"};e.css(a)};this.setElementSize=function(e,t,i){var r={width:t+"px"};if(i!==null&&typeof i!="undefined")r["height"]=i+"px";e.css(r)};this.cloneElementSizeAndPos=function(e,t,i,r,n){var a=e.position();if(a==undefined){throw new Error("Can't get size, empty element")}if(i===true){a.height=e.outerHeight();a.width=e.outerWidth()}else{a.height=e.height();a.width=e.width()}a.left=Math.round(a.left);a.top=Math.round(a.top);if(r)a.left+=r;if(n)a.top+=n;S.setElementSizeAndPosition(t,a.left,a.top,a.width,a.height)};this.placeImageInsideParent=function(e,t,i,r,n,a,s){var o=S.getImageInsideParentData(t,i,r,n,a);var l="<img";if(o.imageWidth!==null){l+=" width = '"+o.imageWidth+"'";o.style+="width:"+o.imageWidth+";"}if(o.imageHeight!=null){if(o.imageHeight=="100%"){l+=" height = '"+o.imageHeight+"'";o.style+="height:"+o.imageHeight+";"}else{l+=" height = '"+o.imageHeight+"'";o.style+="height:"+o.imageHeight+"px;"}}if(o.imageTop!==null)o.style+="top:"+o.imageTop+"px;";if(o.imageLeft!==null){o.style+="left:"+o.imageLeft+"px;"}e=S.escapeDoubleSlash(e);l+=" style='"+o.style+"'";if(s.lazyload){l+=" class='lazyload'";l+=' src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4wLWMwNjAgNjEuMTM0Nzc3LCAyMDEwLzAyLzEyLTE3OjMyOjAwICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Njg1MzE2OTNFNzREMTFERkI3NEJBNDRGNDk5NUNCRTYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Njg1MzE2OTRFNzREMTFERkI3NEJBNDRGNDk5NUNCRTYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2ODUzMTY5MUU3NEQxMURGQjc0QkE0NEY0OTk1Q0JFNiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo2ODUzMTY5MkU3NEQxMURGQjc0QkE0NEY0OTk1Q0JFNiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="';l+=' data-src-desktop="'+e+'"';l+=' data-src-laptop="'+e+'"';l+=' data-src-tablet="'+e+'"';l+=' data-src-mobile="'+e+'"';l+=' data-src-desktop-retina="'+e+'"';l+=' data-src-laptop-retina="'+e+'"';l+=' data-src-tablet-retina="'+e+'"';l+=' data-src-mobile-retina="'+e+'"'}else{l+=' src="'+e+'"'}l+=">";t.html(l);var u=t.children("img");return u};this.scaleImageCoverParent=function(e,t,i){if(typeof t=="number"){var r=t;var n=i}else{var r=t.outerWidth();var n=t.outerHeight()}var a=S.getImageOriginalSize(e);var s=a.width;var o=a.height;var l=s/o;var u=n;var d=u*l;var f=0,_=0;if(d<r){d=r;u=d/l;_=0;f=Math.round((u-n)/2*-1)}else{f=0;_=Math.round((d-r)/2*-1)}d=Math.round(d);u=Math.round(u);e.css({width:d+"px",height:u+"px",left:_+"px",top:f+"px"})};this.scaleImageFitParent=function(e,t,i,r,n){var a=e.parent();var s=S.getImageInsideParentData(a,t,i,r,n);var o=false;var l={};if(s.imageWidth!==null){o=true;e.removeAttr("width");l["width"]=s.imageWidth+"px"}if(s.imageHeight!=null){o=true;e.removeAttr("height");l["height"]=s.imageHeight+"px"}if(s.imageTop!==null){o=true;l.top=s.imageTop+"px"}if(s.imageLeft!==null){o=true;l.left=s.imageLeft+"px"}if(o==true){l.position="absolute";l.margin="0px 0px";e.css(l)}return s};this.scaleImageByHeight=function(e,t,i,r){var n=S.getImageOriginalSize(e,i,r);var a=n.width/n.height;var s=Math.round(t*a);t=Math.round(t);S.setElementSize(e,s,t)};this.scaleImageByWidth=function(e,t,i,r){var n=S.getImageOriginalSize(e,i,r);var a=n.width/n.height;var s=Math.round(t/a);t=Math.round(t);S.setElementSize(e,t,s)};this.scaleImageExactSizeInParent=function(e,t,i,r,n,a){var s=e.parent();var o=S.getElementSize(s);if(o.width<r)r=o.width;if(o.height<n)n=o.height;var l=S.getImageInsideParentData(null,t,i,a,null,r,n);var u=r;var d=n;var f=l.imageLeft;var _=l.imageLeft;var g=l.imageTop;var c=l.imageTop;var h=Math.round((o.width-r)/2);var p=Math.round((o.height-n)/2);var m=l.imageWidth+f+_;var v=r-m;if(v!=0)_+=v;var b=l.imageHeight+g+c;var v=n-b;if(v!=0)c+=v;e.removeAttr("width");e.removeAttr("height");var y={position:"absolute",margin:"0px 0px"};y["width"]=u+"px";y["height"]=d+"px";y["left"]=h+"px";y["top"]=p+"px";y["padding-left"]=f+"px";y["padding-top"]=g+"px";y["padding-right"]=_+"px";y["padding-bottom"]=c+"px";e.css(y);var I={};I["imageWidth"]=u;I["imageHeight"]=d;return I};this.showElement=function(e,t,i){e.show().fadeTo(0,1);if(t)t.show().fadeTo(0,1);if(i)i.show().fadeTo(0,1)};this.z_________GALLERY_RELATED_FUNCTIONS_______=function(){};this.disableButton=function(e,t){if(!t)var t="ug-button-disabled";if(S.isButtonDisabled(e,t)==false)e.addClass(t)};this.convertCustomPrefixOptions=function(e,r,n){if(!r)return e;var a={};jQuery.each(e,function(e,t){if(e.indexOf(r+"_"+n+"_")===0){var i=e.replace(r+"_"+n+"_",n+"_");a[i]=t}else{a[e]=t}});return a};this.enableButton=function(e,t){if(!t)var t="ug-button-disabled";if(S.isButtonDisabled(e,t)==true)e.removeClass(t)};this.isButtonDisabled=function(e,t){if(!t)var t="ug-button-disabled";if(e.hasClass(t))return true;return false};this.z_________MATH_FUNCTIONS_______=function(){};this.normalizeSetting=function(e,t,i,r,n,a){if(!a)var a=false;var s=(n-i)/(r-i);n=e+(t-e)*s;if(a==true){if(n<e)n=e;if(n>t)n=t}return n};this.getNormalizedValue=function(e,t,i,r,n){var a=(n-e)/(t-e);n=e+(r-i)*a;return n};this.getDistance=function(e,t,i,r){var n=Math.round(Math.sqrt(Math.abs((i-e)*(i-e)+(r-t)*(r-t))));return n};this.getMiddlePoint=function(e,t,i,r){var n={};n.x=e+Math.round((i-e)/2);n.y=t+Math.round((r-t)/2);return n};this.getNumItemsInSpace=function(e,t,i){var r=Math.floor((e+i)/(t+i));return r};this.getNumItemsInSpaceRound=function(e,t,i){var r=Math.round((e+i)/(t+i));return r};this.getSpaceByNumItems=function(e,t,i){var r=e*t+(e-1)*i;return r};this.getItemSizeInSpace=function(e,t,i){var r=Math.floor((e-(t-1)*i)/t);return r};this.getColX=function(e,t,i){var r=e*(t+i);return r};this.getColByIndex=function(e,t){var i=t%e;return i};this.getColRowByIndex=function(e,t){var i=Math.floor(e/t);var r=Math.floor(e%t);return{col:r,row:i}};this.getIndexByRowCol=function(e,t,i){if(e<0)return-1;if(t<0)return-1;var r=e*i+t;return r};this.getPrevRowSameColIndex=function(e,t){var i=S.getColRowByIndex(e,t);var r=S.getIndexByRowCol(i.row-1,i.col,t);return r};this.getNextRowSameColIndex=function(e,t){var i=S.getColRowByIndex(e,t);var r=S.getIndexByRowCol(i.row+1,i.col,t);return r};this.z_________DATA_FUNCTIONS_______=function(){};this.setGlobalData=function(e,t){jQuery.data(document.body,e,t)};this.getGlobalData=function(e){var t=jQuery.data(document.body,e);return t};this.z_________EVENT_DATA_FUNCTIONS_______=function(){};this.handleScrollTop=function(e){if(S.isTouchDevice()==false)return null;var t=S.getStoredEventData(e);var i=15;var r=15;if(t.scrollDir===null){if(Math.abs(t.diffMouseX)>i)t.scrollDir="hor";else if(Math.abs(t.diffMouseY)>r&&Math.abs(t.diffMouseY)>Math.abs(t.diffMouseX)){t.scrollDir="vert";t.scrollStartY=t.lastMouseClientY;t.scrollOrigin=jQuery(document).scrollTop();s.dataCache[e].scrollStartY=t.lastMouseClientY;s.dataCache[e].scrollOrigin=t.scrollOrigin}s.dataCache[e].scrollDir=t.scrollDir}if(t.scrollDir!=="vert")return t.scrollDir;var n=jQuery(document).scrollTop();var a=t.scrollOrigin-(t.lastMouseClientY-t.scrollStartY);if(a>=0)jQuery(document).scrollTop(a);return t.scrollDir};this.wasVerticalScroll=function(e){var t=S.getStoredEventData(e);if(t.scrollDir==="vert")return true;return false};this.storeEventData=function(e,t,i){var r=S.getMousePosition(e);var n=jQuery.now();var a={startTime:n,lastTime:n,startMouseX:r.pageX,startMouseY:r.pageY,lastMouseX:r.pageX,lastMouseY:r.pageY,startMouseClientY:r.clientY,lastMouseClientY:r.clientY,scrollTop:jQuery(document).scrollTop(),scrollDir:null};if(i)a=jQuery.extend(a,i);s.dataCache[t]=a};this.updateStoredEventData=function(e,t,i){if(!s.dataCache[t])throw new Error("updateEventData error: must have stored cache object");var r=s.dataCache[t];var n=S.getMousePosition(e);r.lastTime=jQuery.now();if(n.pageX!==undefined){r.lastMouseX=n.pageX;r.lastMouseY=n.pageY;r.lastMouseClientY=n.clientY}if(i)r=jQuery.extend(r,i);s.dataCache[t]=r};this.getStoredEventData=function(e,t){if(!s.dataCache[e])throw new Error("updateEventData error: must have stored cache object");var i=s.dataCache[e];i.diffMouseX=i.lastMouseX-i.startMouseX;i.diffMouseY=i.lastMouseY-i.startMouseY;i.diffMouseClientY=i.lastMouseClientY-i.startMouseClientY;i.diffTime=i.lastTime-i.startTime;if(t===true){i.startMousePos=i.lastMouseY;i.lastMousePos=i.lastMouseY;i.diffMousePos=i.diffMouseY}else{i.startMousePos=i.lastMouseX;i.lastMousePos=i.lastMouseX;i.diffMousePos=i.diffMouseX}return i};this.isApproveStoredEventClick=function(e,t){if(!s.dataCache[e])return true;var i=S.getStoredEventData(e,t);var r=Math.abs(i.diffMousePos);if(i.diffTime>400)return false;if(r>30)return false;return true};this.clearStoredEventData=function(e){s.dataCache[e]=null};this.z_________CHECK_SUPPORT_FUNCTIONS_______=function(){};this.isCanvasExists=function(){var e=jQuery('<canvas width="500" height="500" > </canvas>')[0];if(typeof e.getContext=="function")return true;return false};this.isScrollbarExists=function(){var e=window.innerWidth>document.documentElement.clientWidth;return e};this.isTouchDevice=function(){if(s.isTouchDevice!==-1)return s.isTouchDevice;try{document.createEvent("TouchEvent");s.isTouchDevice=true}catch(e){s.isTouchDevice=false}return s.isTouchDevice};this.isRgbaSupported=function(){if(s.isRgbaSupported!==-1)return s.isRgbaSupported;var e=document.getElementsByTagName("script")[0];var t=e.style.color;try{e.style.color="rgba(1,5,13,0.44)"}catch(e){}var i=e.style.color!=t;e.style.color=t;s.isRgbaSupported=i;return i};this.z_________GENERAL_FUNCTIONS_______=function(){};this.checkMinJqueryVersion=function(e){var t=jQuery.fn.jquery.split(".");var i=e.split(".");for(var r=0,n=t.length;r<n;r++){var a=parseInt(t[r]);var s=parseInt(i[r]);if(typeof i[r]=="undefined")return true;if(s>a)return false;if(a>s)return true}return true};this.getCssSizeParam=function(e){if(jQuery.isNumeric(e))return e+"px";return e};this.convertHexToRGB=function(e,t){var i=e.replace("#","");if(i===e)return e;r=parseInt(i.substring(0,2),16);g=parseInt(i.substring(2,4),16);b=parseInt(i.substring(4,6),16);result="rgba("+r+","+g+","+b+","+t+")";return result};this.timestampToString=function(e){var t=new Date(e);var i=t.getDate()+"/"+t.getMonth();i+=" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()+":"+t.getMilliseconds();return i};this.getArrTouches=function(e){var t=[];if(e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length>0){t=e.originalEvent.touches}return t};this.getArrTouchPositions=function(e){var t=[];for(var i=0;i<e.length;i++){var r={pageX:e[i].pageX,pageY:e[i].pageY};t.push(r)}return t};this.startTimeDebug=function(){s.starTime=jQuery.now()};this.showTimeDebug=function(){var e=jQuery.now();var t=e-s.starTime;debugLine({"Time Passed":t},true)};this.initProgressIndicator=function(e,t,i){if(e!="bar"&&S.isCanvasExists()==false)e="bar";switch(e){case"bar":var r=new UGProgressBar;r.putHidden(i,t);break;default:case"pie":var r=new UGProgressPie;r.putHidden(i,t);break;case"pie2":t.type_fill=true;var r=new UGProgressPie;r.putHidden(i,t);break}return r};this.setButtonMobileReady=function(e){e.on("touchstart",function(e){jQuery(this).addClass("ug-nohover")});e.on("mousedown touchend",function(e){e.stopPropagation();e.stopImmediatePropagation();return false})};this.registerTheme=function(e){s.arrThemes.push(e)};this.getArrThemes=function(){return s.arrThemes};this.isThemeRegistered=function(e){if(jQuery.inArray(e,s.arrThemes)!==-1)return true;return false};this.getFirstRegisteredTheme=function(){if(s.arrThemes.length==0)return"";var e=s.arrThemes[0];return e};this.isTimePassed=function(e,t){if(!t)var t=100;var i=jQuery.now();if(s.timeCache.hasOwnProperty(e)==false)lastTime=0;else lastTime=s.timeCache[e];var r=i-lastTime;s.timeCache[e]=i;if(r<=t)return false;return true};this.whenContiniousEventOver=function(e,t,i){if(!i)var i=300;if(s.timeCache.hasOwnProperty(e)==true&&s.timeCache[e]!=null){clearTimeout(s.timeCache[e]);s.timeCache[e]=null}s.timeCache[e]=setTimeout(t,i)};this.validateClickTouchstartEvent=function(e){var t=true;var i=jQuery.now()-s.lastEventTime;if(e=="click"&&s.lastEventType=="touchstart"&&i<1e3)t=false;s.lastEventTime=jQuery.now();s.lastEventType=e;return t};this.addClassOnHover=function(e,t){if(!t)var t="ug-button-hover";e.hover(function(){jQuery(this).addClass(t)},function(){jQuery(this).removeClass(t)})};this.destroyButton=function(e){e.off("mouseenter");e.off("mouseleave");e.off("click");e.off("touchstart");e.off("touchend");e.off("mousedown");e.off("tap")};this.setButtonOnClick=function(e,t){S.setButtonMobileReady(e);e.on("click touchstart",function(e){objThis=jQuery(this);e.stopPropagation();e.stopImmediatePropagation();if(S.validateClickTouchstartEvent(e.type)==false)return true;t(objThis,e)})};this.setButtonOnTap=function(e,t){e.on("tap",t);if(S.isTouchDevice()==false){e.on("click",function(e){var t=jQuery(this);if(S.validateClickTouchstartEvent(e.type)==false)return true;t.trigger("tap")})}else{e.on("touchstart",function(e){var t=jQuery(this);t.addClass("ug-nohover");s.lastTouchStartElement=jQuery(this);s.lastEventTime=jQuery.now()});e.on("touchend",function(e){var t=jQuery(this);if(t.is(s.lastTouchStartElement)==false)return true;if(!s.lastEventTime)return true;var i=jQuery.now()-s.lastEventTime;if(i>s.touchThreshold)return true;t.trigger("tap")})}};this.loadJs=function(e,t){if(t===true)e=location.protocol+"//"+e;var i=document.createElement("script");i.src=e;var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(i,r)};this.loadCss=function(e,t){if(t===true)e=location.protocol+"//"+e;var i=document.createElement("link");i.setAttribute("rel","stylesheet");i.setAttribute("type","text/css");i.setAttribute("href",e);document.getElementsByTagName("head")[0].appendChild(i)};this.addEvent=function(e,t,i){if(typeof e.addEventListener!="undefined"){e.addEventListener(t,i,false)}else if(e.attachEvent){e.attachEvent("on"+t,i)}};this.checkImagesLoaded=function(r,i,n){var e=[];var a=0;var s=r.length;if(s==0&&i){i();return false}function o(e,t){a++;if(typeof n=="function"){setTimeout(function(){n(e,t)})}if(a==s&&typeof i=="function"){setTimeout(function(){i()})}}setTimeout(function(){for(var e=0;e<s;e++){var t=r[e];if(t.naturalWidth!==undefined&&t.naturalWidth!==0){o(r[e],false)}else{var i=jQuery("<img/>");i.data("index",e);i.on("load",function(){var e=jQuery(this).data("index");o(r[e],false)});i.on("error",function(){var e=jQuery(this).data("index");o(r[e],true)});i.attr("src",t.src)}}})};this.waitForWidth=function(e,t){var i=e.width();if(i!=0){t();return false}s.handle=setInterval(function(){i=e.width();if(i!=0){clearInterval(s.handle);t()}},300)};this.arrayShuffle=function(e){if(typeof e!="object")return e;for(var t,i,r=e.length;r;t=parseInt(Math.random()*r),i=e[--r],e[r]=e[t],e[t]=i);return e};this.getObjectLength=function(e){var t=0;for(var i in e)t++;return t};this.normalizePercent=function(e){if(e<0)e=0;if(e>1)e=1;return e};this.stripTags=function(e){var t=e.replace(/(<([^>]+)>)/gi,"");return t};this.escapeDoubleSlash=function(e){return e.replace('"','"')};this.htmlentitles=function(e){var t=jQuery("<div/>").text(e).html();return t};this.z_________END_GENERAL_FUNCTIONS_______=function(){}}var g_ugFunctions=new UGFunctions;!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(u){function t(e){var t=e||window.event,i=c.call(arguments,1),r=0,n=0,a=0,s=0;if(e=u.event.fix(t),e.type="mousewheel","detail"in t&&(a=-1*t.detail),"wheelDelta"in t&&(a=t.wheelDelta),"wheelDeltaY"in t&&(a=t.wheelDeltaY),"wheelDeltaX"in t&&(n=-1*t.wheelDeltaX),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(n=-1*a,a=0),r=0===a?n:a,"deltaY"in t&&(a=-1*t.deltaY,r=a),"deltaX"in t&&(n=t.deltaX,0===a&&(r=-1*n)),0!==a||0!==n){if(1===t.deltaMode){var o=u.data(this,"mousewheel-line-height");r*=o,a*=o,n*=o}else if(2===t.deltaMode){var l=u.data(this,"mousewheel-page-height");r*=l,a*=l,n*=l}return s=Math.max(Math.abs(a),Math.abs(n)),(!g||g>s)&&(g=s,f(t,s)&&(g/=40)),f(t,s)&&(r/=40,n/=40,a/=40),r=Math[r>=1?"floor":"ceil"](r/g),n=Math[n>=1?"floor":"ceil"](n/g),a=Math[a>=1?"floor":"ceil"](a/g),e.deltaX=n,e.deltaY=a,e.deltaFactor=g,e.deltaMode=0,i.unshift(e,r,n,a),_&&clearTimeout(_),_=setTimeout(d,200),(u.event.dispatch||u.event.handle).apply(this,i)}}function d(){g=null}function f(e,t){return n.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var _,g,e=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],i="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],c=Array.prototype.slice;if(u.event.fixHooks)for(var r=e.length;r;)u.event.fixHooks[e[--r]]=u.event.mouseHooks;var n=u.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var e=i.length;e;)this.addEventListener(i[--e],t,!1);else this.onmousewheel=t;u.data(this,"mousewheel-line-height",n.getLineHeight(this)),u.data(this,"mousewheel-page-height",n.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=i.length;e;)this.removeEventListener(i[--e],t,!1);else this.onmousewheel=null},getLineHeight:function(e){return parseInt(u(e)["offsetParent"in u.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(e){return u(e).height()},settings:{adjustOldDeltas:!0}};u.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})});(function(t){if(typeof define==="function"&&define.amd){define(["jquery"],function(e){return t(e)})}else if(typeof module==="object"&&typeof module.exports==="object"){exports=t(require("jquery"))}else{t(jQuery)}})(function(t){t.easing["jswing"]=t.easing["swing"];var i=Math.pow,r=Math.sqrt,n=Math.sin,a=Math.cos,s=Math.PI,o=1.70158,l=o*1.525,u=o+1,d=2*s/3,f=2*s/4.5;function _(e){var t=7.5625,i=2.75;if(e<1/i){return t*e*e}else if(e<2/i){return t*(e-=1.5/i)*e+.75}else if(e<2.5/i){return t*(e-=2.25/i)*e+.9375}else{return t*(e-=2.625/i)*e+.984375}}t.extend(t.easing,{def:"easeOutQuad",swing:function(e){return t.easing[t.easing.def](e)},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return 1-(1-e)*(1-e)},easeInOutQuad:function(e){return e<.5?2*e*e:1-i(-2*e+2,2)/2},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1-i(1-e,3)},easeInOutCubic:function(e){return e<.5?4*e*e*e:1-i(-2*e+2,3)/2},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1-i(1-e,4)},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-i(-2*e+2,4)/2},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1-i(1-e,5)},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1-i(-2*e+2,5)/2},easeInSine:function(e){return 1-a(e*s/2)},easeOutSine:function(e){return n(e*s/2)},easeInOutSine:function(e){return-(a(s*e)-1)/2},easeInExpo:function(e){return e===0?0:i(2,10*e-10)},easeOutExpo:function(e){return e===1?1:1-i(2,-10*e)},easeInOutExpo:function(e){return e===0?0:e===1?1:e<.5?i(2,20*e-10)/2:(2-i(2,-20*e+10))/2},easeInCirc:function(e){return 1-r(1-i(e,2))},easeOutCirc:function(e){return r(1-i(e-1,2))},easeInOutCirc:function(e){return e<.5?(1-r(1-i(2*e,2)))/2:(r(1-i(-2*e+2,2))+1)/2},easeInElastic:function(e){return e===0?0:e===1?1:-i(2,10*e-10)*n((e*10-10.75)*d)},easeOutElastic:function(e){return e===0?0:e===1?1:i(2,-10*e)*n((e*10-.75)*d)+1},easeInOutElastic:function(e){return e===0?0:e===1?1:e<.5?-(i(2,20*e-10)*n((20*e-11.125)*f))/2:i(2,-20*e+10)*n((20*e-11.125)*f)/2+1},easeInBack:function(e){return u*e*e*e-o*e*e},easeOutBack:function(e){return 1+u*i(e-1,3)+o*i(e-1,2)},easeInOutBack:function(e){return e<.5?i(2*e,2)*((l+1)*2*e-l)/2:(i(2*e-2,2)*((l+1)*(e*2-2)+l)+2)/2},easeInBounce:function(e){return 1-_(1-e)},easeOutBounce:_,easeInOutBounce:function(e){return e<.5?(1-_(1-2*e))/2:(1+_(2*e-1))/2}})});!function(d,f){if(typeof d.cssHooks=="undefined")return false;function _(e,t,i){var r=p[t.type]||{};return null==e?i||!t.def?null:t.def:(e=r.floor?~~e:parseFloat(e),isNaN(e)?t.def:r.mod?(e+r.mod)%r.mod:0>e?0:r.max<e?r.max:e)}function o(s){var o=c(),l=o._rgba=[];return s=s.toLowerCase(),m(t,function(e,t){var i,r=t.re.exec(s),n=r&&t.parse(r),a=t.space||"rgba";return n?(i=o[a](n),o[h[a].cache]=i[h[a].cache],l=o._rgba=i._rgba,!1):void 0}),l.length?("0,0,0,0"===l.join()&&d.extend(l,u.transparent),o):u[s]}function l(e,t,i){return i=(i+1)%1,1>6*i?e+(t-e)*i*6:1>2*i?t:2>3*i?e+(t-e)*(2/3-i)*6:e}var u,e="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",g=/^([\-+])=\s*(\d+\.?\d*)/,t=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],c=d.Color=function(e,t,i,r){return new d.Color.fn.parse(e,t,i,r)},h={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},p={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},s=c.support={},i=d("<p>")[0],m=d.each;i.style.cssText="background-color:rgba(1,1,1,.5)",s.rgba=i.style.backgroundColor.indexOf("rgba")>-1,m(h,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),c.fn=d.extend(c.prototype,{parse:function(n,e,t,i){if(n===f)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=d(n).css(e),e=f);var a=this,r=d.type(n),s=this._rgba=[];return e!==f&&(n=[n,e,t,i],r="array"),"string"===r?this.parse(o(n)||u._default):"array"===r?(m(h.rgba.props,function(e,t){s[t.idx]=_(n[t.idx],t)}),this):"object"===r?(n instanceof c?m(h,function(e,t){n[t.cache]&&(a[t.cache]=n[t.cache].slice())}):m(h,function(e,i){var r=i.cache;m(i.props,function(e,t){if(!a[r]&&i.to){if("alpha"===e||null==n[e])return;a[r]=i.to(a._rgba)}a[r][t.idx]=_(n[e],t,!0)}),a[r]&&d.inArray(null,a[r].slice(0,3))<0&&(a[r][3]=1,i.from&&(a._rgba=i.from(a[r])))}),this):void 0},is:function(e){var n=c(e),a=!0,s=this;return m(h,function(e,t){var i,r=n[t.cache];return r&&(i=s[t.cache]||t.to&&t.to(s._rgba)||[],m(t.props,function(e,t){return null!=r[t.idx]?a=r[t.idx]===i[t.idx]:void 0})),a}),a},_space:function(){var i=[],r=this;return m(h,function(e,t){r[t.cache]&&i.push(e)}),i.pop()},transition:function(e,s){var o=c(e),t=o._space(),i=h[t],r=0===this.alpha()?c("transparent"):this,l=r[i.cache]||i.to(r._rgba),u=l.slice();return o=o[i.cache],m(i.props,function(e,t){var i=t.idx,r=l[i],n=o[i],a=p[t.type]||{};null!==n&&(null===r?u[i]=n:(a.mod&&(n-r>a.mod/2?r+=a.mod:r-n>a.mod/2&&(r-=a.mod)),u[i]=_((n-r)*s+r,t)))}),this[t](u)},blend:function(e){if(1===this._rgba[3])return this;var t=this._rgba.slice(),i=t.pop(),r=c(e)._rgba;return c(d.map(t,function(e,t){return(1-i)*r[t]+i*e}))},toRgbaString:function(){var e="rgba(",t=d.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===t[3]&&(t.pop(),e="rgb("),e+t.join()+")"},toHslaString:function(){var e="hsla(",t=d.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===t[3]&&(t.pop(),e="hsl("),e+t.join()+")"},toHexString:function(e){var t=this._rgba.slice(),i=t.pop();return e&&t.push(~~(255*i)),"#"+d.map(t,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),c.fn.parse.prototype=c.fn,h.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,r=e[0]/255,n=e[1]/255,a=e[2]/255,s=e[3],o=Math.max(r,n,a),l=Math.min(r,n,a),u=o-l,d=o+l,f=.5*d;return t=l===o?0:r===o?60*(n-a)/u+360:n===o?60*(a-r)/u+120:60*(r-n)/u+240,i=0===u?0:.5>=f?u/d:u/(2-d),[Math.round(t)%360,i,f,null==s?1:s]},h.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],r=e[2],n=e[3],a=.5>=r?r*(1+i):r+i-r*i,s=2*r-a;return[Math.round(255*l(s,a,t+1/3)),Math.round(255*l(s,a,t)),Math.round(255*l(s,a,t-1/3)),n]},m(h,function(l,e){var i=e.props,s=e.cache,o=e.to,u=e.from;c.fn[l]=function(e){if(o&&!this[s]&&(this[s]=o(this._rgba)),e===f)return this[s].slice();var t,r=d.type(e),n="array"===r||"object"===r?e:arguments,a=this[s].slice();return m(i,function(e,t){var i=n["object"===r?e:t.idx];null==i&&(i=a[t.idx]),a[t.idx]=_(i,t)}),u?(t=c(u(a)),t[s]=a,t):c(a)},m(i,function(s,o){c.fn[s]||(c.fn[s]=function(e){var t,i=d.type(e),r="alpha"===s?this._hsla?"hsla":"rgba":l,n=this[r](),a=n[o.idx];return"undefined"===i?a:("function"===i&&(e=e.call(this,a),i=d.type(e)),null==e&&o.empty?this:("string"===i&&(t=g.exec(e),t&&(e=a+parseFloat(t[2])*("+"===t[1]?1:-1))),n[o.idx]=e,this[r](n)))})})}),c.hook=function(e){var t=e.split(" ");m(t,function(e,a){d.cssHooks[a]={set:function(e,t){var i,r,n="";if("transparent"!==t&&("string"!==d.type(t)||(i=o(t)))){if(t=c(i||t),!s.rgba&&1!==t._rgba[3]){for(r="backgroundColor"===a?e.parentNode:e;(""===n||"transparent"===n)&&r&&r.style;)try{n=d.css(r,"backgroundColor"),r=r.parentNode}catch(e){}t=t.blend(n&&"transparent"!==n?n:"_default")}t=t.toRgbaString()}try{e.style[a]=t}catch(e){}}},d.fx.step[a]=function(e){e.colorInit||(e.start=c(e.elem,a),e.end=c(e.end),e.colorInit=!0),d.cssHooks[a].set(e.elem,e.start.transition(e.end,e.pos))}})},c.hook(e),d.cssHooks.borderColor={expand:function(i){var r={};return m(["Top","Right","Bottom","Left"],function(e,t){r["border"+t+"Color"]=i}),r}},u=d.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery);!function(r){function t(){try{var e=this===document?r(this):r(this).contents()}catch(e){return false}e.mousemove(function(e){r.mlp={x:e.pageX,y:e.pageY}}),e.find("iframe").on("load",t)}r.mlp={x:0,y:0},r(t),r.fn.ismouseover=function(){var i=!1;return this.eq(0).each(function(){var e=r(this).is("iframe")?r(this).contents().find("body"):r(this),t=e.offset();i=t.left<=r.mlp.x&&t.left+e.outerWidth()>r.mlp.x&&t.top<=r.mlp.y&&t.top+e.outerHeight()>r.mlp.y}),i}}(jQuery);function UGThumbsGeneral(){var o=this,n=jQuery(o);var l=new UniteGalleryMain,i,r,a;var g,e,c;var s=new UGFunctions;var t;var u;this.type={GET_THUMBS_ALL:"all",GET_THUMBS_RATIO:"ratio",GET_THUMBS_NO_RATIO:"no_ratio",GET_THUMBS_NEW:"new"};this.events={SETOVERSTYLE:"thumbmouseover",SETNORMALSTYLE:"thumbmouseout",SETSELECTEDSTYLE:"thumbsetselected",PLACEIMAGE:"thumbplaceimage",AFTERPLACEIMAGE:"thumb_after_place_image",IMAGELOADERROR:"thumbimageloaderror",THUMB_IMAGE_LOADED:"thumb_image_loaded"};var h={thumb_width:88,thumb_height:50,thumb_fixed_size:true,thumb_resize_by:"height",thumb_border_effect:true,thumb_border_width:0,thumb_border_color:"#000000",thumb_over_border_width:0,thumb_over_border_color:"#d9d9d9",thumb_selected_border_width:1,thumb_selected_border_color:"#d9d9d9",thumb_round_corners_radius:0,thumb_color_overlay_effect:true,thumb_overlay_color:"#000000",thumb_overlay_opacity:.4,thumb_overlay_reverse:false,thumb_image_overlay_effect:false,thumb_image_overlay_type:"bw",thumb_transition_duration:200,thumb_transition_easing:"easeOutQuad",thumb_show_loader:true,thumb_loader_type:"dark",thumb_wrapper_as_link:false,thumb_link_newpage:false};var p={touchEnabled:false,num_thumbs_checking:0,customThumbs:false,funcSetCustomThumbHtml:null,isEffectBorder:false,isEffectOverlay:false,isEffectImage:false,colorOverlayOpacity:1,thumbInnerReduce:0,allowOnResize:true,classNewThumb:"ug-new-thumb"};var d={timeout_thumb_check:100,thumb_max_check_times:600,eventSizeChange:"thumb_size_change"};this.init=function(e,t){r=e.getObjects();l=e;i=jQuery(e);a=r.g_objWrapper;g=r.g_arrItems;h=jQuery.extend(h,t);p.isEffectBorder=h.thumb_border_effect;p.isEffectOverlay=h.thumb_color_overlay_effect;p.isEffectImage=h.thumb_image_overlay_effect};this._____________EXTERNAL_SETTERS__________=function(){};function f(e,t){var i=g[e];var r="";if(p.customThumbs==false)r=" ug-thumb-generated";var n=i.index+1;var a="style='z-index:"+n+";'";var s="<div class='ug-thumb-wrapper"+r+"' "+a+"></div>";if(h.thumb_wrapper_as_link==true){var o=i.link;if(i.link=="")o="javascript:void(0)";var l="";if(h.thumb_link_newpage==true&&i.link)l=" target='_blank'";var s="<a href='"+o+"'"+l+" class='ug-thumb-wrapper"+r+"'></a>"}var u=jQuery(s);if(i.lazyload)i.objThumbImage.addClass("lazyload").attr("src","data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4wLWMwNjAgNjEuMTM0Nzc3LCAyMDEwLzAyLzEyLTE3OjMyOjAwICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Njg1MzE2OTNFNzREMTFERkI3NEJBNDRGNDk5NUNCRTYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Njg1MzE2OTRFNzREMTFERkI3NEJBNDRGNDk5NUNCRTYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2ODUzMTY5MUU3NEQxMURGQjc0QkE0NEY0OTk1Q0JFNiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo2ODUzMTY5MkU3NEQxMURGQjc0QkE0NEY0OTk1Q0JFNiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==");var d=i.objThumbImage;if(p.customThumbs==false){if(h.thumb_show_loader==true&&d){var f="ug-thumb-loader-dark";if(h.thumb_loader_type=="bright")f="ug-thumb-loader-bright";u.append("<div class='ug-thumb-loader "+f+"'></div>");u.append("<div class='ug-thumb-error' style='display:none'></div>")}if(d){d.addClass("ug-thumb-image");if(h.thumb_image_overlay_effect==true){var _=d.clone().appendTo(u);_.addClass("ug-thumb-image-overlay "+t).removeClass("ug-thumb-image");_.fadeTo(0,0);i.objImageOverlay=_}u.append(d)}}if(p.isEffectBorder)u.append("<div class='ug-thumb-border-overlay'></div>");if(p.isEffectOverlay)u.append("<div class='ug-thumb-overlay'></div>");c.append(u);if(p.customThumbs){p.funcSetCustomThumbHtml(u,i)}g[e].objThumbWrapper=u;return u}this.setHtmlThumbs=function(e,t){c=e;if(p.isEffectImage==true){var r=A()}if(t!==true){var i=l.getNumItems();for(var n=0;n<i;n++){f(n,r)}}else{var a=o.getThumbs();a.removeClass(p.classNewThumb);var s=l.getNewAddedItemsIndexes();jQuery.each(s,function(e,t){var i=f(t,r);i.addClass(p.classNewThumb)})}};function _(){}function m(e,t,i,r){var n={width:e+"px",height:t+"px"};var a={width:e-p.thumbInnerReduce+"px",height:t-p.thumbInnerReduce+"px"};var s=".ug-thumb-loader, .ug-thumb-error, .ug-thumb-border-overlay, .ug-thumb-overlay";if(i){if(r!==true)i.css(n);i.find(s).css(a)}else{c.children(".ug-thumb-wrapper").css(n);c.find(s).css(a)}}function v(e,t,i,r){if(!r)var r=false;if(l.isFakeFullscreen())r=true;var n=e.children(".ug-thumb-border-overlay");var a={};a["border-width"]=t+"px";if(t!=0)a["border-color"]=i;if(r&&r===true){n.css(a);if(t==0)n.hide();else n.show()}else{if(t==0)n.stop().fadeOut(h.thumb_transition_duration);else n.show().stop().fadeIn(h.thumb_transition_duration);T(n,a)}}function b(e,t,i){var r=e.children(".ug-thumb-overlay");var n=h.thumb_transition_duration;if(i&&i===true)n=0;if(t){r.stop(true).fadeTo(n,p.colorOverlayOpacity)}else{r.stop(true).fadeTo(n,0)}}function y(e,t,i){var r=e.children("img.ug-thumb-image");var n=e.children("img.ug-thumb-image-overlay");var a=h.thumb_transition_duration;if(i&&i===true)a=0;if(t){n.stop(true).fadeTo(a,1)}else{r.fadeTo(0,1);n.stop(true).fadeTo(a,0)}}this.setThumbNormalStyle=function(e,t,i){if(p.customThumbs==true){e.removeClass("ug-thumb-over")}if(p.isEffectBorder)v(e,h.thumb_border_width,h.thumb_border_color,t);if(p.isEffectOverlay){var r=h.thumb_overlay_reverse==true?false:true;b(e,r,t)}if(p.isEffectImage){y(e,true,t)}n.trigger(o.events.SETNORMALSTYLE,e)};this.setThumbOverStyle=function(e){if(p.customThumbs==true){e.addClass("ug-thumb-over")}if(p.isEffectBorder)v(e,h.thumb_over_border_width,h.thumb_over_border_color);if(p.isEffectOverlay){var t=h.thumb_overlay_reverse==true?true:false;b(e,t)}if(p.isEffectImage==true){y(e,false)}n.trigger(o.events.SETOVERSTYLE,e)};function I(e,t){if(p.isEffectBorder)v(e,h.thumb_selected_border_width,h.thumb_selected_border_color,t);if(p.isEffectOverlay){var i=h.thumb_overlay_reverse==true?true:false;b(e,i,t)}if(p.isEffectImage)y(e,false,t);n.trigger(o.events.SETSELECTEDSTYLE,e)}function w(e){var t=o.getItemByThumb(e);t.isLoaded=true;t.isThumbImageLoaded=false;if(p.customThumbs==true){n.trigger(o.events.IMAGELOADERROR,e);return true}e.children(".ug-thumb-loader").hide();e.children(".ug-thumb-error").show()}function E(e){if(h.thumb_round_corners_radius<=0)return false;var t={"border-radius":h.thumb_round_corners_radius+"px"};if(e){e.css(t);e.find(".ug-thumb-border-overlay").css(t)}else{c.find(".ug-thumb-wrapper, .ug-thumb-wrapper .ug-thumb-border-overlay").css(t)}}function T(e,t){e.stop(true).animate(t,{duration:h.thumb_transition_duration,easing:h.thumb_transition_easing,queue:false})}function S(e){if(C(e)==true)I(e,true,"redraw");else o.setThumbNormalStyle(e,true,"redraw")}function P(e,t,i){if(h.thumb_fixed_size==true){s.scaleImageCoverParent(t,e)}else{if(h.thumb_resize_by=="height")s.scaleImageByHeight(t,h.thumb_height);else s.scaleImageByWidth(t,h.thumb_width);var r=s.getElementSize(t);s.placeElement(t,0,0);m(r.width,r.height,e)}e.children(".ug-thumb-loader").hide();t.show();if(h.thumb_image_overlay_effect==false){t.fadeTo(0,1)}else{if(h.thumb_image_overlay_effect==true){x(t)}t.fadeTo(0,0);S(e)}n.trigger(o.events.AFTERPLACEIMAGE,e)}function x(e){var t=e.siblings(".ug-thumb-image-overlay");if(t.length==0)return false;var i=s.getElementSize(e);var r={width:i.width+"px",height:i.height+"px",left:i.left+"px",top:i.top+"px"};t.css(r);if(p.customThumbs==false)t.fadeTo(0,1)}function j(){}function A(){var e="";var t=h.thumb_image_overlay_type.split(",");for(var i in t){var r=t[i];switch(r){case"bw":e+=" ug-bw-effect";break;case"blur":e+=" ug-blur-effect";break;case"sepia":e+=" ug-sepia-effect";break}}return e}function C(e){if(e.hasClass("ug-thumb-selected"))return true;return false}function M(){}function O(e,t){t=jQuery(t);var i=o.getItemByThumb(t);var r=s.getElementSize(t);m(r.width,r.height,t,true);S(t)}function z(e){if(p.touchEnabled==true){objThumbs.off("mouseenter").off("mouseleave");return true}if(C(e)==false)o.setThumbOverStyle(e)}function k(e){if(p.touchEnabled==true)return true;if(C(e)==false)o.setThumbNormalStyle(e,false)}function N(e,t){if(!t)var t=false;var i=jQuery(e);var r=i.parents(".ug-thumb-wrapper");if(r.parent().length==0)return false;objItem=o.getItemByThumb(r);if(objItem.isLoaded==true&&t===false)return false;o.triggerImageLoadedEvent(r,i);if(p.customThumbs==true){n.trigger(o.events.PLACEIMAGE,[r,i])}else{P(r,i,objItem)}}function L(e,t,i){objItem=o.getItemByThumb(t);objItem.isLoaded=true;objItem.isThumbImageLoaded=true;var r=s.getImageOriginalSize(i);objItem.thumbWidth=r.width;objItem.thumbHeight=r.height;objItem.thumbRatioByWidth=r.width/r.height;objItem.thumbRatioByHeight=r.height/r.width;t.addClass("ug-thumb-ratio-set")}this.setHtmlProperties=function(e){if(!e)var e=o.getThumbs();if(p.customThumbs==false){var t={};if(h.thumb_fixed_size==true)m(h.thumb_width,h.thumb_height,e);E(e)}e.each(function(){var e=jQuery(this);S(e)});if(p.isEffectOverlay){if(h.thumb_overlay_color){var i={};if(s.isRgbaSupported()){var r=s.convertHexToRGB(h.thumb_overlay_color,h.thumb_overlay_opacity);i["background-color"]=r}else{i["background-color"]=h.thumb_overlay_color;p.colorOverlayOpacity=h.thumb_overlay_opacity}e.find(".ug-thumb-overlay").css(i)}}};this.setThumbSelected=function(e){if(p.customThumbs==true)e.removeClass("ug-thumb-over");if(C(e)==true)return true;e.addClass("ug-thumb-selected");I(e)};this.setThumbUnselected=function(e){e.removeClass("ug-thumb-selected");o.setThumbNormalStyle(e,false,"set unselected")};this.setOptions=function(e){h=jQuery.extend(h,e)};this.setThumbInnerReduce=function(e){p.thumbInnerReduce=e};this.setCustomThumbs=function(e,t,i){p.customThumbs=true;if(typeof e!="function")throw new Error("The argument should be function");p.funcSetCustomThumbHtml=e;if(jQuery.inArray("overlay",t)==-1)p.isEffectOverlay=false;if(jQuery.inArray("border",t)==-1)p.isEffectBorder=false;p.isEffectImage=false;if(i&&i.allow_onresize===false){p.allowOnResize=false}};this._____________EXTERNAL_GETTERS__________=function(){};this.getOptions=function(){return h};this.getNumThumbs=function(){var e=g.length;return e};this.getThumbImage=function(e){var t=e.find(".ug-thumb-image");return t};this.getThumbByIndex=function(e){var t=o.getThumbs();if(e>=t.length||e<0)throw new Error("Wrong thumb index");var i=jQuery(t[e]);return i};this.getThumbs=function(e){var t=".ug-thumb-wrapper";var i=".ug-thumb-ratio-set";switch(e){default:case o.type.GET_THUMBS_ALL:var r=c.children(t);break;case o.type.GET_THUMBS_NO_RATIO:var r=c.children(t).not(i);break;case o.type.GET_THUMBS_RATIO:var r=c.children(t+i);break;case o.type.GET_THUMBS_NEW:var r=c.children("."+p.classNewThumb);break}return r};this.getItemByThumb=function(e){var t=e.data("index");if(t===undefined)t=e.index();var i=g[t];return i};this.isThumbLoaded=function(e){var t=o.getItemByThumb(e);return t.isLoaded};this.getGlobalThumbSize=function(){var e={width:h.thumb_width,height:h.thumb_height};return e};this._____________EXTERNAL_OTHERS__________=function(){};this.initEvents=function(){var e=".ug-thumb-wrapper";if(p.allowOnResize==true)a.on(d.eventSizeChange,O);n.on(o.events.THUMB_IMAGE_LOADED,L);c.on("touchstart",e,function(){p.touchEnabled=true;c.off("mouseenter").off("mouseleave")});c.on("mouseenter",e,function(e){var t=jQuery(this);z(t)});c.on("mouseleave",e,function(e){var t=jQuery(this);k(t)})};this.destroy=function(){var e=".ug-thumb-wrapper";c.off("touchstart",e);a.off(d.eventSizeChange);c.off("mouseenter",e);c.off("mouseleave",e);n.off(o.events.THUMB_IMAGE_LOADED)};this.loadThumbsImages=function(){var e=c.find(".ug-thumb-image");s.checkImagesLoaded(e,null,function(e,t){if(t==false){N(e,true)}else{var i=jQuery(e).parent();w(i)}})};this.triggerImageLoadedEvent=function(e,t){n.trigger(o.events.THUMB_IMAGE_LOADED,[e,t])};this.hideThumbs=function(){c.find(".ug-thumb-wrapper").hide()}}function UGThumbsStrip(){var l=this;var r=new UniteGalleryMain,n,a,s;var o,u,d;var f,_,g=new UGFunctions;var c=false,h=new UGThumbsGeneral;var g=new UGFunctions;var p={strip_vertical_type:false,strip_thumbs_align:"left",strip_space_between_thumbs:6,strip_thumb_touch_sensetivity:15,strip_scroll_to_thumb_duration:500,strip_scroll_to_thumb_easing:"easeOutCubic",strip_control_avia:true,strip_control_touch:true,strip_padding_top:0,strip_padding_bottom:0,strip_padding_left:0,strip_padding_right:0};var m={isRunOnce:false,is_placed:false,isNotFixedThumbs:false,handle:null};var v={stripSize:0,stripActiveSize:0,stripInnerSize:0,thumbSize:0,thumbSecondSize:0};this.events={STRIP_MOVE:"stripmove",INNER_SIZE_CHANGE:"size_change"};var b={strip_thumbs_align:"top",thumb_resize_by:"width"};this.setHtml=function(e){if(!e){var e=s;if(p.parent_container!=null)e=p.parent_container}e.append("<div class='ug-thumbs-strip'><div class='ug-thumbs-strip-inner'></div></div>");u=e.children(".ug-thumbs-strip");d=u.children(".ug-thumbs-strip-inner");h.setHtmlThumbs(d);if(m.isNotFixedThumbs==true)h.hideThumbs()};function e(){}function y(e,t){a=e.getObjects();r=e;r.attachThumbsPanel("strip",l);n=jQuery(e);s=a.g_objWrapper;o=a.g_arrItems;p=jQuery.extend(p,t);c=p.strip_vertical_type;if(c==true){p=jQuery.extend(p,b);p=jQuery.extend(p,t);t.thumb_resize_by="width"}h.init(e,t);I()}function I(){var e=h.getOptions();m.isNotFixedThumbs=e.thumb_fixed_size===false;c=p.strip_vertical_type}function t(){h.setHtmlProperties();E();P();S();if(m.isRunOnce==false){if(p.strip_control_touch==true){_=new UGTouchThumbsControl;_.init(l)}if(p.strip_control_avia==true){f=new UGAviaControl;f.init(l)}z();h.loadThumbsImages();G()}m.isRunOnce=true}function w(e){v.stripSize=e;if(c==false)v.stripActiveSize=v.stripSize-p.strip_padding_left-p.strip_padding_right;else v.stripActiveSize=v.stripSize-p.strip_padding_top-p.strip_padding_bottom;if(v.stripActiveSize<0)v.stripActiveSize=0}function E(){var e=d.children(".ug-thumb-wrapper");var t=jQuery(e[0]);var i=t.outerWidth();var r=t.outerHeight();var n=h.getOptions();if(c==false){v.thumbSize=i;if(n.thumb_fixed_size==true){v.thumbSecondSize=r}else{v.thumbSecondSize=n.thumb_height}w(u.width());v.stripInnerSize=d.width()}else{v.thumbSize=r;if(n.thumb_fixed_size==true){v.thumbSecondSize=i}else{v.thumbSecondSize=n.thumb_width}w(u.height());v.stripInnerSize=d.height()}}function T(e){if(c==false)d.width(e);else d.height(e);v.stripInnerSize=e;z();jQuery(l).trigger(l.events.INNER_SIZE_CHANGE)}function S(){var e=d.children(".ug-thumb-wrapper");var t=0;var r=0;if(c==false)r=p.strip_padding_top;for(i=0;i<e.length;i++){var n=jQuery(e[i]);if(m.isNotFixedThumbs==true){objItem=h.getItemByThumb(n);if(objItem.isLoaded==false)continue;n.show()}g.placeElement(n,t,r);if(c==false)t+=n.outerWidth()+p.strip_space_between_thumbs;else r+=n.outerHeight()+p.strip_space_between_thumbs}if(c==false)var a=t-p.strip_space_between_thumbs;else var a=r-p.strip_space_between_thumbs;T(a)}function P(){if(c==false){var e=v.thumbSecondSize;var t={};t["height"]=e+"px";var i={};i["height"]=e+"px"}else{var r=v.thumbSecondSize;var t={};t["width"]=r+"px";var i={};i["width"]=r+"px"}u.css(t);d.css(i)}function x(e){var t=l.getInnerStripPos();var i=t+e;i=l.fixInnerStripLimits(i);l.positionInnerStrip(i,true)}function j(e){var t=B(e);var i=t.min*-1;i=l.fixInnerStripLimits(i);l.positionInnerStrip(i,true)}function A(e){var t=B(e);var i=t.max*-1+v.stripSize;i=l.fixInnerStripLimits(i);l.positionInnerStrip(i,true)}function C(e){if(Q()==false)return false;var t=W();var i=B(e);if(i.min<t.minPosThumbs){var r=e.prev();if(r.length)j(r);else j(e)}else if(i.max>t.maxPosThumbs){var n=e.next();if(n.length)A(n);else A(e)}}function M(){var e=r.getSelectedItem();if(e==null)return true;var t=e.objThumbWrapper;if(t)C(t)}function O(){if(Q()==false)return false;var e=l.getInnerStripPos();var t=l.fixInnerStripLimits(e);if(e!=t)l.positionInnerStrip(t,true)}function z(){var e=Q();if(e==true){if(f)f.enable();if(_)_.enable()}else{if(f)f.disable();if(_)_.disable()}}function k(){if(Q())return false;if(c==false)g.placeElement(d,p.strip_thumbs_align,0);else g.placeElement(d,0,p.strip_thumbs_align)}function N(){}function L(e){if(l.isTouchMotionActive()){var t=_.isSignificantPassed();if(t==true)return true}var i=h.getItemByThumb(e);r.selectItem(i)}function R(){clearTimeout(m.handle);m.handle=setTimeout(function(){S()},50)}function H(){var e=r.getSelectedItem();h.setThumbSelected(e.objThumbWrapper);C(e.objThumbWrapper)}function G(){h.initEvents();var e=u.find(".ug-thumb-wrapper");e.on("click touchend",function(e){var t=jQuery(this);L(t)});n.on(r.events.ITEM_CHANGE,H);if(m.isNotFixedThumbs){jQuery(h).on(h.events.AFTERPLACEIMAGE,R)}}this.destroy=function(){var e=u.find(".ug-thumb-wrapper");e.off("click");e.off("touchend");n.off(r.events.ITEM_CHANGE);jQuery(h).off(h.events.AFTERPLACEIMAGE);if(_)_.destroy();if(f)f.destroy();h.destroy()};function D(){}function Q(){if(v.stripInnerSize>v.stripActiveSize)return true;else return false}function W(){var e={};var t=l.getInnerStripPos();e.minPosThumbs=t*-1+1;e.maxPosThumbs=t*-1+v.stripSize-1;return e}function B(e){var t={};var i=e.position();if(c==false){t.min=i.left;t.max=i.left+v.thumbSize}else{t.min=i.top;t.max=i.top+v.thumbSize}return t}this.________EXTERNAL_GENERAL___________=function(){};this.init=function(e,t){y(e,t)};this.run=function(){t()};this.positionInnerStrip=function(e,t){if(t===undefined)var t=false;if(c==false)var i={left:e+"px"};else var i={top:e+"px"};if(t==false){d.css(i);l.triggerStripMoveEvent()}else{l.triggerStripMoveEvent();d.stop(true).animate(i,{duration:p.strip_scroll_to_thumb_duration,easing:p.strip_scroll_to_thumb_easing,queue:false,progress:function(){l.triggerStripMoveEvent()},always:function(){l.triggerStripMoveEvent()}})}};this.triggerStripMoveEvent=function(){jQuery(l).trigger(l.events.STRIP_MOVE)};this.isTouchMotionActive=function(){if(!_)return false;var e=_.isTouchActive();return e};this.isItemThumbVisible=function(e){var t=e.objThumbWrapper;var i=t.position();var r=l.getInnerStripPos()*-1;if(c==false){var n=r+v.stripSize;var a=i.left;var s=i.left+t.width()}else{var n=r+v.stripSize;var a=i.top;var s=i.top+t.height()}var o=false;if(s>=r&&a<=n)o=true;return o};this.getInnerStripPos=function(){if(c==false)return d.position().left;else return d.position().top};this.getInnerStripLimits=function(){var e={};if(c==false)e.maxPos=p.strip_padding_left;else e.maxPos=p.strip_padding_top;e.minPos=-(v.stripInnerSize-v.stripActiveSize);return e};this.fixInnerStripLimits=function(e){var t;var i=l.getInnerStripLimits();if(e>i.maxPos)e=i.maxPos;if(e<i.minPos)e=i.minPos;return e};this.scrollForeward=function(){x(-v.stripSize)};this.scrollBack=function(){x(v.stripSize)};this.________EXTERNAL_SETTERS___________=function(){};this.setOptions=function(e){p=jQuery.extend(p,e);h.setOptions(e);I()};this.setSizeVertical=function(e){if(c==false){throw new Error("setSizeVertical error, the strip size is not vertical");return false}var t=v.thumbSecondSize;var i={};i["width"]=t+"px";i["height"]=e+"px";u.css(i);w(e);var r={};r["width"]=t+"px";r["left"]="0px";r["top"]="0px";d.css(r);m.is_placed=true;z()};this.setSizeHorizontal=function(e){if(c==true){throw new Error("setSizeHorizontal error, the strip size is not horizontal");return false}var t=v.thumbSecondSize+p.strip_padding_top+p.strip_padding_bottom;var i={};i["width"]=e+"px";i["height"]=t+"px";u.css(i);w(e);var r=p.strip_padding_left;var n={};n["height"]=t+"px";n["left"]=r+"px";n["top"]="0px";d.css(n);m.is_placed=true;z()};this.setPosition=function(e,t,i,r){g.placeElement(u,e,t,i,r)};this.resize=function(e){if(c==false){u.width(e);v.stripActiveSize=e-p.strip_padding_left-p.strip_padding_right}else{u.height(e);v.stripActiveSize=e-p.strip_padding_top-p.strip_padding_bottom}w(e);z();O();k();M()};this.setThumbUnselected=function(e){h.setThumbUnselected(e)};this.setCustomThumbs=function(e){h.setCustomThumbs(e)};this.________EXTERNAL_GETTERS___________=function(){};this.getObjects=function(){var e=h.getOptions();var t=jQuery.extend(p,e);var i={g_gallery:r,g_objGallery:n,g_objWrapper:s,g_arrItems:o,g_objStrip:u,g_objStripInner:d,g_aviaControl:f,g_touchThumbsControl:_,isVertical:c,g_options:t,g_thumbs:h};return i};this.getObjThumbs=function(){return h};this.getSelectedThumb=function(){var e=r.getSelectedItemIndex();if(e==-1)return null;return h.getThumbByIndex(e)};this.getSizeAndPosition=function(){var e=g.getElementSize(u);return e};this.getHeight=function(){var e=u.outerHeight();return e};this.getWidth=function(){var e=u.outerWidth();return e};this.getSizes=function(){return v};this.isVertical=function(){return c};this.isPlaced=function(){return m.is_placed};this.isMoveEnabled=function(){var e=Q();return e}}function UGTouchThumbsControl(){var E,t,i,r;var n,T,a,S;var s=new UGFunctions;var P={touch_portion_time:200,thumb_touch_slowFactor:0,minDeltaTime:70,minPath:10,limitsBreakAddition:30,returnAnimateSpeed:500,animationEasing:"easeOutCubic",returnAnimationEasing:"easeOutCubic"};var x={touch_active:false,loop_active:false,mousePos:0,innerPos:0,startPos:0,startTime:0,lastTime:0,buttonReleaseTime:0,lastPos:0,lastPortionPos:0,lastDeltaTime:0,lastDeltaPos:0,speed:0,handle:"",touchEnabled:false,isControlEnabled:true};this.enable=function(){x.isControlEnabled=true};this.disable=function(){x.isControlEnabled=false};this.init=function(e){E=e;r=e.getObjects();t=r.g_gallery;i=r.g_objGallery;n=r.g_objStrip;T=r.g_objStripInner;a=r.g_options;S=r.isVertical;l();v()};function o(){var e=jQuery.now();var t={};t.passedTime=x.lastTime-x.startTime;t.lastActiveTime=e-x.buttonReleaseTime;t.passedDistance=x.lastPos-x.startPos;t.passedDistanceAbs=Math.abs(t.passedDistance);return t}this.isSignificantPassed=function(){var e=o();if(e.passedTime>300)return true;if(e.passedDistanceAbs>30)return true;return false};this.isTouchActive=function(){if(x.touch_active==true)return true;if(T.is(":animated")==true)return true;var e=o();if(e.lastActiveTime<50)return true;return false};function l(){P.thumb_touch_slowFactor=s.normalizeSetting(5e-5,.01,1,100,a.strip_thumb_touch_sensetivity,true)}function u(e){if(S==false)return s.getMousePosition(e).pageX;else return s.getMousePosition(e).pageY}function d(e){var t=x.mousePos-e;var i=x.innerPos-t;var r=E.getInnerStripLimits();if(i>r.maxPos){var n=i-r.maxPos;i=r.maxPos+n/3}if(i<r.minPos){var n=r.minPos-i;i=r.minPos-n/3}E.positionInnerStrip(i)}function f(e){var t=E.getInnerStripPos();x.mousePos=e;x.innerPos=t;x.lastPortionPos=t;x.lastDeltaTime=0;x.lastDeltaPos=0;x.startTime=jQuery.now();x.startPos=x.innerPos;x.lastTime=x.startTime;x.lastPos=x.startPos;x.speed=0}function _(){var e=jQuery.now();var t=e-x.lastTime;if(t>=P.touch_portion_time){x.lastDeltaTime=e-x.lastTime;if(x.lastDeltaTime>P.touch_portion_time)x.lastDeltaTime=P.touch_portion_time;x.lastDeltaPos=x.lastPos-x.lastPortionPos;x.lastPortionPos=x.lastPos;x.lastTime=e}}function g(){var e=P.thumb_touch_slowFactor;var t=P.minDeltaTime;var i=P.minPath;var r=E.getInnerStripPos();var n=jQuery.now();var a=n-x.lastTime;var s=r-x.lastPortionPos;if(a<t&&x.lastDeltaTime>0){a=x.lastDeltaTime;s=x.lastDeltaPos+s}if(a<t)a=t;var o=s>0?1:-1;var l=0;if(a>0)l=s/a;var u=l*l/(e*2)*o;if(Math.abs(u)<=i)u=0;var d=E.getInnerStripPos();var f=d+u;var _=E.fixInnerStripLimits(f);var g=E.getInnerStripLimits();var c=P.limitsBreakAddition;var h=false;var p=_;if(f>g.maxPos){h=true;_=c;if(f<c)_=f}if(f<g.minPos){h=true;var m=g.minPos-c;_=m;if(f>m)_=f}var v=_-d;var b=Math.abs(Math.round(l/e));if(u!=0)b=b*v/u;if(d!=_){var y={left:_+"px"};if(S==true)y={top:_+"px"};T.animate(y,{duration:b,easing:P.animationEasing,queue:true,progress:j})}if(h==true){var I=P.returnAnimateSpeed;var w={left:p+"px"};if(S==true)w={top:p+"px"};T.animate(w,{duration:I,easing:P.returnAnimationEasing,queue:true,progress:j})}}function j(){x.lastPos=E.getInnerStripPos();E.triggerStripMoveEvent()}function c(){if(x.loop_active==true)return true;x.loop_active=true;x.handle=setInterval(_,10)}function h(e){if(x.loop_active==false)return true;if(e){var t=u(e);g(t)}x.loop_active=false;x.handle=clearInterval(x.handle)}function e(e){if(x.isControlEnabled==false)return true;x.buttonReleaseTime=jQuery.now();if(x.touch_active==false){h(e);return true}e.preventDefault();x.touch_active=false;h(e);n.removeClass("ug-dragging")}function p(e){if(x.isControlEnabled==false)return true;e.preventDefault();x.touch_active=true;var t=u(e);T.stop(true);f(t);c();n.addClass("ug-dragging")}function m(e){if(x.isControlEnabled==false)return true;if(x.touch_active==false)return true;e.preventDefault();if(e.buttons==0){x.touch_active=false;h(e);return true}var t=u(e);x.lastPos=E.getInnerStripPos();d(t);_()}function v(){n.bind("mousedown touchstart",p);jQuery(window).add("body").bind("mouseup touchend",e);jQuery("body").bind("mousemove touchmove",m)}this.destroy=function(){n.unbind("mousedown");n.unbind("touchstart");jQuery(window).add("body").unbind("mouseup").unbind("touchend");jQuery("body").unbind("mousemove").unbind("touchmove")}}function UGPanelsBase(){var a,s,r,o,l;var u=new UniteGalleryMain;var i=this,n,d;var f=new UGFunctions;this.init=function(e,t,i,r,n){a=t;s=i;u=e;o=r;l=n;d=jQuery(u)};this.setHtml=function(e){r=e;if(a.panelType=="strip")var t=o.strippanel_enable_handle;else var t=o.gridpanel_enable_handle;if(t==true){n=new UGPanelHandle;n.init(s,r,o,a.panelType,u);n.setHtml()}if(a.isDisabledAtStart===true){var i="<div class='ug-overlay-disabled'></div>";r.append(i);setTimeout(function(){r.children(".ug-overlay-disabled").hide()},a.disabledAtStartTimeout)}};this.placeElements=function(){if(n)n.placeHandle()};this.initEvents=function(){if(n){n.initEvents();d.on(u.events.SLIDER_ACTION_START,function(){n.hideHandle()});d.on(u.events.SLIDER_ACTION_END,function(){n.showHandle()})}};this.destroy=function(){if(n){n.destroy();d.off(u.events.SLIDER_ACTION_START);d.off(u.events.SLIDER_ACTION_END)}};function _(e,t){switch(a.orientation){case"right":case"left":var i={left:e+"px"};break;case"top":case"bottom":var i={top:e+"px"};break}r.stop(true).animate(i,{duration:300,easing:"easeInOutQuad",queue:false,complete:function(){if(t)t()}})}function g(e){switch(a.orientation){case"right":case"left":f.placeElement(r,e,null);break;case"top":case"bottom":f.placeElement(r,null,e);break}}function c(){l.trigger(s.events.FINISH_MOVE)}this.openPanel=function(e){if(!e)var e=false;if(r.is(":animated"))return false;if(a.isClosed==false)return false;a.isClosed=false;l.trigger(s.events.OPEN_PANEL);if(e===false)_(a.originalPos,c);else{g(a.originalPos);c()}};this.closePanel=function(e){if(!e)var e=false;if(r.is(":animated"))return false;if(a.isClosed==true)return false;var t=i.getClosedPanelDest();a.isClosed=true;l.trigger(s.events.CLOSE_PANEL);if(e===false)_(t,c);else{g(t);c()}};this.setClosedState=function(e){a.originalPos=e;l.trigger(s.events.CLOSE_PANEL);a.isClosed=true};this.setOpenedState=function(e){l.trigger(s.events.OPEN_PANEL);a.isClosed=false};this.getClosedPanelDest=function(){var e=f.getElementSize(r),t;switch(a.orientation){case"left":a.originalPos=e.left;t=-a.panelWidth;break;case"right":a.originalPos=e.left;var i=u.getSize();t=i.width;break;case"top":a.originalPos=e.top;t=-a.panelHeight;break;case"bottom":a.originalPos=e.top;var i=u.getSize();t=i.height;break}return t};this.isPanelClosed=function(){return a.isClosed};this.setDisabledAtStart=function(e){if(e<=0)return false;a.isDisabledAtStart=true;a.disabledAtStartTimeout=e}}function UGPanelHandle(){var e=this,o,l,i,t={};var r=new UGFunctions;var u={panel_handle_align:"top",panel_handle_offset:0,panel_handle_skin:0};this.init=function(e,t,i,r,n){l=e;o=t;switch(r){case"grid":u.panel_handle_align=i.gridpanel_handle_align;u.panel_handle_offset=i.gridpanel_handle_offset;u.panel_handle_skin=i.gridpanel_handle_skin;break;case"strip":u.panel_handle_align=i.strippanel_handle_align;u.panel_handle_offset=i.strippanel_handle_offset;u.panel_handle_skin=i.strippanel_handle_skin;break;default:throw new Error("Panel handle error: wrong panel type: "+r);break}var a=n.getOptions();var s=a.gallery_skin;if(u.panel_handle_skin=="")u.panel_handle_skin=s};this.setHtml=function(){var e=l.getOrientation();var t="ug-panel-handle-tip";switch(e){case"right":t+=" ug-handle-tip-left";break;case"left":t+=" ug-handle-tip-right";break;case"bottom":t+=" ug-handle-tip-top";break;case"top":t+=" ug-handle-tip-bottom";break}o.append("<div class='"+t+" ug-skin-"+u.panel_handle_skin+"'></div>");i=o.children(".ug-panel-handle-tip")};function n(){i.removeClass("ug-button-hover")}function a(){i.addClass("ug-button-closed")}function s(){i.removeClass("ug-button-closed")}function d(e){e.stopPropagation();e.stopImmediatePropagation();if(r.validateClickTouchstartEvent(e.type)==false)return true;if(l.isPanelClosed())l.openPanel();else l.closePanel()}this.initEvents=function(){r.addClassOnHover(i);i.bind("click touchstart",d);jQuery(l).on(l.events.OPEN_PANEL,function(){n();s()});jQuery(l).on(l.events.CLOSE_PANEL,function(){n();a()})};this.destroy=function(){r.destroyButton(i);jQuery(l).off(l.events.OPEN_PANEL);jQuery(l).off(l.events.CLOSE_PANEL)};function f(){var e=l.getOrientation();switch(e){case"right":case"left":if(u.panel_handle_align!="top"&&u.panel_handle_align!="bottom")u.panel_handle_align="top";break;case"bottom":if(u.panel_handle_align!="left"&&u.panel_handle_align!="right")u.panel_handle_align="left";break;case"top":if(u.panel_handle_align!="left"&&u.panel_handle_align!="right")u.panel_handle_align="right";break}}this.placeHandle=function(){var e=r.getElementSize(i);f();var t=l.getOrientation();switch(t){case"left":r.placeElement(i,"right",u.panel_handle_align,-e.width);break;case"right":r.placeElement(i,-e.width,u.panel_handle_align,0,u.panel_handle_offset);break;case"top":r.placeElement(i,u.panel_handle_align,"bottom",u.panel_handle_offset,-e.height);break;case"bottom":r.placeElement(i,u.panel_handle_align,"top",u.panel_handle_offset,-e.height);break;default:throw new Error("Wrong panel orientation: "+t);break}};this.hideHandle=function(){if(i.is(":visible")==true)i.hide()};this.showHandle=function(){if(i.is(":visible")==false)i.show()}}function UGStripPanel(){var a=this,s=jQuery(this);var o=new UniteGalleryMain,l,u,d;var f=new UGFunctions,_=new UGThumbsStrip,g=new UGPanelsBase;var c,h;this.events={FINISH_MOVE:"gridpanel_move_finish",OPEN_PANEL:"open_panel",CLOSE_PANEL:"close_panel"};var p={strippanel_vertical_type:false,strippanel_padding_top:8,strippanel_padding_bottom:8,strippanel_padding_left:0,strippanel_padding_right:0,strippanel_enable_buttons:true,strippanel_buttons_skin:"",strippanel_padding_buttons:2,strippanel_buttons_role:"scroll_strip",strippanel_enable_handle:true,strippanel_handle_align:"top",strippanel_handle_offset:0,strippanel_handle_skin:"",strippanel_background_color:""};var m={strip_vertical_type:true,strippanel_padding_left:8,strippanel_padding_right:8,strippanel_padding_top:0,strippanel_padding_bottom:0};var v={strippanel_padding_left:8,strippanel_padding_right:8,strippanel_padding_top:8,strippanel_padding_bottom:8};var b={panelType:"strip",panelWidth:0,panelHeight:0,isEventsInited:false,isClosed:false,orientation:null,originalPos:null,isFirstRun:true};function i(e,t){o=e;l=jQuery(o);p=jQuery.extend(p,t);var i=false;if(p.strippanel_vertical_type==true){p=jQuery.extend(p,m);i=true}if(p.strippanel_enable_buttons==false){p=jQuery.extend(p,v);i=true}if(i==true)p=jQuery.extend(p,t);var r=o.getOptions();var n=r.gallery_skin;if(p.strippanel_buttons_skin=="")p.strippanel_buttons_skin=n;u=o.getElement();g.init(o,b,a,p,s);_=new UGThumbsStrip;_.init(o,p)}function e(){if(p.strippanel_vertical_type==false){if(b.panelWidth==0){throw new Error("Strip panel error: The width not set, please set width");return false}}else{if(b.panelHeight==0){throw new Error("Strip panel error: The height not set, please set height");return false}}if(b.orientation==null){throw new Error("Wrong orientation, please set panel orientation before run");return false}return true}function t(){if(b.isFirstRun==true&&e()==false)return false;_.run();w();S();O();b.isFirstRun=false;A()}function r(e){if(!e)var e=u;e.append("<div class='ug-strip-panel'></div>");d=e.children(".ug-strip-panel");if(p.strippanel_enable_buttons==true){var t="ug-strip-arrow-left";var i="ug-strip-arrow-right";if(p.strippanel_vertical_type==true){t="ug-strip-arrow-up";i="ug-strip-arrow-down"}d.append("<div class='ug-strip-arrow "+t+" ug-skin-"+p.strippanel_buttons_skin+"'><div class='ug-strip-arrow-tip'></div></div>");d.append("<div class='ug-strip-arrow "+i+" ug-skin-"+p.strippanel_buttons_skin+"'><div class='ug-strip-arrow-tip'></div></div>")}g.setHtml(d);_.setHtml(d);if(p.strippanel_enable_buttons==true){h=d.children("."+t);c=d.children("."+i)}n()}function n(){if(p.strippanel_background_color!="")d.css("background-color",p.strippanel_background_color)}function y(){var e=_.getHeight();var t=b.panelWidth;if(c){h.height(e);c.height(e);var i=h.children(".ug-strip-arrow-tip");f.placeElement(i,"center","middle");var r=c.children(".ug-strip-arrow-tip");f.placeElement(r,"center","middle")}var n=e+p.strippanel_padding_top+p.strippanel_padding_bottom;d.width(t);d.height(n);b.panelHeight=n;var a=t-p.strippanel_padding_left-p.strippanel_padding_right;if(c){var s=c.outerWidth();a=a-s*2-p.strippanel_padding_buttons*2}_.resize(a)}function I(){var e=_.getWidth();var t=b.panelHeight;if(c){h.width(e);c.width(e);var i=h.children(".ug-strip-arrow-tip");f.placeElement(i,"center","middle");var r=c.children(".ug-strip-arrow-tip");f.placeElement(r,"center","middle")}var n=e+p.strippanel_padding_left+p.strippanel_padding_right;d.width(n);d.height(t);b.panelWidth=n;var a=t-p.strippanel_padding_top-p.strippanel_padding_bottom;if(c){var s=c.outerHeight();a=a-s*2-p.strippanel_padding_buttons*2}_.resize(a)}function w(){if(p.strippanel_vertical_type==false)y();else I()}function E(){if(c){f.placeElement(h,"left","top",p.strippanel_padding_left,p.strippanel_padding_top);f.placeElement(c,"right","top",p.strippanel_padding_right,p.strippanel_padding_top)}var e=p.strippanel_padding_left;if(c)e+=c.outerWidth()+p.strippanel_padding_buttons;_.setPosition(e,p.strippanel_padding_top)}function T(){if(c){f.placeElement(h,"left","top",p.strippanel_padding_left,p.strippanel_padding_top);f.placeElement(c,"left","bottom",p.strippanel_padding_left,p.strippanel_padding_bottom)}var e=p.strippanel_padding_top;if(c)e+=c.outerHeight()+p.strippanel_padding_buttons;_.setPosition(p.strippanel_padding_left,e)}function S(){if(p.strippanel_vertical_type==false)E();else T();g.placeElements()}function P(){}function x(e){if(f.isButtonDisabled(e))return true;if(p.strippanel_buttons_role=="advance_item")o.nextItem();else _.scrollForeward()}function j(e){if(f.isButtonDisabled(e))return true;if(p.strippanel_buttons_role=="advance_item")o.prevItem();else _.scrollBack()}function A(){if(!c)return true;if(_.isMoveEnabled()==false){f.disableButton(h);f.disableButton(c);return true}var e=_.getInnerStripLimits();var t=_.getInnerStripPos();if(t>=e.maxPos){f.disableButton(h)}else{f.enableButton(h)}if(t<=e.minPos)f.disableButton(c);else f.enableButton(c)}function C(){A()}function M(){if(o.isLastItem())f.disableButton(c);else f.enableButton(c);if(o.isFirstItem())f.disableButton(h);else f.enableButton(h)}function O(){if(b.isEventsInited==true)return false;b.isEventsInited=true;if(c){f.addClassOnHover(c,"ug-button-hover");f.addClassOnHover(h,"ug-button-hover");f.setButtonOnClick(h,j);f.setButtonOnClick(c,x);if(p.strippanel_buttons_role!="advance_item"){jQuery(_).on(_.events.STRIP_MOVE,C);jQuery(_).on(_.events.INNER_SIZE_CHANGE,A);l.on(o.events.SIZE_CHANGE,A)}else{var e=o.getOptions();if(e.gallery_carousel==false)jQuery(o).on(o.events.ITEM_CHANGE,M)}}g.initEvents()}this.destroy=function(){if(c){f.destroyButton(c);f.destroyButton(h);jQuery(_).off(_.events.STRIP_MOVE);jQuery(o).off(o.events.ITEM_CHANGE);jQuery(o).off(o.events.SIZE_CHANGE)}g.destroy();_.destroy()};this.getOrientation=function(){return b.orientation};this.setOrientation=function(e){b.orientation=e};this.init=function(e,t){i(e,t)};this.run=function(){t()};this.setHtml=function(e){r(e)};this.getElement=function(){return d};this.getSize=function(){var e=f.getElementSize(d);return e};this.setWidth=function(e){b.panelWidth=e};this.setHeight=function(e){b.panelHeight=e};this.resize=function(e){a.setWidth(e);w();S()};this.__________Functions_From_Base_____=function(){};this.isPanelClosed=function(){return g.isPanelClosed()};this.getClosedPanelDest=function(){return g.getClosedPanelDest()};this.openPanel=function(e){g.openPanel(e)};this.closePanel=function(e){g.closePanel(e)};this.setOpenedState=function(e){g.setOpenedState(e)};this.setClosedState=function(e){g.setClosedState(e)};this.setCustomThumbs=function(e){_.setCustomThumbs(e)};this.setDisabledAtStart=function(e){g.setDisabledAtStart(e)}}function UGGridPanel(){var a=this,s=jQuery(this);var o=new UniteGalleryMain,e,l,r;var f=new UGFunctions;var _=new UGThumbsGrid;var u=new UGPanelsBase;var g,c;this.events={FINISH_MOVE:"gridpanel_move_finish",OPEN_PANEL:"open_panel",CLOSE_PANEL:"close_panel"};var h={gridpanel_vertical_scroll:true,gridpanel_grid_align:"middle",gridpanel_padding_border_top:10,gridpanel_padding_border_bottom:4,gridpanel_padding_border_left:10,gridpanel_padding_border_right:10,gridpanel_arrows_skin:"",gridpanel_arrows_align_vert:"middle",gridpanel_arrows_padding_vert:4,gridpanel_arrows_align_hor:"center",gridpanel_arrows_padding_hor:10,gridpanel_space_between_arrows:20,gridpanel_arrows_always_on:false,gridpanel_enable_handle:true,gridpanel_handle_align:"top",gridpanel_handle_offset:0,gridpanel_handle_skin:"",gridpanel_background_color:""};var d={gridpanel_grid_align:"middle",gridpanel_padding_border_top:2,gridpanel_padding_border_bottom:2};var p={gridpanel_grid_align:"center"};var m={panelType:"grid",isHorType:false,arrowsVisible:false,panelHeight:0,panelWidth:0,originalPosX:null,isEventsInited:false,isClosed:false,orientation:null};function i(e,t){o=e;v();if(t&&t.vertical_scroll){h.gridpanel_vertical_scroll=t.vertical_scroll}h=jQuery.extend(h,t);if(m.isHorType==true){h=jQuery.extend(h,p);h=jQuery.extend(h,t)}else if(h.gridpanel_vertical_scroll==true){h=jQuery.extend(h,d);h=jQuery.extend(h,t);h.grid_panes_direction="bottom"}var i=o.getOptions();var r=i.gallery_skin;if(h.gridpanel_arrows_skin=="")h.gridpanel_arrows_skin=r;var n=e.getObjects();l=n.g_objWrapper;u.init(o,m,a,h,s);_=new UGThumbsGrid;_.init(o,h)}function v(){if(m.orientation==null)throw new Error("Wrong orientation, please set panel orientation before run")}function t(){v();y();_.run();T();S();D();A()}function n(){l.append("<div class='ug-grid-panel'></div>");r=l.children(".ug-grid-panel");if(m.isHorType){r.append("<div class='grid-arrow grid-arrow-left-hortype ug-skin-"+h.gridpanel_arrows_skin+"'></div>");r.append("<div class='grid-arrow grid-arrow-right-hortype ug-skin-"+h.gridpanel_arrows_skin+"'></div>");c=r.children(".grid-arrow-left-hortype");g=r.children(".grid-arrow-right-hortype")}else if(h.gridpanel_vertical_scroll==false){r.append("<div class='grid-arrow grid-arrow-left ug-skin-"+h.gridpanel_arrows_skin+"'></div>");r.append("<div class='grid-arrow grid-arrow-right ug-skin-"+h.gridpanel_arrows_skin+"'></div>");c=r.children(".grid-arrow-left");g=r.children(".grid-arrow-right")}else{r.append("<div class='grid-arrow grid-arrow-up ug-skin-"+h.gridpanel_arrows_skin+"'></div>");r.append("<div class='grid-arrow grid-arrow-down ug-skin-"+h.gridpanel_arrows_skin+"'></div>");c=r.children(".grid-arrow-up");g=r.children(".grid-arrow-down")}u.setHtml(r);c.fadeTo(0,0);g.fadeTo(0,0);_.setHtml(r);b()}function b(){if(h.gridpanel_background_color!="")r.css("background-color",h.gridpanel_background_color)}function y(){if(h.gridpanel_grid_align=="center")h.gridpanel_grid_align="middle"}function I(e,t){var i={left:e+"px"};r.stop(true).animate(i,{duration:300,easing:"easeInOutQuad",queue:false,complete:function(){if(t)t()}})}function w(){var e=h.gridpanel_padding_border_top+h.gridpanel_padding_border_bottom;var t=m.panelHeight-e;if(h.gridpanel_arrows_always_on==false){var i=_.getNumPanesEstimationByHeight(t);if(i==1)return t}var r=f.getElementSize(g);var n=r.height;var e=n+h.gridpanel_arrows_padding_vert;if(h.gridpanel_vertical_scroll==true)e*=2;e+=h.gridpanel_padding_border_top+h.gridpanel_padding_border_bottom;t=m.panelHeight-e;return t}function E(){var e=h.gridpanel_padding_border_left+h.gridpanel_padding_border_right;var t=m.panelWidth-e;if(h.gridpanel_arrows_always_on==false){var i=_.getNumPanesEstimationByWidth(t);if(i==1)return t}var r=f.getElementSize(g);var n=r.width;e+=(n+h.gridpanel_arrows_padding_hor)*2;t=m.panelWidth-e;return t}function T(){var e=false;if(h.gridpanel_arrows_always_on==true){e=true}else{var t=_.getNumPanes();if(t>1)e=true}if(e==true){g.show().fadeTo(0,1);c.show().fadeTo(0,1);m.arrowsVisible=true}else{g.hide();c.hide();m.arrowsVisible=false}}function S(){var e=_.getSize();if(m.isHorType==true)m.panelHeight=e.height+h.gridpanel_padding_border_top+h.gridpanel_padding_border_bottom;else m.panelWidth=e.width+h.gridpanel_padding_border_left+h.gridpanel_padding_border_right;f.setElementSize(r,m.panelWidth,m.panelHeight)}function P(e){switch(m.orientation){case"right":case"left":f.placeElement(r,e,null);break}}function x(){}function j(){s.trigger(a.events.FINISH_MOVE)}function A(){if(m.isEventsInited==true)return false;m.isEventsInited=true;if(c){f.addClassOnHover(c);_.attachPrevPaneButton(c)}if(g){f.addClassOnHover(g);_.attachNextPaneButton(g)}u.initEvents()}this.destroy=function(){if(c)f.destroyButton(c);if(g)f.destroyButton(g);u.destroy();_.destroy()};function C(){}function M(){var e=h.gridpanel_padding_border_left;return e}function O(){var e=h.gridpanel_grid_align,t=0;switch(e){case"top":t=h.gridpanel_padding_border_top;break;case"bottom":t=h.gridpanel_padding_border_bottom;break}var i=M();var r=_.getElement();f.placeElement(r,i,e,0,t)}function z(){var e,t,i,r;var n=f.getElementSize(c);var a=_.getSize();switch(h.gridpanel_grid_align){default:case"top":e=h.gridpanel_padding_border_top+n.height+h.gridpanel_arrows_padding_vert;break;case"middle":e="middle";break;case"bottom":e=m.panelHeight-a.height-n.height-h.gridpanel_padding_border_bottom-h.gridpanel_arrows_padding_vert;break}var s=M();var o=_.getElement();f.placeElement(o,s,e);var a=_.getSize();switch(h.gridpanel_arrows_align_vert){default:case"center":case"middle":t=(a.top-n.height)/2;i=a.bottom+(m.panelHeight-a.bottom-n.height)/2;r=0;break;case"grid":t=a.top-n.height-h.gridpanel_arrows_padding_vert_vert;i=a.bottom+h.gridpanel_arrows_padding_vert;r=0;break;case"border":case"borders":t=h.gridpanel_padding_border_top;i="bottom";r=h.gridpanel_padding_border_bottom;break}f.placeElement(c,"center",t);f.placeElement(g,"center",i,0,r)}function k(){if(m.arrowsVisible==true)z();else O()}function N(){var e,t,i,r;var n=f.getElementSize(c);var a=_.getSize();var s=h.gridpanel_padding_border_top;switch(h.gridpanel_grid_align){case"middle":switch(h.gridpanel_arrows_align_vert){default:var o=a.height+h.gridpanel_arrows_padding_vert+n.height;s=(m.panelHeight-o)/2;break;case"border":case"borders":var l=m.panelHeight-n.height-h.gridpanel_padding_border_bottom;s=(l-a.height)/2;break}break;case"bottom":var o=a.height+n.height+h.gridpanel_arrows_padding_vert;s=m.panelHeight-o-h.gridpanel_padding_border_bottom;break}var u=_.getElement();var d=M();f.placeElement(u,d,s);var a=_.getSize();switch(h.gridpanel_arrows_align_vert){default:case"center":case"middle":e=a.bottom+(m.panelHeight-a.bottom-n.height)/2;i=0;break;case"grid":e=a.bottom+h.gridpanel_arrows_padding_vert;i=0;break;case"border":case"borders":e="bottom";i=h.gridpanel_padding_border_bottom;break}t=-n.width/2-h.gridpanel_space_between_arrows/2;f.placeElement(c,"center",e,t,i);var r=Math.abs(t);f.placeElement(g,"center",e,r,i)}function L(){if(m.arrowsVisible==true)N();else O()}function R(){var e,t,i,r;var n=f.getElementSize(c);var a=_.getSize();switch(h.gridpanel_grid_align){default:case"left":e=h.gridpanel_padding_border_left+h.gridpanel_arrows_padding_hor+n.width;break;case"middle":case"center":e="center";break;case"right":e=m.panelWidth-a.width-n.width-h.gridpanel_padding_border_right-h.gridpanel_arrows_padding_hor;break}var s=_.getElement();f.placeElement(s,e,h.gridpanel_padding_border_top);a=_.getSize();switch(h.gridpanel_arrows_align_vert){default:case"center":case"middle":r=(a.height-n.height)/2+a.top;break;case"top":r=h.gridpanel_padding_border_top+h.gridpanel_arrows_padding_vert;break;case"bottom":r=m.panelHeight-h.gridpanel_padding_border_bottom-h.gridpanel_arrows_padding_vert-n.height;break}switch(h.gridpanel_arrows_align_hor){default:case"borders":t=h.gridpanel_padding_border_left;i=m.panelWidth-h.gridpanel_padding_border_right-n.width;break;case"grid":t=a.left-h.gridpanel_arrows_padding_hor-n.width;i=a.right+h.gridpanel_arrows_padding_hor;break;case"center":t=(a.left-n.width)/2;i=a.right+(m.panelWidth-a.right-n.width)/2;break}f.placeElement(c,t,r);f.placeElement(g,i,r)}function H(){var e;var t=_.getSize();switch(h.gridpanel_grid_align){default:case"left":e=h.gridpanel_padding_border_left;break;case"middle":case"center":e="center";break;case"right":e=m.panelWidth-t.width-h.gridpanel_padding_border_right;break}var i=_.getElement();f.placeElement(i,e,h.gridpanel_padding_border_top)}function G(){if(m.arrowsVisible==true)R();else H()}function D(){if(m.isHorType==false){if(h.gridpanel_vertical_scroll==true)k();else L()}else{G()}u.placeElements()}this.getOrientation=function(){return m.orientation};this.setOrientation=function(e){m.orientation=e;switch(e){case"right":case"left":m.isHorType=false;break;case"top":case"bottom":m.isHorType=true;break;default:throw new Error("Wrong grid panel orientation: "+e);break}};this.setHeight=function(e){if(m.isHorType==true)throw new Error("setHeight is not appliable to this orientatio ("+m.orientation+"). Please use setWidth");m.panelHeight=e;var t=w();_.setMaxHeight(t)};this.setWidth=function(e){if(m.isHorType==false)throw new Error("setWidth is not appliable to this orientatio ("+m.orientation+"). Please use setHeight");m.panelWidth=e;var t=E();_.setMaxWidth(t)};this.init=function(e,t){i(e,t)};this.setHtml=function(){n()};this.run=function(){t()};this.getElement=function(){return r};this.getSize=function(){var e=f.getElementSize(r);return e};this.__________Functions_From_Base_____=function(){};this.isPanelClosed=function(){return u.isPanelClosed()};this.getClosedPanelDest=function(){return u.getClosedPanelDest()};this.openPanel=function(e){u.openPanel(e)};this.closePanel=function(e){u.closePanel(e)};this.setOpenedState=function(e){u.setOpenedState(e)};this.setClosedState=function(e){u.setClosedState(e)};this.setDisabledAtStart=function(e){u.setDisabledAtStart(e)}}function UGThumbsGrid(){var a=this,r=jQuery(this);var o=new UniteGalleryMain,n,s,l;var m=new UGFunctions,u,v,b;var d=new UGThumbsGeneral,f=new UGTileDesign;var y={grid_panes_direction:"left",grid_num_cols:2,grid_min_cols:2,grid_num_rows:2,grid_space_between_cols:10,grid_space_between_rows:10,grid_space_between_mobile:10,grid_transition_duration:300,grid_transition_easing:"easeInOutQuad",grid_carousel:false,grid_padding:0,grid_vertical_scroll_ondrag:false};this.events={PANE_CHANGE:"pane_change"};var I={eventSizeChange:"thumb_size_change",isHorizontal:false,isMaxHeight:false,isMaxWidth:false,gridHeight:0,gridWidth:0,innerWidth:0,innerHeight:0,numPanes:0,arrPanes:0,numThumbs:0,currentPane:0,numThumbsInPane:0,isNavigationVertical:false,touchActive:false,startScrollPos:0,isFirstTimeRun:true,isTilesMode:false,storedEventID:"thumbsgrid",tileMaxWidth:null,tileMaxHeight:null,spaceBetweenCols:null,spaceBetweenRows:null};function e(){}function _(e,t,i){s=e.getObjects();o=e;o.attachThumbsPanel("grid",a);n=jQuery(e);l=s.g_objWrapper;u=s.g_arrItems;if(i===true)I.isTilesMode=true;I.numThumbs=u.length;P(t);if(I.isTilesMode==true){f.setFixedMode();f.setApproveClickFunction(V);f.init(e,y);var r=f.getOptions();I.tileMaxHeight=r.tile_height;I.tileMaxWidth=r.tile_width;d=f.getObjThumbs()}else{t.thumb_fixed_size=true;d.init(e,t)}}function t(e){var t=l;if(e)t=e;t.append("<div class='ug-thumbs-grid'><div class='ug-thumbs-grid-inner'></div></div>");v=t.children(".ug-thumbs-grid");b=v.children(".ug-thumbs-grid-inner");if(I.isTilesMode==true)f.setHtml(b);else d.setHtmlThumbs(b)}function g(){if(I.isHorizontal==false){if(I.gridHeight==0)throw new Error("You must set height before run.")}else{if(I.gridWidth==0)throw new Error("You must set width before run.")}}function c(){var e=o.getSelectedItem();g();if(I.isFirstTimeRun==true){te();if(I.isTilesMode==true){p();T();f.run()}else{d.setHtmlProperties();T();d.loadThumbsImages()}}else{if(I.isTilesMode==true){var t=p();if(t==true){T();f.run()}}}C();if(I.isFirstTimeRun==true&&I.isTilesMode){var i=d.getThumbs();i.each(function(e,t){l.trigger(I.eventSizeChange,jQuery(t))});i.fadeTo(0,1)}if(e!=null)S(e.index);r.trigger(a.events.PANE_CHANGE,I.currentPane);I.isFirstTimeRun=false}function h(){if(I.isTilesMode==true)var e=f.getGlobalTileSize();else var e=d.getGlobalThumbSize();return e}function p(){if(I.isTilesMode==false)throw new Error("Dynamic size can be set only in tiles mode");var e=false;var t=o.isMobileMode();var i=I.spaceBetweenCols;if(t==true){I.spaceBetweenCols=y.grid_space_between_mobile;I.spaceBetweenRows=y.grid_space_between_mobile}else{I.spaceBetweenCols=y.grid_space_between_cols;I.spaceBetweenRows=y.grid_space_between_rows}if(I.spaceBetweenCols!=i)e=true;var r=h();var n=r.width;var a=I.tileMaxWidth;var s=m.getNumItemsInSpace(I.gridWidth,I.tileMaxWidth,I.spaceBetweenCols);if(s<y.grid_min_cols){a=m.getItemSizeInSpace(I.gridWidth,y.grid_min_cols,I.spaceBetweenCols)}f.setTileSizeOptions(a);if(a!=n)e=true;return e}function w(){var e=h();var t=e.height;var i=I.gridWidth;var r=y.grid_num_rows*t+(y.grid_num_rows-1)*I.spaceBetweenRows+y.grid_padding*2;I.gridHeight=r;m.setElementSize(v,i,r);m.setElementSize(b,i,r);I.innerWidth=i;I.innerHeight=r}function E(){var e=h();var t=e.width;var i=y.grid_num_cols*t+(y.grid_num_cols-1)*I.spaceBetweenCols+y.grid_padding*2;var r=I.gridHeight;I.gridWidth=i;m.setElementSize(v,i,r);m.setElementSize(b,i,r);I.innerWidth=i;I.innerHeight=r}function T(){if(I.isHorizontal==false)E();else w()}function S(e){var t=B(e);if(t==-1)return false;a.gotoPane(t,"scroll")}function P(e){y=jQuery.extend(y,e);d.setOptions(e);I.isNavigationVertical=y.grid_panes_direction=="top"||y.grid_panes_direction=="bottom";I.spaceBetweenCols=y.grid_space_between_cols;I.spaceBetweenRows=y.grid_space_between_rows}function x(){var e=b.children(".ug-thumb-wrapper");var t=0;var r=0;var n=0;var a=0;var s=0,o=0;I.innerWidth=0;I.numPanes=1;I.arrPanes=[];I.numThumbsInPane=0;I.arrPanes.push(a);var l=e.length;for(i=0;i<l;i++){var u=jQuery(e[i]);m.placeElement(u,t,r);var d=u.outerWidth();var f=u.outerHeight();if(t>s)s=t;var _=r+f;if(_>o)o=_;var g=s+d;if(g>I.innerWidth)I.innerWidth=g;t+=d+I.spaceBetweenCols;n++;if(n>=y.grid_num_cols){r+=f+I.spaceBetweenRows;t=a;n=0}if(I.numPanes==1)I.numThumbsInPane++;if(r+f>I.gridHeight){r=0;a=I.innerWidth+I.spaceBetweenCols;t=a;n=0;if(I.isMaxHeight==true&&I.numPanes==1){I.gridHeight=o;v.height(I.gridHeight)}if(i<l-1){I.numPanes++;I.arrPanes.push(a)}}}b.width(I.innerWidth);if(I.isMaxHeight==true&&I.numPanes==1){I.gridHeight=o;v.height(o)}}function j(){var e=b.children(".ug-thumb-wrapper");var t=0;var r=0;var n=0;var a=0;var s=0;var o=0;I.innerWidth=0;I.numPanes=1;I.arrPanes=[];I.numThumbsInPane=0;I.arrPanes.push(s);var l=e.length;for(i=0;i<l;i++){var u=jQuery(e[i]);m.placeElement(u,t,r);var d=u.outerWidth();var f=u.outerHeight();t+=d+I.spaceBetweenCols;var _=r+f;if(_>n)n=_;a++;if(a>=y.grid_num_cols){r+=f+I.spaceBetweenRows;t=s;a=0}if(I.numPanes==1)I.numThumbsInPane++;_=r+f;var g=o+I.gridHeight;if(_>g){if(I.isMaxHeight==true&&I.numPanes==1){I.gridHeight=n;v.height(I.gridHeight);g=I.gridHeight}r=g+I.spaceBetweenRows;o=r;s=0;t=s;a=0;if(i<l-1){I.numPanes++;I.arrPanes.push(r)}}}b.height(n);I.innerHeight=n;if(I.isMaxHeight==true&&I.numPanes==1){I.gridHeight=n;v.height(n)}}function A(){var e=b.children(".ug-thumb-wrapper");var t=y.grid_padding;var r=y.grid_padding;var n=r;var a=t;var s=0,o=0,l=0,u=0;var d=0;I.innerWidth=0;I.numPanes=1;I.arrPanes=[];I.numThumbsInPane=0;I.arrPanes.push(t-y.grid_padding);var f=e.length;for(i=0;i<f;i++){var _=jQuery(e[i]);var g=_.outerWidth();var c=_.outerHeight();if(a-t+g>I.gridWidth){d++;n=0;if(d>=y.grid_num_rows){d=0;t=a;n=r;l=0;if(I.numPanes==1){I.gridWidth=s+y.grid_padding;v.width(I.gridWidth);I.gridHeight=u+y.grid_padding;v.height(I.gridHeight)}I.numPanes++;I.arrPanes.push(t-y.grid_padding)}else{a=t;n=l+I.spaceBetweenRows}}m.placeElement(_,a,n);var h=a+g;if(h>s)s=h;var p=n+c;if(p>l)l=p;if(p>u)u=p;if(p>o)o=p;var h=s+g;if(h>I.innerWidth)I.innerWidth=h;a+=g+I.spaceBetweenCols;if(I.numPanes==1)I.numThumbsInPane++}I.innerWidth=s+y.grid_padding;I.innerHeight=u+y.grid_padding;b.width(I.innerWidth);b.height(I.innerHeight);if(I.numPanes==1){I.gridWidth=s+y.grid_padding;I.gridHeight=u+y.grid_padding;v.width(I.gridWidth);v.height(I.gridHeight)}}function C(){if(I.isHorizontal==false){if(I.isNavigationVertical)j();else x()}else{A()}}function M(e){if(e<0||e>=I.numThumbs){throw new Error("Thumb not exists: "+e);return false}return true}function O(e){if(e>=I.numPanes||e<0){throw new Error("Pane "+index+" doesn't exists.");return false}return true}function z(e){var t=Math.abs(e);if(I.isNavigationVertical==false){if(t<0||t>=I.innerWidth){throw new Error("wrong inner x position: "+e);return false}}else{if(t<0||t>=I.innerHeight){throw new Error("wrong inner y position: "+e);return false}}return true}function k(e){var t=D(e);if(t==false)return false;b.css(t)}function N(e){var t=D(e);if(t==false)return false;b.stop(true).animate(t,{duration:y.grid_transition_duration,easing:y.grid_transition_easing,queue:false})}function L(){var e=-I.arrPanes[I.currentPane];N(e)}function R(){}function H(){if(I.isNavigationVertical==true)return I.innerHeight;else return I.innerWidth}function G(){if(I.isNavigationVertical==true)return I.gridHeight;else return I.gridWidth}function D(e){var t={};if(I.isNavigationVertical==true)t.top=e+"px";else t.left=e+"px";return t}function Q(e){var t=m.getMousePosition(e);if(I.isNavigationVertical==true)return t.pageY;else return t.pageX}function W(){var e=m.getElementSize(b);if(I.isNavigationVertical==true)return e.top;else return e.left}function B(e){if(M(e)==false)return-1;var t=Math.floor(e/I.numThumbsInPane);return t}function F(e){var t=I.arrPanes[e];return t}function Y(){if(I.numPanes==1)return false;var e=m.getStoredEventData(I.storedEventID);var t=e.diffTime;var i=W();var r=Math.abs(i-e.startInnerPos);if(r>30)return true;if(r>5&&t>300)return true;return false}function U(){var e=m.getStoredEventData(I.storedEventID);var t=W();diffPos=Math.abs(e.startInnerPos-t);var i=G();var r=Math.round(i*3/8);if(diffPos>=r)return true;if(e.diffTime<300&&diffPos>25)return true;return false}function V(){if(I.numPanes==1)return true;var e=m.isApproveStoredEventClick(I.storedEventID,I.isNavigationVertical);return e}function X(){}function Z(e){if(Y()==true)return true;var t=jQuery(this);var i=d.getItemByThumb(t);o.selectItem(i)}function J(e){if(I.numPanes==1)return true;if(I.touchActive==true)return true;if(I.isTilesMode==false)e.preventDefault();I.touchActive=true;var t={startInnerPos:W()};m.storeEventData(e,I.storedEventID,t)}function q(){if(y.grid_vertical_scroll_ondrag==false)return false;if(I.isNavigationVertical==true)return false;var e=m.handleScrollTop(I.storedEventID);if(e==="vert")return true;return false}function K(e){if(I.touchActive==false)return true;e.preventDefault();m.updateStoredEventData(e,I.storedEventID);var t=m.getStoredEventData(I.storedEventID,I.isNavigationVertical);var i=q();if(i)return true;var r=t.diffMousePos;var n=t.startInnerPos+r;var a=r>0?"prev":"next";var s=I.arrPanes[I.numPanes-1];if(y.grid_carousel==false&&n>0&&a=="prev"){n=n/3}if(y.grid_carousel==false&&n<-s&&a=="next"){n=t.startInnerPos+r/3}k(n)}function $(e){if(I.touchActive==false)return true;m.updateStoredEventData(e,I.storedEventID);var t=m.getStoredEventData(I.storedEventID,I.isNavigationVertical);I.touchActive=false;if(U()==false){L();return true}var i=W();var r=i-t.startInnerPos;var n=r>0?"prev":"next";if(n=="next"){if(y.grid_carousel==false&&a.isLastPane())L();else a.nextPane()}else{if(y.grid_carousel==false&&a.isFirstPane()){L()}else a.prevPane()}}function ee(){var e=o.getSelectedItem();d.setThumbSelected(e.objThumbWrapper);S(e.index)}function te(){if(I.isTilesMode==false){d.initEvents();var e=v.find(".ug-thumb-wrapper");e.on("click touchend",Z);n.on(o.events.ITEM_CHANGE,ee)}else{f.initEvents()}v.bind("mousedown touchstart",J);jQuery("body").bind("mousemove touchmove",K);jQuery(window).add("body").bind("mouseup touchend",$)}this.destroy=function(){if(I.isTilesMode==false){var e=v.find(".ug-thumb-wrapper");e.off("click");e.off("touchend");n.on(o.events.ITEM_CHANGE);d.destroy()}else{f.destroy()}v.unbind("mousedown");v.unbind("touchstart");jQuery("body").unbind("mousemove");jQuery("body").unbind("touchmove");jQuery(window).add("body").unbind("touchend");jQuery(window).add("body").unbind("mouseup");r.off(a.events.PANE_CHANGE)};this.__________EXTERNAL_GENERAL_________=function(){};this.setThumbUnselected=function(e){d.setThumbUnselected(e)};this.isItemThumbVisible=function(e){var t=e.index;var i=B(t);if(i==I.currentPane)return true;return false};this.__________EXTERNAL_API_________=function(){};this.getNumPanesEstimationByHeight=function(e){if(I.isTilesMode==true){var t=y.tile_height}else{var i=d.getOptions();var t=i.thumb_height}var r=d.getNumThumbs();var n=Math.ceil(r/y.grid_num_cols);var a=n*t+(n-1)*I.spaceBetweenRows;var s=Math.ceil(a/e);return s};this.getNumPanesEstimationByWidth=function(e){if(I.isTilesMode){var t=y.tile_width}else{var i=d.getOptions();var t=i.thumb_width}var r=d.getNumThumbs();var n=Math.ceil(r/y.grid_num_rows);var a=n*t+(n-1)*I.spaceBetweenCols;var s=Math.ceil(a/e);return s};this.getHeightEstimationByWidth=function(e){if(I.isTilesMode==false)throw new Error("This function works only with tiles mode");var t=d.getNumThumbs();var i=m.getNumItemsInSpace(e,y.tile_width,I.spaceBetweenCols);var r=Math.ceil(t/i);if(r>y.grid_num_rows)r=y.grid_num_rows;var n=m.getSpaceByNumItems(r,y.tile_height,I.spaceBetweenRows);n+=y.grid_padding*2;return n};this.getElement=function(){return v};this.getSize=function(){var e=m.getElementSize(v);return e};this.getNumPanes=function(){return I.numPanes};this.isFirstPane=function(){if(I.currentPane==0)return true;return false};this.isLastPane=function(){if(I.currentPane==I.numPanes-1)return true;return false};this.getPaneInfo=function(){var e={pane:I.currentPane,total:I.numPanes};return e};this.getPane=function(){return I.currentPane};this.setWidth=function(e){I.gridWidth=e;I.isHorizontal=true};this.setMaxWidth=function(e){I.gridWidth=e;I.isMaxWidth=true;I.isHorizontal=true};this.setHeight=function(e){I.gridHeight=e;I.isHorizontal=false};this.setMaxHeight=function(e){I.gridHeight=e;I.isMaxHeight=true;I.isHorizontal=false};this.gotoPane=function(e,t){if(O(e)==false)return false;if(e==I.currentPane)return false;var i=-I.arrPanes[e];I.currentPane=e;N(i);r.trigger(a.events.PANE_CHANGE,e)};this.nextPane=function(){var e=I.currentPane+1;if(e>=I.numPanes){if(y.grid_carousel==false)return true;e=0}a.gotoPane(e,"next")};this.prevPane=function(){var e=I.currentPane-1;if(e<0){e=I.numPanes-1;if(y.grid_carousel==false)return false}a.gotoPane(e,"prev")};this.attachNextPaneButton=function(e){m.setButtonOnClick(e,a.nextPane);if(y.grid_carousel==true)return true;if(a.isLastPane())e.addClass("ug-button-disabled");r.on(a.events.PANE_CHANGE,function(){if(a.isLastPane())e.addClass("ug-button-disabled");else e.removeClass("ug-button-disabled")})};this.attachPrevPaneButton=function(e){m.setButtonOnClick(e,a.prevPane);if(y.grid_carousel==true)return true;if(a.isFirstPane())e.addClass("ug-button-disabled");r.on(a.events.PANE_CHANGE,function(){if(a.isFirstPane())e.addClass("ug-button-disabled");else e.removeClass("ug-button-disabled")})};this.attachBullets=function(i){i.setActive(I.currentPane);jQuery(i).on(i.events.BULLET_CLICK,function(e,t){a.gotoPane(t,"theme");i.setActive(t)});jQuery(a).on(a.events.PANE_CHANGE,function(e,t){i.setActive(t)})};this.getObjTileDesign=function(){return f};this.init=function(e,t,i){_(e,t,i)};this.run=function(){c()};this.setHtml=function(e){t(e)}}function UGTiles(){var l=this,u=jQuery(this);var f=new UniteGalleryMain,i,r,_;var g=new UGFunctions,n,c=new UGTileDesign;var y=new UGThumbsGeneral,h={};var p,m;var I={tiles_type:"columns",tiles_col_width:250,tiles_align:"center",tiles_exact_width:false,tiles_space_between_cols:3,tiles_space_between_cols_mobile:3,tiles_include_padding:true,tiles_min_columns:2,tiles_max_columns:0,tiles_keep_order:false,tiles_set_initial_height:true,tiles_justified_row_height:150,tiles_justified_space_between:3,tiles_nested_optimal_tile_width:250,tiles_nested_col_width:null,tiles_nested_debug:false,tiles_enable_transition:true};this.events={THUMB_SIZE_CHANGE:"thumb_size_change",TILES_FIRST_PLACED:"tiles_first_placed",ALL_TILES_LOADED:"all_tiles_loaded"};var d={isFirstTimeRun:true,handle:null,isTransActive:false,isTransInited:false,isFirstPlaced:true,isAllLoaded:false};var v={colWidth:null,nestedOptimalCols:5,gridY:0,maxColumns:0,columnsValueToEnableHeightResize:3,resizeLeftRightToColumn:true,currentItem:0,currentGap:null,optimalTileWidth:null,maxGridY:0};function e(){}function a(e,t){g_objects=e.getObjects();f=e;i=jQuery(e);r=g_objects.g_objWrapper;n=g_objects.g_arrItems;I=jQuery.extend(I,t);s();c.init(e,I);y=c.getObjThumbs()}function s(){if(I.tiles_min_columns<1)I.tiles_min_columns=1;if(I.tiles_max_columns!=0&&I.tiles_max_columns<I.tiles_min_columns){I.tiles_max_columns=I.tiles_min_columns}}function t(e){if(!e){if(_)e=_;else var e=r}_=e;var t=I.tiles_type;e.addClass("ug-tiletype-"+t);c.setHtml(e);e.children(".ug-thumb-wrapper").hide()}function b(){_.addClass("ug-tiles-rest-mode");d.isTransInited=true;if(I.tiles_enable_transition==true){_.addClass("ug-tiles-transit");var e=c.getOptions();if(e.tile_enable_image_effect==true&&e.tile_image_effect_reverse==false)_.addClass("ug-tiles-transit-overlays");d.isTransActive=true}}function w(){return g.getElementSize(_).width}function o(){if(d.isTransInited==false)return false;_.addClass("ug-tiles-transition-active");_.removeClass("ug-tiles-rest-mode");if(d.isTransActive==false)return false;c.disableEvents()}function E(){if(d.isTransInited==false)return false;_.removeClass("ug-tiles-transition-active");_.addClass("ug-tiles-rest-mode")}function T(){if(d.isTransActive==true){setTimeout(function(){c.enableEvents();c.triggerSizeChangeEventAllTiles();E()},800);if(d.handle)clearTimeout(d.handle);d.handle=setTimeout(function(){E();c.triggerSizeChangeEventAllTiles();d.handle=null},2e3)}else{c.triggerSizeChangeEventAllTiles();E()}}function S(){}function P(){h.colWidth=(h.availWidth-h.colGap*(h.numCols-1))/h.numCols;h.colWidth=Math.floor(h.colWidth);h.totalWidth=g.getSpaceByNumItems(h.numCols,h.colWidth,h.colGap)}function x(){h.colWidth=I.tiles_col_width;h.minCols=I.tiles_min_columns;h.maxCols=I.tiles_max_columns;if(f.isMobileMode()==false){h.colGap=I.tiles_space_between_cols}else{h.colGap=I.tiles_space_between_cols_mobile}h.galleryWidth=w();h.availWidth=h.galleryWidth;if(I.tiles_include_padding==true)h.availWidth=h.galleryWidth-h.colGap*2;if(I.tiles_exact_width==true){h.numCols=g.getNumItemsInSpace(h.availWidth,h.colWidth,h.colGap);if(h.maxCols>0&&h.numCols>h.maxCols)h.numCols=h.maxCols;if(h.numCols<h.minCols){h.numCols=h.minCols;P()}else{h.totalWidth=h.numCols*(h.colWidth+h.colGap)-h.colGap}}else{var e=g.getNumItemsInSpaceRound(h.availWidth,h.colWidth,h.colGap);if(e<h.minCols)e=h.minCols;else if(h.maxCols!=0&&e>h.maxCols)e=h.maxCols;h.numCols=e;P()}switch(I.tiles_align){case"center":default:h.addX=Math.round((h.galleryWidth-h.totalWidth)/2);break;case"left":h.addX=0;break;case"right":h.addX=h.galleryWidth-h.totalWidth;break}h.arrPosx=[];for(col=0;col<h.numCols;col++){var t=g.getColX(col,h.colWidth,h.colGap);h.arrPosx[col]=t+h.addX}}function j(){h.maxColHeight=0;h.colHeights=[0]}function A(){var e=0;var t=999999999;for(col=0;col<h.numCols;col++){if(h.colHeights[col]==undefined||h.colHeights[col]==0)return col;if(h.colHeights[col]<t){e=col;t=h.colHeights[col]}}return e}function C(e,t,i,r){if(r===null||typeof r=="undefined")var r=A();var n=0;if(h.colHeights[r]!==undefined)n=h.colHeights[r];var a=c.getTileHeightByWidth(h.colWidth,e);if(a===null){if(I.tiles_enable_transition==true)throw new Error("Can't know tile height, please turn off transition");var s=g.getElementSize(e);a=s.height}var o=h.arrPosx[r];g.placeElement(e,o,n);var l=n+a;h.colHeights[r]=l+h.colGap;if(h.maxColHeight<l)h.maxColHeight=l;if(t==true)e.show().fadeTo(0,1);if(i==true){_.height(h.maxColHeight)}}function M(e){if(!e)e=false;x();j();var t=y.getThumbs(y.type.GET_THUMBS_RATIO);o();c.resizeAllTiles(h.colWidth,c.resizemode.VISIBLE_ELEMENTS,t);for(var i=0;i<t.length;i++){var r=jQuery(t[i]);var n=undefined;if(I.tiles_keep_order==true)n=g.getColByIndex(h.numCols,i);C(r,e,false,n)}T();var a=_.height();if(d.isTransActive==true&&a>h.maxColHeight)setTimeout(function(){_.height(h.maxColHeight)},700);else _.height(h.maxColHeight)}function O(e){var t=e.index();var i=f.getItem(t);if(i.ordered_placed===true)return false;var r=g.getPrevRowSameColIndex(t,h.numCols);if(r<0)return true;var n=f.getItem(r);if(n.ordered_placed===true)return true;return false}function z(e,t){if(t!==true){var i=O(e);if(i==false)return false}var r=e.index();var n=g.getColByIndex(h.numCols,r);var a=f.getItem(r);c.resizeTile(e,h.colWidth);C(e,true,true,n);a.ordered_placed=true;var s=f.getNumItems();var o=g.getNextRowSameColIndex(r,h.numCols);if(o>=s)return false;var l=y.getThumbByIndex(o);var u=f.getItem(o);var d=y.isThumbLoaded(l);if(y.isThumbLoaded(l)&&!u.ordered_placed)z(l,true)}function k(e,t){if(t==true)return false;e=jQuery(e);var i=jQuery(e).parent();y.triggerImageLoadedEvent(i,e);if(I.tiles_keep_order==true){z(i)}else{c.resizeTile(i,h.colWidth);C(i,true,true)}}function N(){var e=y.getThumbs(y.type.GET_THUMBS_NO_RATIO);if(!e||e.length==0)return false;d.isAllLoaded=false;if(d.isFirstPlaced==true){x();j();var t=Math.abs(h.galleryWidth-h.totalWidth);if(I.tiles_set_initial_height==true&&g.isScrollbarExists()==false&&t<25){var i=e.length;var r=Math.ceil(e.length/h.numCols);var n=r*I.tiles_col_width*.75;_.height(n);x()}}e.fadeTo(0,0);var a=e.find("img.ug-thumb-image");var s=h.numCols;var o=h.galleryWidth;g.checkImagesLoaded(a,function(){x();if(s!=h.numCols||o!=h.galleryWidth){M(false)}b();u.trigger(l.events.ALL_TILES_LOADED)},function(e,t){if(d.isFirstPlaced==true)f.triggerEvent(l.events.TILES_FIRST_PLACED);k(e,t)})}function L(){}function R(){var _=w();var e=y.getThumbs(true);var g=I.tiles_justified_row_height;var c=[];var a=0;var h=I.tiles_justified_space_between;var t=e.length;jQuery.each(e,function(e,t){t=jQuery(t);var i=y.getItemByThumb(t);var r=i.thumbWidth;var n=i.thumbHeight;if(n!==g)r=Math.floor(i.thumbRatioByWidth*g);c[e]=r;a+=r});var i=Math.ceil(a/_);if(i>t)i=t;var r=a/i;var n=[],s=0;var p=[],o=[],l=[];var u=0,d=0;jQuery.each(e,function(e,t){var i=c[e];if(u+i/2>(d+1)*r){p[n.length]=s;n.push(l);l=[];s=0;d++}u+=i;s+=i;l.push(t)});p[n.length]=s;n.push(l);var m=[];var v=[];var b=0;jQuery.each(n,function(e,t){var i=t.length;var r=p[e];var n=(t.length-1)*h;var a=(_-n)/r;var s=Math.round(g*a);b+=s;if(e>0)b+=h;v.push(s);var o=s/g;var l=[];var u=n;jQuery.each(t,function(e,t){var i=jQuery(t);var r=i.index();var n=c[r];var a=Math.round(n*o);l[e]=a;u+=a});var d=u-_;var f=0;jQuery.each(l,function(e,t){if(d==0)return false;if(d<0){l[e]=t+1;d++}else{l[e]=t-1;d--}if(e==l.length-1&&d!=0)l[e]-=d});m[e]=l});var f={arrRows:n,arrRowWidths:m,arrRowHeights:v,gap:h,totalHeight:b};return f}function H(l){if(!l)var l=false;var e=w();var u=R();_.height(u.totalHeight);var t=w();if(t!=e)u=R();o();var d=0;var f=0;jQuery.each(u.arrRows,function(e,t){var a=u.arrRowWidths[e];var s=u.arrRowHeights[e];var o=0;jQuery.each(t,function(e,t){var i=jQuery(t);var r=s;var n=a[e];c.resizeTile(i,n,r,c.resizemode.VISIBLE_ELEMENTS);g.placeElement(i,o,d);o+=n;if(o>f)f=o;o+=u.gap;if(l==true)jQuery(t).show()});d+=s+u.gap});T()}function G(){var e=jQuery(r).find("img.ug-thumb-image");var t=y.getThumbs();d.isAllLoaded=false;t.fadeTo(0,0);g.checkImagesLoaded(e,function(){setTimeout(function(){H(true);t.fadeTo(0,1);f.triggerEvent(l.events.TILES_FIRST_PLACED);b();u.trigger(l.events.ALL_TILES_LOADED)})},function(e,t){e=jQuery(e);var i=jQuery(e).parent();y.triggerImageLoadedEvent(i,e)})}function D(){}function Q(){var e=jQuery(r).find("img.ug-thumb-image");var t=y.getThumbs();d.isAllLoaded=false;t.fadeTo(0,0);g.checkImagesLoaded(e,function(){if(f.isMobileMode()==true){M(true)}else B(true);f.triggerEvent(l.events.TILES_FIRST_PLACED);b();u.trigger(l.events.ALL_TILES_LOADED)},function(e,t){e=jQuery(e);var i=jQuery(e).parent();y.triggerImageLoadedEvent(i,e)})}function W(){var e=w();v.galleryWidth=e;p={};v.colWidth=I.tiles_nested_col_width;v.optimalTileWidth=I.tiles_nested_optimal_tile_width;v.currentGap=I.tiles_space_between_cols;if(f.isMobileMode()==true)v.currentGap=I.tiles_space_between_cols_mobile;if(v.colWidth==null){v.colWidth=Math.floor(v.optimalTileWidth/v.nestedOptimalCols)}else if(v.optimalTileWidth>v.colWidth){v.nestedOptimalCols=Math.ceil(v.optimalTileWidth/v.colWidth)}else{v.nestedOptimalCols=1}v.maxColumns=g.getNumItemsInSpace(e,v.colWidth,v.currentGap);v.colWidth=g.getItemSizeInSpace(e,v.maxColumns,v.currentGap);v.gridY=0;m=[];var t=y.getThumbs(true);t.each(function(){var e=jQuery(this);var t=F(e);m.push(t)});if(v.optimalTileWidth>v.colWidth){v.nestedOptimalCols=Math.ceil(v.optimalTileWidth/v.colWidth)}else{v.nestedOptimalCols=1}v.totalWidth=v.maxColumns*(v.colWidth+v.currentGap)-v.currentGap;switch(I.tiles_align){case"center":default:v.addX=Math.round((v.galleryWidth-v.totalWidth)/2);break;case"left":v.addX=0;break;case"right":v.addX=v.galleryWidth-v.totalWidth;break}v.maxGridY=0}function B(e){var t=w();W();V();var i=v.maxGridY*(v.colWidth+v.currentGap)-v.currentGap;_.height(i);var r=w();if(r!=t){W();V()}if(I.tiles_nested_debug==false)_e(e)}function F(e){var t,i;var r={};var n=v.colWidth;var a=v.currentGap;var s=c.getTileImageSize(e);var o=e.index();var l=Math.ceil(Y(o)*(v.nestedOptimalCols*1/3)+v.nestedOptimalCols*2/3);var u=s.width;var d=s.height;var f=u/d;if(u>d){t=l;i=Math.round(t/f);if(i==0){i=1}}else{i=l;t=Math.round(i*f);if(t==0){t=1}}r.dimWidth=t;r.dimHeight=i;r.width=t*n+a*(t-1);r.height=i*n+a*(i-1);r.imgWidth=u;r.imgHeight=d;r.left=0;r.top=0;return r}function Y(e){return Math.abs(Math.sin(Math.abs(Math.sin(e)*1e3)))}function U(e,t){if(t==false){for(var i=v.currentItem;i<m.length;i++){X(i,true)}v.currentItem=m.length-1}else{X(v.currentItem,true)}for(var i=0;i<=v.currentItem;i++){ge(i,true)}v.currentItem++}function V(e){if(I.tiles_nested_debug==true){if(typeof e==="undefined")e=true;U(true,e);return false}for(var t=0;t<m.length;t++)X(t,true)}function X(e,t){if(!t)var t=false;v.maxColHeight=0;var i=g.getObjectLength(p);for(var r=v.gridY;r<=i+1;r++){for(var n=0;n<v.maxColumns;n++){if(oe(v.gridY)==false||de(v.gridY,n)==false){var a=se(n);Z(e,a,n);return}}v.gridY++}}function Z(e,t,i){var r=jQuery.extend(true,{},m[e]);var n=r.dimWidth;var a=t-r.dimWidth;var s=v.nestedOptimalCols;var o=t<=r.dimWidth||a<=.33*s||t<=s;if(o){ie(e,t)}else if(a<=s){if(s>=4){if(ae(Math.floor(t/2),i)==true){ie(e,Math.floor(t/2)+1)}else{ie(e,Math.floor(t/2))}}else{ie(objImage,t)}}else{if(ae(n,i)==true){switch(n>=s){case true:ie(e,n-1);break;case false:ie(e,n+1);break}}}r=jQuery.extend(true,{},m[e]);var l=ee(e,r.dimWidth,i);if(v.columnsValueToEnableHeightResize<=l[0]&&v.maxColumns>=2*v.nestedOptimalCols){var u=te(i,r);var d=re(e,u.newHeight,true);m[e].dimHeight=d.dimHeight;var f=$(l,d.dimWidth,i);var _=J(f);var g=false;if(_>=2){g=true}if(u.newHeight>=r.dimHeight){r=re(e,u.newHeight,true)}var c=q(u.idToResize,u.newHeight,r.dimHeight);r.top=v.gridY;r.left=i;c.push({tileID:e,sizes:r});var h=ne(c);var p=ne(f);if(h<p||g==true){K(c);return}else{K(f);return}}r.left=i;r.top=v.gridY;m[e]=r;le(e,r,i,v.gridY);v.maxGridY=r.top+r.dimHeight}function J(e){var t=0;var i=0;for(var r=0;r<e.length-1;r++){var n=e[r].sizes;var a=-1;var s=-1;if(oe(n.top+n.dimHeight)&&v.maxColumns>n.left+n.dimWidth){a=p[n.top+n.dimHeight-1][n.left+n.dimWidth];s=p[n.top+n.dimHeight][n.left+n.dimWidth]}if(a!=s){t++}}for(var r=0;r<e.length-1;r++){var n=e[r].sizes;var a=-1;var s=-1;if(oe(n.top+n.dimHeight)&&n.left-1>=0){a=p[n.top+n.dimHeight-1][n.left-1];s=p[n.top+n.dimHeight][n.left-1]}if(a!=s){i++}}return Math.max(i,t)}function q(e,t,i){var r=m[e];var n=r.dimHeight;var a=r.dimWidth;var s=r.left;var o=r.top;var l=parseInt(o/(v.colWidth+v.currentGap));var u=parseInt(s/(v.colWidth+v.currentGap));var d=n-t+i;var f=re(e,d,true);var _=[];_.push({tileID:e,sizes:f});return _}function K(e){for(var t=0;t<e.length;t++){var i=e[t].sizes;var r=e[t].tileID;m[r]=jQuery.extend(true,{},i);le(r,i,i.left,i.top)}}function $(e,t){var i=0;var r=0;var n=[];var a=0,s=0;for(var o=0;o<e[1].length;o++){var l=e[1][o];var u=m[e[1][o]];r+=u.dimHeight;if(o==0){var d=ie(l,t,true);i+=d.dimHeight;n.push([e[1][o],d.dimHeight]);continue}i+=u.dimHeight;n.push([l,u.dimHeight])}a=u.left;s=u.top;var f=r;var _=[];for(var o=n.length-1;o>=0;o--){var l=n[o][0];var g;if(o!=0){g=Math.max(Math.round(r*1/3),Math.floor(n[o][1]*(r/i)));f=f-g;d=re(l,g,true);d.left=a;d.top=s;_.push({tileID:l,sizes:d});s+=d.dimHeight}else{g=f;d=re(l,g,true);d.left=a;d.top=s;_.push({tileID:l,sizes:d})}}return _}function ee(e,t,i){var r=v.gridY-1;var n=0;var a=0;var s=1;var o=[];var l=[];o.push(e);if(r>=0){a=0;while(r>=0){n=p[r][i];if((typeof p[r][i-1]==="undefined"||p[r][i-1]!=p[r][i])&&(typeof p[r][i+t]==="undefined"||p[r][i+t-1]!=p[r][i+t])&&p[r][i]==p[r][i+t-1]){if(a!=n){s++;o.push(n)}}else{l.push(s);l.push(o);return l}r--;a=n}l.push(s);l.push(o);return l}return[0,[]]}function te(e,t){var i=0;var r=0;var n=t.dimWidth;var a=t.dimHeight;var s=0;var o=0;var l=jQuery.map(p,function(e,t){return[e]});if(typeof l[v.gridY]==="undefined"||typeof l[v.gridY][e-1]==="undefined"){r=0}else{var u=0;while(true){if(typeof p[v.gridY+u]!=="undefined"&&p[v.gridY+u][e-1]!=-1){s=p[v.gridY+u][e-2];u++;r++}else{break}}}if(typeof l[v.gridY]==="undefined"||typeof l[v.gridY][e+n]==="undefined"){i=0}else{u=0;while(true){if(typeof p[v.gridY+u]!=="undefined"&&p[v.gridY+u][e+n]!=-1){o=p[v.gridY+u][e+n+1];u++;i++}else{break}}}var d=0;var f=0;if(Math.abs(a-r)<Math.abs(a-i)&&r!=0){d=r;f=s}else if(i!=0){d=i;f=o}else{d=a}var _={newHeight:d,idToResize:f};return _}function ie(e,t,i){if(!i){i=false}var r=v.colWidth;var n=v.currentGap;var a=m[e];var s=a.imgWidth;var o=a.imgHeight;var l=s/o;dimWidth=t;dimHeight=Math.round(dimWidth/l);if(i==true){var u=jQuery.extend(true,{},a);u.dimWidth=dimWidth;u.dimHeight=dimHeight;u.width=dimWidth*r+n*(dimWidth-1);u.height=dimHeight*r+n*(dimHeight-1);return u}a.dimWidth=dimWidth;a.dimHeight=dimHeight;a.width=dimWidth*r+n*(dimWidth-1);a.height=dimHeight*r+n*(dimHeight-1)}function re(e,t,i){if(!i){i=false}var r=m[e];var n=r.dimWidth;var a=v.colWidth;var s=v.currentGap;if(i==true){var o=jQuery.extend(true,{},r);o.dimHeight=t;o.width=n*a+s*(n-1);o.height=t*a+s*(t-1);return o}r.dimHeight=t;r.width=n*a+s*(n-1);r.height=t*a+s*(t-1)}function ne(e){var t=0;var i=0;for(var r=0;r<e.length;r++){var n=m[e[r].tileID];if(n.dimHeight!=0&&n.height!=0){resizeVal=n.dimWidth/n.dimHeight/(n.imgWidth/n.imgHeight)}else{return}if(resizeVal<1){resizeVal=1/resizeVal}t+=resizeVal;i++}return t/i}function ae(e,t){var i=v.gridY-1;if(i<=0||oe(i)==false){return false}if(p[i][t+e-1]!=p[i][t+e]){return true}return false}function se(e){var t=e;var i=0;if(oe(v.gridY)==true){while(de(v.gridY,t)==false){i++;t++}}else{i=v.maxColumns}return i}function oe(e){if(typeof p[e]==="undefined"){return false}return true}function le(e,t,i,r){for(var n=0;n<t.dimHeight;n++){for(var a=0;a<t.dimWidth;a++){if(oe(r+n)==0){ue(r+n)}fe(r+n,i+a,e)}}}function ue(e){p[e]=new Object;for(var t=0;t<v.maxColumns;t++){p[e][t]=-1}}function de(e,t){return p[e][t]!=-1}function fe(e,t,i){p[e][t]=i}function _e(e){if(!e)var e=false;o();for(var t=0;t<m.length;t++){ge(t,e)}_.height(v.maxColHeight);T()}function ge(e,t){var i=y.getThumbByIndex(e);var r=m[e];var n=r.top*(v.colWidth+v.currentGap);var a=v.addX+r.left*(v.colWidth+v.currentGap);c.resizeTile(i,r.width,r.height,c.resizemode.VISIBLE_ELEMENTS);g.placeElement(i,a,n);if(n+r.height>v.maxColHeight){v.maxColHeight=n+r.height}if(t==true){i.fadeTo(0,1)}}function ce(){}function he(){if(d.isFirstTimeRun==true)return true;if(d.isAllLoaded==false)return false;switch(I.tiles_type){case"columns":M(false);break;case"justified":H(false);break;case"nested":var e=f.isMobileMode();if(e==true){M(false)}else B(false);break}}function pe(){u.on(l.events.ALL_TILES_LOADED,function(){d.isAllLoaded=true});i.on(f.events.SIZE_CHANGE,he);i.on(l.events.TILES_FIRST_PLACED,function(){d.isFirstPlaced=false});c.initEvents()}function me(){r.children(".ug-tile").show();if(d.isFirstTimeRun==true){pe()}c.run();switch(I.tiles_type){default:case"columns":N();break;case"justified":G();break;case"nested":Q();break}d.isFirstTimeRun=false}this.destroy=function(){i.off(f.events.SIZE_CHANGE);c.destroy();i.off(l.events.TILES_FIRST_PLACED)};this.init=function(e,t){a(e,t)};this.setHtml=function(e){t(e)};this.getObjTileDesign=function(){return c};this.run=function(){me()};this.runNewItems=function(){if(!_)throw new Error("Can't run new items - parent not set");c.setHtml(_,true);c.run(true);switch(I.tiles_type){case"columns":N();break;default:case"justified":case"nested":throw new Error("Tiles type: "+I.tiles_type+" not support load more yet");break}}}function UGTileDesign(){var S=this,n=jQuery(this);var P=new UniteGalleryMain,s;var x=new UGFunctions,i,o;var l=new UGThumbsGeneral,u;this.resizemode={FULL:"full",WRAPPER_ONLY:"wrapper_only",VISIBLE_ELEMENTS:"visible_elements"};this.sizeby={GLOBAL_RATIO:"global_ratio",TILE_RATIO:"tile_ratio",IMAGE_RATIO:"image_ratio",CUSTOM:"custom"};this.events={TILE_CLICK:"tile_click"};var j={tile_width:250,tile_height:200,tile_size_by:S.sizeby.IMAGE_RATIO,tile_visible_before_image:false,tile_enable_background:true,tile_background_color:"#F0F0F0",tile_enable_border:false,tile_border_width:3,tile_border_color:"#F0F0F0",tile_border_radius:0,tile_enable_outline:false,tile_outline_color:"#8B8B8B",tile_enable_shadow:false,tile_shadow_h:1,tile_shadow_v:1,tile_shadow_blur:3,tile_shadow_spread:2,tile_shadow_color:"#8B8B8B",tile_enable_action:true,tile_as_link:false,tile_link_newpage:true,tile_enable_overlay:true,tile_overlay_opacity:.4,tile_overlay_color:"#000000",tile_enable_icons:true,tile_show_link_icon:false,tile_videoplay_icon_always_on:"never",tile_space_between_icons:26,tile_enable_image_effect:false,tile_image_effect_type:"bw",tile_image_effect_reverse:false,tile_enable_textpanel:false,tile_textpanel_source:"title",tile_textpanel_always_on:false,tile_textpanel_appear_type:"slide",tile_textpanel_position:"inside_bottom",tile_textpanel_offset:0};var d={thumb_color_overlay_effect:true,thumb_overlay_reverse:true,thumb_image_overlay_effect:false,tile_textpanel_enable_description:false,tile_textpanel_bg_opacity:.6,tile_textpanel_padding_top:8,tile_textpanel_padding_bottom:8};var A={ratioByHeight:0,ratioByWidth:0,eventSizeChange:"thumb_size_change",funcCustomTileHtml:null,funcCustomPositionElements:null,funcParentApproveClick:null,isSaparateIcons:false,tileInnerReduce:0,isTextpanelOutside:false,hasImageContainer:false,isVideoplayIconAlwaysOn:false,isTextPanelHidden:false};function r(e,t){P=e;s=jQuery(e);var i=P.getObjects();o=i.g_objWrapper;u=P.getArrItems();j=jQuery.extend(j,d);j=jQuery.extend(j,t);f();l.init(e,j);var r={allow_onresize:false};var n=["overlay"];if(A.funcCustomTileHtml)n=[];l.setCustomThumbs(_,n,r);var a=l.getOptions();j=jQuery.extend(j,a);A.ratioByWidth=j.tile_width/j.tile_height;A.ratioByHeight=j.tile_height/j.tile_width;if(j.tile_size_by==S.sizeby.GLOBAL_RATIO&&A.isTextpanelOutside)A.hasImageContainer=true}function f(){if(j.tile_enable_overlay==true){j.thumb_overlay_opacity=j.tile_overlay_opacity;j.thumb_overlay_color=j.tile_overlay_color}else if(j.tile_enable_icons==false){j.thumb_color_overlay_effect=false}else{j.thumb_overlay_opacity=0}if(j.tile_as_link){j.thumb_wrapper_as_link=true;j.thumb_link_newpage=j.tile_link_newpage}if(j.tile_enable_outline==true&&j.tile_enable_border==false)j.tile_enable_outline=false;A.tileInnerReduce=0;if(j.tile_enable_border){A.tileInnerReduce=j.tile_border_width*2;l.setThumbInnerReduce(A.tileInnerReduce)}A.isSaparateIcons=!x.isRgbaSupported();if(j.tile_enable_textpanel==true){switch(j.tile_textpanel_position){case"top":j.tile_textpanel_align="top";case"bottom":A.isTextpanelOutside=true;j.tile_textpanel_always_on=true;j.tile_textpanel_offset=0;break;case"inside_top":j.tile_textpanel_align="top";break;case"middle":j.tile_textpanel_align="middle";j.tile_textpanel_appear_type="fade";break}if(j.tile_textpanel_always_on==false)A.isSaparateIcons=true}if(j.tile_textpanel_offset!=0){j.tile_textpanel_appear_type="fade";j.tile_textpanel_margin=j.tile_textpanel_offset}if(j.tile_textpanel_source=="title_and_desc"){j.tile_textpanel_enable_description=true;j.tile_textpanel_desc_style_as_title=true}}function a(){var e=P.isMobileMode();A.isTextPanelHidden=false;if(e==true&&j.tile_textpanel_always_on==false)A.isTextPanelHidden=true;A.isVideoplayIconAlwaysOn=j.tile_videoplay_icon_always_on;switch(j.tile_videoplay_icon_always_on){case"always":A.isVideoplayIconAlwaysOn=true;break;case"never":A.isVideoplayIconAlwaysOn=false;break;case"mobile_only":A.isVideoplayIconAlwaysOn=e==true?true:false;break;case"desktop_only":A.isVideoplayIconAlwaysOn=e==false?true:false;break}}function _(e,t){e.addClass("ug-tile");if(A.funcCustomTileHtml){A.funcCustomTileHtml(e,t);return false}var i="";if(A.hasImageContainer==true){i+="<div class='ug-image-container ug-trans-enabled'>"}var r="ug-thumb-image";if(j.tile_enable_image_effect==false||j.tile_image_effect_reverse==true)r+=" ug-trans-enabled";var n=x.stripTags(t.title);n=x.htmlentitles(n);if(t.lazyload){r+=" lazyload";i+='<img src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4wLWMwNjAgNjEuMTM0Nzc3LCAyMDEwLzAyLzEyLTE3OjMyOjAwICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Njg1MzE2OTNFNzREMTFERkI3NEJBNDRGNDk5NUNCRTYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Njg1MzE2OTRFNzREMTFERkI3NEJBNDRGNDk5NUNCRTYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2ODUzMTY5MUU3NEQxMURGQjc0QkE0NEY0OTk1Q0JFNiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo2ODUzMTY5MkU3NEQxMURGQjc0QkE0NEY0OTk1Q0JFNiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="'+'data-src-desktop="'+x.escapeDoubleSlash(t.urlThumb)+'"'+'data-src-laptop="'+x.escapeDoubleSlash(t.urlThumb)+'"'+'data-src-tablet="'+x.escapeDoubleSlash(t.urlThumb)+'"'+'data-src-mobile="'+x.escapeDoubleSlash(t.urlThumb)+'"'+'data-src-desktop-retina="'+x.escapeDoubleSlash(t.urlThumb)+'"'+'data-src-laptop-retina="'+x.escapeDoubleSlash(t.urlThumb)+'"'+'data-src-tablet-retina="'+x.escapeDoubleSlash(t.urlThumb)+'"'+'data-src-mobile-retina="'+x.escapeDoubleSlash(t.urlThumb)+'"'+"\" alt='"+n+"' class='"+r+"'>"}else{i+='<img src="'+x.escapeDoubleSlash(t.urlThumb)+"\" alt='"+n+"' class='"+r+"'>"}if(A.hasImageContainer==true){i+="</div>"}e.append(i);if(j.tile_size_by==S.sizeby.GLOBAL_RATIO){e.fadeTo(0,0)}var a={};if(j.tile_enable_background==true){a["background-color"]=j.tile_background_color}if(j.tile_enable_border==true){a["border-width"]=j.tile_border_width+"px";a["border-style"]="solid";a["border-color"]=j.tile_border_color;if(j.tile_border_radius)a["border-radius"]=j.tile_border_radius+"px"}if(j.tile_enable_outline==true){a["outline"]="1px solid "+j.tile_outline_color}if(j.tile_enable_shadow==true){var s=j.tile_shadow_h+"px ";s+=j.tile_shadow_v+"px ";s+=j.tile_shadow_blur+"px ";s+=j.tile_shadow_spread+"px ";s+=j.tile_shadow_color;a["box-shadow"]=s}e.css(a);var o="";if(j.tile_enable_icons){if(j.tile_as_link==false&&j.tile_enable_action==true){var l="ug-button-play ug-icon-zoom";if(t.type!="image")l="ug-button-play ug-icon-play";o+="<div class='ug-tile-icon "+l+"' style='display:none'></div>"}if(t.link&&j.tile_show_link_icon==true||j.tile_as_link==true){if(j.tile_as_link==false){var u="";if(j.tile_link_newpage==true)u=" target='_blank'";o+="<a href='"+t.link+"'"+u+" class='ug-tile-icon ug-icon-link'></a>"}else{o+="<div class='ug-tile-icon ug-icon-link' style='display:none'></div>"}}var d=A.isSaparateIcons;if(d==false&&t.type!="image"&&A.isVideoplayIconAlwaysOn==true)d=true;if(d)var f=e;else var f=e.children(".ug-thumb-overlay");f.append(o);var _=f.children("."+l);if(_.length==0)_=null;else _.hide();var g=f.children(".ug-icon-link");if(g.length==0)g=null;else g.hide();if(!g&&j.tile_enable_action==true)e.addClass("ug-tile-clickable")}else{if(j.tile_enable_action==true)e.addClass("ug-tile-clickable")}if(j.tile_enable_image_effect==true){var c="";if(j.tile_image_effect_reverse==false)c=" ug-trans-enabled";var h="<div class='ug-tile-image-overlay"+c+"' >";var p=" ug-"+j.tile_image_effect_type+"-effect";h+='<img src="'+x.escapeDoubleSlash(t.urlThumb)+"\" alt='"+t.title+"' class='"+p+c+"'>";h+="</div>";e.append(h);if(j.tile_image_effect_reverse==true){e.children(".ug-tile-image-overlay").fadeTo(0,0)}}if(j.tile_enable_textpanel==true){var m=new UGTextPanel;m.init(P,j,"tile");var v="";if(j.tile_textpanel_always_on==true||A.isTextpanelOutside==true)v="ug-trans-enabled";m.appendHTML(e,v);var b=t.title;var y="";switch(j.tile_textpanel_source){case"desc":case"description":b=t.description;break;case"desc_title":if(t.description!="")b=t.description;break;case"title_and_desc":b=t.title;y=t.description;break}m.setTextPlain(b,y);if(j.tile_textpanel_always_on==false)m.getElement().fadeTo(0,0);e.data("objTextPanel",m);if(j.tile_textpanel_always_on==true){var I=C(e);I.css("z-index",2)}if(A.isTextpanelOutside==true){var w="<div class='ug-tile-cloneswrapper'></div>";e.append(w);var E=e.children(".ug-tile-cloneswrapper");var T=new UGTextPanel;T.init(P,j,"tile");T.appendHTML(E);T.setTextPlain(b,y);e.data("objTextPanelClone",T)}}if(t.addHtml!==null)e.append(t.addHtml)}this.loadTileImage=function(i){var e=S.getTileImage(i);x.checkImagesLoaded(e,null,function(e,t){F(null,i,jQuery(e))})};function e(){}function g(e){var t=e.children(".ug-tile-image-overlay");return t}function v(e){var t=e.children(".ug-thumb-overlay");return t}function c(e){if(A.hasImageContainer==false)return null;var t=e.children(".ug-image-container");return t}function h(e){var t=e.find(".ug-tile-image-overlay img");return t}function p(e){var t=e.data("objTextPanel");return t}function m(e){var t=e.data("objTextPanelClone");return t}function C(e){var t=e.children(".ug-textpanel");return t}function b(e){var t=e.find(".ug-tile-cloneswrapper .ug-textpanel");if(t.length==0)throw new Error("text panel cloned element not found");return t}function y(e){if(A.isTextpanelOutside==true)var t=b(e);else var t=C(e);if(!t)return 0;var i=x.getElementSize(t);return i.height}function I(e){var t=e.find(".ug-icon-link");if(t.length==0)return null;return t}function w(e){var t=A.ratioByHeight;switch(j.tile_size_by){default:t=A.ratioByHeight;break;case S.sizeby.IMAGE_RATIO:if(!e)throw new Error("tile should be given for tile ratio");var i=S.getItemByTile(e);if(typeof i.thumbRatioByHeight!="undefined"){if(i.thumbRatioByHeight==0){trace(i);throw new Error("the item ratio not inited yet")}t=i.thumbRatioByHeight}break;case S.sizeby.CUSTOM:return null;break}return t}function E(e){var t=e.find(".ug-button-play");if(t.length==0)return null;return t}function T(e){if(e.hasClass("ug-thumb-over"))return true;return false}function M(e){return e.hasClass("ug-tile-clickable")}function O(e){if(j.tile_enable_icons==true&&A.isVideoplayIconAlwaysOn==true&&e.type!="image")return true;return false}function t(){}function z(e,t,i,r){var n=g(e);var a=S.getTileImage(e);var s=h(e);t-=A.tileInnerReduce;i-=A.tileInnerReduce;var o=null;if(A.isTextpanelOutside==true){var l=y(e);i-=l;if(j.tile_textpanel_position=="top"){o=l}if(A.hasImageContainer==true){var u=c(e);x.setElementSize(u,t,i);if(o!==null)x.placeElement(u,0,o)}}if(j.tile_enable_image_effect==false){x.scaleImageCoverParent(a,t,i);if(A.hasImageContainer==false&&o!==null)x.placeElement(a,0,o)}else{var d="nothing";if(r===true&&A.isTextpanelOutside==false){if(j.tile_image_effect_reverse==true){d="effect"}else{d="image"}}if(d!="effect"){x.setElementSize(n,t,i);if(o!==null)x.placeElement(n,0,o);x.scaleImageCoverParent(s,t,i)}if(d!="image"){if(A.hasImageContainer==true){x.scaleImageCoverParent(a,t,i)}else{if(d=="effect"){x.scaleImageCoverParent(a,t,i);if(o!==null)x.placeElement(a,0,o)}else x.cloneElementSizeAndPos(s,a,false,null,o)}}}}function k(e,t,i,r){var n=null;if(i)n=i-A.tileInnerReduce;if(r)r-=A.tileInnerReduce;if(t=="clone"){var a=m(e);a.refresh(true,true,n);var s=S.getItemByTile(e);s.textPanelCloneSizeSet=true;return false}var o=p(e);if(!o)return false;var l=null;if(A.isTextpanelOutside==true)l=y(e);o.refresh(false,true,n,l);var u=j.tile_textpanel_always_on==true||j.tile_textpanel_appear_type=="fade";if(u){if(A.isTextpanelOutside==true&&r&&j.tile_textpanel_position=="bottom"){var d=r-l;o.positionPanel(d)}else o.positionPanel()}}function N(e){var t=S.getItemByTile(e);var i=E(e);var r=I(e);var n=x.getElementSize(e);z(e,n.width,n.height);if(j.tile_enable_textpanel==true)k(e,"regular",n.width,n.height);var a=n.width-A.tileInnerReduce;var s=n.height-A.tileInnerReduce;var o=0;if(A.isTextpanelOutside==true){var l=y(e);s-=l;if(j.tile_textpanel_position=="top")o=l}var u=v(e);x.setElementSizeAndPosition(u,0,o,a,s);if(i||r){var d=0;if(j.tile_enable_textpanel==true&&A.isTextPanelHidden==false&&A.isTextpanelOutside==false){var f=C(e);var _=x.getElementSize(f);if(_.height>0)d=Math.floor(_.height/2*-1)}}if(i&&r){var g=x.getElementSize(i);var c=x.getElementSize(r);var h=j.tile_space_between_icons;var p=g.width+h+c.width;var m=Math.floor((n.width-p)/2);if(m<h){h=Math.floor((n.width-g.width-c.width)/3);p=g.width+h+c.width;m=Math.floor((n.width-p)/2)}x.placeElement(i,m,"middle",0,d);x.placeElement(r,m+g.width+h,"middle",0,d)}else{if(i)x.placeElement(i,"center","middle",0,d);if(r)x.placeElement(r,"center","middle",0,d)}if(i)i.show();if(r)r.show()}this.setHtml=function(e,t){i=e;if(t!==true)a();l.setHtmlThumbs(e,t)};function L(e,t){var i=S.getItemByTile(e);var r=g(e);var n=j.thumb_transition_duration;if(j.tile_image_effect_reverse==false){var a=S.getTileImage(e);if(t){a.fadeTo(0,1);r.stop(true).fadeTo(n,0)}else r.stop(true).fadeTo(n,1)}else{if(t){r.stop(true).fadeTo(n,1)}else{r.stop(true).fadeTo(n,0)}}}function R(e,t){var i=j.thumb_transition_duration;var r=C(e);if(!r)return true;if(j.tile_textpanel_appear_type=="slide"){var n=x.getElementSize(r);if(n.width==0)return false;var a=-n.height;var s=0;var o={},l={};var u="bottom";if(j.tile_textpanel_position=="inside_top")u="top";o[u]=a+"px";l[u]=s+"px";if(t==true){r.fadeTo(0,1);if(r.is(":animated")==false)r.css(o);l["opacity"]=1;r.stop(true).animate(l,i)}else{r.stop(true).animate(o,i)}}else{if(t==true){r.stop(true).fadeTo(i,1)}else{r.stop(true).fadeTo(i,0)}}}function H(e,t,i){var r=j.thumb_transition_duration;if(i&&i===true)r=0;var n=E(e);var a=I(e);var s=t?1:0;if(n)n.stop(true).fadeTo(r,s);if(a)a.stop(true).fadeTo(r,s)}function G(e,t){t=jQuery(t);if(j.tile_enable_image_effect)L(t,true);if(j.tile_enable_textpanel==true&&j.tile_textpanel_always_on==false&&A.isTextPanelHidden==false)R(t,true);if(A.isSaparateIcons&&j.tile_enable_icons==true){var i=j.thumb_overlay_reverse==true;var r=S.getItemByTile(t);if(O(r)==false)H(t,i,false)}}function D(e,t){t=jQuery(t);if(j.tile_enable_image_effect)L(t,false);if(j.tile_enable_textpanel==true&&j.tile_textpanel_always_on==false)R(t,false);if(A.isSaparateIcons==true&&j.tile_enable_icons==true){var i=j.thumb_overlay_reverse==true?false:true;var r=S.getItemByTile(t);if(O(r)==false)H(t,i,false);else{H(t,true,true)}}}function Q(e){var t=l.getThumbs().not(e);t.each(function(e,t){l.setThumbNormalStyle(jQuery(t))})}function W(){}function B(e,t,i){t=jQuery(t);if(j.tile_visible_before_image==true&&t.data("image_placed")!==true&&i!==true)return true;N(t);l.setThumbNormalStyle(t)}function F(e,t,i){N(t);i.fadeTo(0,1);t.data("image_placed",true)}function Y(e){if(M(e)==true){n.trigger(S.events.TILE_CLICK,e);return true}if(T(e)==false){Q(e);l.setThumbOverStyle(e)}}function U(e){var t=jQuery(this);var i=t.prop("tagName").toLowerCase();var r=true;if(A.funcParentApproveClick&&A.funcParentApproveClick()==false)r=false;if(i=="a"){if(r==false)e.preventDefault()}else{if(T(t)==false){if(r==true)Y(t)}else{if(M(t)==false)return true;if(r==true)n.trigger(S.events.TILE_CLICK,t)}}}function V(e){e.stopPropagation();var t=jQuery(this).parents(".ug-tile");var i=true;if(A.funcParentApproveClick&&A.funcParentApproveClick()==false)i=false;if(T(t)==false){Y(t);return true}if(i==true){n.trigger(S.events.TILE_CLICK,t);return false}}function X(e){var t=jQuery(this).parents(".ug-tile");if(A.funcParentApproveClick&&A.funcParentApproveClick()==false)e.preventDefault();if(T(t)==false&&j.tile_as_link==false){e.preventDefault();Y(t)}}this.initEvents=function(){l.initEvents();jQuery(l).on(l.events.SETOVERSTYLE,G);jQuery(l).on(l.events.SETNORMALSTYLE,D);jQuery(l).on(l.events.PLACEIMAGE,F);o.on(A.eventSizeChange,B);i.on("click",".ug-tile",U);i.on("click",".ug-tile .ug-button-play",V);i.on("click",".ug-tile .ug-icon-link",X)};this.destroy=function(){i.off("click",".ug-tile");i.off("click",".ug-tile .ug-button-play");i.off("click",".ug-tile .ug-icon-link");jQuery(l).off(l.events.SETOVERSTYLE);jQuery(l).off(l.events.SETNORMALSTYLE);jQuery(l).off(l.events.PLACEIMAGE);o.off(A.eventSizeChange);if(j.tile_enable_textpanel==true){var e=l.getThumbs();jQuery.each(e,function(e,t){var i=p(jQuery(t));if(i)i.destroy()})}l.destroy()};this.init=function(e,t,i){r(e,t,i)};this.setFixedMode=function(){j.tile_size_by=S.sizeby.GLOBAL_RATIO;j.tile_visible_before_image=true};this.setApproveClickFunction=function(e){A.funcParentApproveClick=e};this.resizeTile=function(e,t,i,r){if(A.isTextpanelOutside==true)k(e,"clone",t);if(!t){var t=j.tile_width;var i=j.tile_height}else{if(!i){var i=S.getTileHeightByWidth(t,e)}}x.setElementSize(e,t,i);switch(r){default:case S.resizemode.FULL:S.triggerSizeChangeEvent(e,true);break;case S.resizemode.WRAPPER_ONLY:return true;break;case S.resizemode.VISIBLE_ELEMENTS:if(A.funcCustomTileHtml){S.triggerSizeChangeEvent(e,true);return true}z(e,t,i,true);if(j.tile_enable_textpanel==true&&j.tile_textpanel_always_on==true&&t){k(e,"regular",t,i)}break}};this.resizeAllTiles=function(i,r,e){a();var n=null;if(j.tile_size_by==S.sizeby.GLOBAL_RATIO)n=S.getTileHeightByWidth(i);if(!e)var e=l.getThumbs();e.each(function(e,t){S.resizeTile(jQuery(t),i,n,r)})};this.triggerSizeChangeEvent=function(e,t){if(!e)return false;if(!t)var t=false;o.trigger(A.eventSizeChange,[e,t])};this.triggerSizeChangeEventAllTiles=function(t){var e=l.getThumbs();e.each(function(){var e=jQuery(this);S.triggerSizeChangeEvent(e,t)})};this.disableEvents=function(){var e=l.getThumbs();e.css("pointer-events","none")};this.enableEvents=function(){var e=l.getThumbs();e.css("pointer-events","auto")};this.setOptions=function(e){j=jQuery.extend(j,e);l.setOptions(e)};this.setTileSizeOptions=function(e){if(j.tile_size_by!==S.sizeby.GLOBAL_RATIO)throw new Error("setNewTileOptions works with global ration only");j.tile_width=e;j.tile_height=Math.floor(e*A.ratioByHeight)};this.setCustomFunctions=function(e,t){A.funcCustomTileHtml=e;A.funcCustomPositionElements=t};this.run=function(e){var t=l.type.GET_THUMBS_ALL;if(e===true)t=l.type.GET_THUMBS_NEW;var i=l.getThumbs(t);if(j.tile_size_by==S.sizeby.GLOBAL_RATIO){S.resizeAllTiles(j.tile_width,S.resizemode.WRAPPER_ONLY,i)}if(j.tile_enable_image_effect==true&&j.tile_image_effect_reverse==false)i.children(".ug-thumb-image").fadeTo(0,0);l.setHtmlProperties(i);if(j.tile_visible_before_image==true){i.children(".ug-thumb-image").fadeTo(0,0);l.loadThumbsImages()}};this._____________EXTERNAL_GETTERS____________=function(){};this.getObjThumbs=function(){return l};this.getOptions=function(){return j};this.getTileImage=function(e){var t=e.find("img.ug-thumb-image");return t};this.getItemByTile=function(e){return l.getItemByThumb(e)};this.getTileHeightByWidth=function(e,t){var i=w(t);if(i===null)return null;var r=Math.floor((e-A.tileInnerReduce)*i)+A.tileInnerReduce;if(t&&A.isTextpanelOutside==true&&j.tile_size_by==S.sizeby.IMAGE_RATIO)r+=y(t);return r};this.getTileImageSize=function(e){var t=S.getItemByTile(e);if(!t.thumbWidth||!t.thumbHeight)throw new Error("Can't get image size - image not inited.");var i={width:t.thumbWidth,height:t.thumbHeight};return i};this.getGlobalTileSize=function(){if(j.tile_size_by!=S.sizeby.GLOBAL_RATIO)throw new Error("The size has to be global ratio");var e={width:j.tile_width,height:j.tile_height};return e}}function UGAviaControl(){var n,t,i,g,c,h;var r;var a={touchEnabled:false,isMouseInsideStrip:false,strip_finalPos:0,handle_timeout:"",isStripMoving:false,isControlEnabled:true};this.enable=function(){a.isControlEnabled=true};this.disable=function(){a.isControlEnabled=false};this.init=function(e){n=e;i=e.getObjects();t=i.g_gallery;g=i.g_objStrip;c=i.g_objStripInner;h=i.g_options;r=i.isVertical;o()};function s(e){if(r==false)return e.pageX;return e.pageY}function o(e){jQuery("body").on("touchstart",function(e){if(a.isControlEnabled==false)return true;a.touchEnabled=true});jQuery("body").mousemove(function(e){if(a.isControlEnabled==false)return true;if(a.touchEnabled==true){jQuery("body").off("mousemove");return true}a.isMouseInsideStrip=g.ismouseover();var t=n.isTouchMotionActive();if(a.isMouseInsideStrip==true&&t==false){var i=s(e);p(i)}else{f()}})}this.destroy=function(){jQuery("body").off("touchstart");jQuery("body").off("mousemove")};function l(e){var t=h.strip_padding_top;var i=h.strip_padding_bottom;var r=g.height();var n=c.height();if(r>n)return null;var a=g.offset();var s=a.top;var o=e-s-t;if(o<0)return null;var l=h.thumb_height;var u=r-h.thumb_height;var d=u-l;if(o<l)o=l;if(o>u)o=u;var f=(o-l)/d;var _=(n-r)*f;_=Math.round(_)*-1+t;return _}function u(e){var t=h.strip_padding_left;var i=h.strip_padding_right;var r=g.width()-t-i;var n=c.width();if(r>n)return null;var a=g.offset();var s=a.left;var o=e-s-t;var l=h.thumb_width;var u=r-h.thumb_width;var d=u-l;if(o<l)o=l;if(o>u)o=u;var f=(o-l)/d;var _=(n-r)*f;_=Math.round(_)*-1+t;return _}function e(){if(a.is_strip_moving==false){return false}var e=n.getInnerStripPos();if(Math.floor(e)==Math.floor(a.strip_finalPos)){f()}var t=Math.abs(a.strip_finalPos-e);var i;if(t<1){i=t}else{i=t/4;if(i>0&&i<1)i=1}if(a.strip_finalPos<e)i=i*-1;var r=e+i;n.positionInnerStrip(r)}function d(){if(a.isStripMoving==true)return false;a.isStripMoving=true;a.handle_timeout=setInterval(e,10)}function f(){if(a.isStripMoving==false)return false;a.isStripMoving=false;a.handle_timeout=clearInterval(a.handle_timeout)}function _(e){if(r==false)return u(e);else return l(e)}function p(e){var t=_(e);if(t===null)return false;a.is_strip_moving=true;a.strip_finalPos=t;d()}}function UGSlider(){var p=this,m=jQuery(p);var v=new UniteGalleryMain,s,o,l;var f,_,g,c,h,u,d;var a,t,b,y=null,I=null,w=null;var E=new UGVideoPlayer,T;var S=new UGFunctions,P=null,x=null;this.events={ITEM_CHANGED:"item_changed",BEFORE_SWITCH_SLIDES:"before_switch",BEFORE_RETURN:"before_return",AFTER_RETURN:"after_return",ZOOM_START:"slider_zoom_start",ZOOM_END:"slider_zoom_end",ZOOMING:"slider_zooming",ZOOM_CHANGE:"slider_zoom_change",START_DRAG:"start_drag",AFTER_DRAG_CHANGE:"after_drag_change",ACTION_START:"action_start",ACTION_END:"action_end",CLICK:"slider_click",TRANSITION_START:"slider_transition_start",TRANSITION_END:"slider_transition_end",AFTER_PUT_IMAGE:"after_put_image",LOAD_4K_IMAGE:"load_4k_image",IMAGE_MOUSEENTER:"slider_image_mouseenter",IMAGE_MOUSELEAVE:"slider_image_mouseleave",CURRENTSLIDE_LOAD_START:"slider_current_loadstart",CURRENTSLIDE_LOAD_END:"slider_current_loadend"};var j={slider_scale_mode:"fill",slider_scale_mode_media:"fill",slider_scale_mode_fullscreen:"down",slider_item_padding_top:0,slider_item_padding_bottom:0,slider_item_padding_left:0,slider_item_padding_right:0,slider_background_color:"",slider_background_opacity:1,slider_image_padding_top:0,slider_image_padding_bottom:0,slider_image_padding_left:0,slider_image_padding_right:0,slider_image_border:false,slider_image_border_width:10,slider_image_border_color:"#ffffff",slider_image_border_radius:0,slider_image_border_maxratio:.35,slider_image_shadow:false,slider_video_constantsize:false,slider_video_constantsize_scalemode:"fit",slider_video_constantsize_width:854,slider_video_constantsize_height:480,slider_video_padding_top:0,slider_video_padding_bottom:0,slider_video_padding_left:0,slider_video_padding_right:0,slider_video_enable_closebutton:true,slider_transition:"slide",slider_transition_speed:300,slider_transition_easing:"easeInOutQuad",slider_control_swipe:true,slider_control_zoom:true,slider_zoom_mousewheel:true,slider_vertical_scroll_ondrag:false,slider_loader_type:1,slider_loader_color:"white",slider_enable_links:true,slider_links_newpage:false,slider_enable_bullets:false,slider_bullets_skin:"",slider_bullets_space_between:-1,slider_bullets_align_hor:"center",slider_bullets_align_vert:"bottom",slider_bullets_offset_hor:0,slider_bullets_offset_vert:10,slider_enable_arrows:true,slider_arrows_skin:"",slider_arrow_left_align_hor:"left",slider_arrow_left_align_vert:"middle",slider_arrow_left_offset_hor:20,slider_arrow_left_offset_vert:0,slider_arrow_right_align_hor:"right",slider_arrow_right_align_vert:"middle",slider_arrow_right_offset_hor:20,slider_arrow_right_offset_vert:0,slider_enable_progress_indicator:true,slider_progress_indicator_type:"pie",slider_progress_indicator_align_hor:"right",slider_progress_indicator_align_vert:"top",slider_progress_indicator_offset_hor:10,slider_progress_indicator_offset_vert:10,slider_enable_play_button:true,slider_play_button_skin:"",slider_play_button_align_hor:"left",slider_play_button_align_vert:"top",slider_play_button_offset_hor:40,slider_play_button_offset_vert:8,slider_play_button_mobilehide:false,slider_enable_fullscreen_button:true,slider_fullscreen_button_skin:"",slider_fullscreen_button_align_hor:"left",slider_fullscreen_button_align_vert:"top",slider_fullscreen_button_offset_hor:11,slider_fullscreen_button_offset_vert:9,slider_fullscreen_button_mobilehide:false,slider_enable_zoom_panel:true,slider_zoompanel_skin:"",slider_zoompanel_align_hor:"left",slider_zoompanel_align_vert:"top",slider_zoompanel_offset_hor:12,slider_zoompanel_offset_vert:92,slider_zoompanel_mobilehide:false,slider_controls_always_on:false,slider_controls_appear_ontap:true,slider_controls_appear_duration:300,slider_enable_text_panel:true,slider_textpanel_always_on:true,slider_videoplay_button_type:"square"};var A={slider_progress_indicator_align_hor:"left",slider_progress_indicator_align_vert:"bottom",slider_progress_indicator_offset_hor:0,slider_progress_indicator_offset_vert:0};var C={isRunOnce:false,isTextPanelSaparateHover:false,numPrev:1,numCurrent:2,numNext:3,isControlsVisible:true,currentControlsMode:"image"};function e(){}function r(e,t,i){v=e;if(i){T=i;t=S.convertCustomPrefixOptions(t,T,"slider")}s=jQuery(e);var r=v.getObjects();o=r.g_objWrapper;l=r.g_objThumbs;if(t.hasOwnProperty("slider_progress_indicator_type"))j.slider_progress_indicator_type=t.slider_progress_indicator_type;if(j.slider_progress_indicator_type=="bar"){j=jQuery.extend(j,A)}if(t)p.setOptions(t);M();if(j.slider_enable_bullets==true){w=new UGBullets;var n={bullets_skin:j.slider_bullets_skin,bullets_space_between:j.slider_bullets_space_between};w.init(v,n)}if(j.slider_enable_text_panel){x=new UGTextPanel;x.init(v,j,"slider")}if(j.slider_enable_zoom_panel){b=new UGZoomButtonsPanel;b.init(p,j)}var a=v.getGalleryID();E.init(j,false,a)}function i(){if(C.isRunOnce==true)return false;C.isRunOnce=true;if(j.slider_background_color){var e=j.slider_background_color;if(j.slider_background_opacity!=1)e=S.convertHexToRGB(e,j.slider_background_opacity);f.css("background-color",e)}else if(j.slider_background_opacity!=1){e=S.convertHexToRGB("#000000",j.slider_background_opacity);f.css("background-color",e)}if(j.slider_control_swipe==true){a=new UGTouchSliderControl;a.init(p,j)}if(j.slider_control_zoom==true){t=new UGZoomSliderControl;t.init(p,j)}if(x)x.run();je()}function M(){var e=v.getOptions();var t=e.gallery_skin;if(j.slider_bullets_skin=="")j.slider_bullets_skin=t;if(j.slider_arrows_skin=="")j.slider_arrows_skin=t;if(j.slider_zoompanel_skin=="")j.slider_zoompanel_skin=t;if(j.slider_play_button_skin=="")j.slider_play_button_skin=t;if(j.slider_fullscreen_button_skin=="")j.slider_fullscreen_button_skin=t;j.video_enable_closebutton=j.slider_video_enable_closebutton;if(e.gallery_mousewheel_role!="zoom")j.slider_zoom_mousewheel=false}function O(e,t){var i="ug-type-square";if(j.slider_videoplay_button_type=="round")i="ug-type-round";var r="";r+="<div class='ug-slide-wrapper ug-slide"+t+"'>";r+="<div class='ug-item-wrapper'></div>";r+="<div class='ug-slider-preloader "+e+"'></div>";r+="<div class='ug-button-videoplay "+i+"' style='display:none'></div>";r+="</div>";return r}function n(e){if(e)o=e;var t=Ce();var i=v.getOptions();var r="<div class='ug-slider-wrapper'>";r+="<div class='ug-slider-inner'>";r+=O(t,1);r+=O(t,2);r+=O(t,3);r+="</div>";if(j.slider_enable_arrows==true){r+="<div class='ug-slider-control ug-arrow-left ug-skin-"+j.slider_arrows_skin+"' title='previous'></div>";r+="<div class='ug-slider-control ug-arrow-right ug-skin-"+j.slider_arrows_skin+"' title='next'></div>"}if(j.slider_enable_play_button==true){r+="<div class='ug-slider-control ug-button-play ug-skin-"+j.slider_play_button_skin+"'></div>"}if(j.slider_enable_fullscreen_button==true){r+="<div class='ug-slider-control ug-button-fullscreen ug-skin-"+j.slider_fullscreen_button_skin+"'></div>"}r+="</div>";o.append(r);f=o.children(".ug-slider-wrapper");_=f.children(".ug-slider-inner");g=_.children(".ug-slide1");c=_.children(".ug-slide2");h=_.children(".ug-slide3");g.data("slidenum",1);c.data("slidenum",2);h.data("slidenum",3);if(w)w.appendHTML(f);if(j.slider_enable_arrows==true){u=f.children(".ug-arrow-left");d=f.children(".ug-arrow-right")}if(j.slider_enable_play_button==true){y=f.children(".ug-button-play")}if(j.slider_enable_fullscreen_button==true){I=f.children(".ug-button-fullscreen")}if(j.slider_enable_progress_indicator==true){P=S.initProgressIndicator(j.slider_progress_indicator_type,j,f);var n=P.getType();if(n=="bar"&&j.slider_progress_indicator_type=="pie"){j.slider_progress_indicator_type="bar";j=jQuery.extend(j,A)}v.setProgressIndicator(P)}if(j.slider_enable_text_panel==true){x.appendHTML(f);if(j.slider_textpanel_always_on==false){var a=x.getElement();a.hide().data("isHidden",true);C.isTextPanelSaparateHover=true}}if(j.slider_enable_zoom_panel==true){b.appendHTML(f)}E.setHtml(_)}function z(e){var t=ze(e);S.placeElementInParentCenter(t);var i=ke(e);S.placeElementInParentCenter(i)}function k(){if(w){objBullets=w.getElement();S.placeElement(objBullets,j.slider_bullets_align_hor,j.slider_bullets_align_vert,j.slider_bullets_offset_hor,j.slider_bullets_offset_vert);S.placeElement(objBullets,j.slider_bullets_align_hor,j.slider_bullets_align_vert,j.slider_bullets_offset_hor,j.slider_bullets_offset_vert)}if(j.slider_enable_arrows==true){S.placeElement(u,j.slider_arrow_left_align_hor,j.slider_arrow_left_align_vert,j.slider_arrow_left_offset_hor,j.slider_arrow_left_offset_vert);S.placeElement(d,j.slider_arrow_right_align_hor,j.slider_arrow_left_align_vert,j.slider_arrow_right_offset_hor,j.slider_arrow_right_offset_vert)}if(j.slider_controls_always_on==false)le(true);if(P){var e=P.getElement();if(j.slider_progress_indicator_type=="bar"){var t=f.width();P.setSize(t);S.placeElement(e,"left",j.slider_progress_indicator_align_vert,0,j.slider_progress_indicator_offset_vert)}else{S.placeElement(e,j.slider_progress_indicator_align_hor,j.slider_progress_indicator_align_vert,j.slider_progress_indicator_offset_hor,j.slider_progress_indicator_offset_vert)}}if(x)x.positionPanel();N();z(g);z(c);z(h);se()}function N(){if(y)S.placeElement(y,j.slider_play_button_align_hor,j.slider_play_button_align_vert,j.slider_play_button_offset_hor,j.slider_play_button_offset_vert);if(I)S.placeElement(I,j.slider_fullscreen_button_align_hor,j.slider_fullscreen_button_align_vert,j.slider_fullscreen_button_offset_hor,j.slider_fullscreen_button_offset_vert);if(b){var e=b.getElement();S.placeElement(e,j.slider_zoompanel_align_hor,j.slider_zoompanel_align_vert,j.slider_zoompanel_offset_hor,j.slider_zoompanel_offset_vert)}}function L(){var e=p.getSlidesReference();var t=0,i=0,r;var n=0,a=0,s,o,l;o=p.isSlideHasItem(e.objNextSlide);l=p.isSlideHasItem(e.objPrevSlide);if(l){a=e.objPrevSlide.outerWidth();e.objPrevSlide.css("z-index",1)}else e.objPrevSlide.hide();s=a+e.objCurrentSlide.outerWidth();r=s;if(o){r=s+e.objNextSlide.outerWidth();e.objPrevSlide.css("z-index",2)}else e.objNextSlide.hide();e.objCurrentSlide.css("z-index",3);S.placeElement(e.objCurrentSlide,a,i);_.css({left:-a+"px",width:r+"px"});if(l){S.placeElement(e.objPrevSlide,n,i);S.showElement(e.objPrevSlide)}if(o){S.showElement(e.objNextSlide);S.placeElement(e.objNextSlide,s,i)}}function R(e){var t=e.data("index");if(t===undefined||t==null)return false;var i=v.getItem(t);if(!i)return false;F(e,i)}function H(e){e.stop(true).show(100)}function G(e){e.stop(true).hide(100)}function D(e,t){var i=j.slider_image_border_width;if(i<=10)return i;var r=S.getElementSize(e);var n=r.width;var a=r.height;if(t){if(t.hasOwnProperty("imageWidth"))n=t.imageWidth;if(t.hasOwnProperty("imageHeight"))a=t.imageHeight}if(n<=0)return i;var s=n<a?n:a;var o=i*2;var l=o/s;if(l<j.slider_image_border_maxratio)return i;var i=s*j.slider_image_border_maxratio/2;i=Math.round(i);return i}function Q(e,t,i){var r={};if(j.slider_image_border==true){r["border-style"]="solid";var n=D(e,i);r["border-width"]=n+"px";r["border-color"]=j.slider_image_border_color;r["border-radius"]=j.slider_image_border_radius}if(t!="image"&&j.slider_video_constantsize==true)r["background-color"]="#000000";if(j.slider_image_shadow==true){r["box-shadow"]="3px 3px 10px 0px #353535"}e.css(r)}function W(e,t){var i=j.slider_video_constantsize_width;var r=j.slider_video_constantsize_height;var n=j.slider_video_constantsize_scalemode;var a=S.scaleImageExactSizeInParent(e,t.imageWidth,t.imageHeight,i,r,n);return a}function B(e,t,i,r){var n=e.children(".ug-item-wrapper");var a=ze(e);var s=p.getSlidesReference();var o=s.objCurrentSlide.data("index");var l=p.isSlideCurrent(e);if(typeof t.urlImage=="undefined"||t.urlImage==""){throw new Error("The slide don't have big image defined ( data-image='urlImage' ). Please check gallery items.","showbig")}if(typeof i=="undefined"){i=false}var u=t.urlImage;var d=t.urlImageZoom;var f=e.data("urlImage");e.data("urlImage",u);e.data("urlImageZoom",d);var _=p.getScaleMode(e);var g=p.getSlideType(e);objPadding=p.getObjImagePadding();if(f==u&&i!==true){var c=n.children("img");if(t.imageWidth==0||t.imageHeight==0){v.checkFillImageSize(c,t)}var h={};if(g!="image"&&j.slider_video_constantsize==true){h=W(c,t)}else{h=S.scaleImageFitParent(c,t.imageWidth,t.imageHeight,_,objPadding)}Q(c,g,h);m.trigger(p.events.AFTER_PUT_IMAGE,e)}else{if(t.is4kImageLoaded==true||l)u=d;c=S.placeImageInsideParent(u,n,t.imageWidth,t.imageHeight,_,objPadding,t);if(t.isBigImageLoaded==true){c.fadeTo(0,1);G(a);if(g!="image"&&j.slider_video_constantsize==true)var h=W(c,t);else var h=S.getImageInsideParentData(n,t.imageWidth,t.imageHeight,_,objPadding);c.css("width",h.imageWidth+"px");Q(c,g,h);m.trigger(p.events.AFTER_PUT_IMAGE,e);m.trigger(p.events.LOAD_4K_IMAGE,t)}else{c.fadeTo(0,0);H(a);e.data("isLoading",true);if(p.isSlideCurrent(e))m.trigger(p.events.CURRENTSLIDE_LOAD_START);c.data("itemIndex",t.index);c.on("load",function(){var e=jQuery(this);var t=e.data("itemIndex");e.fadeTo(0,1);var i=e.parent().parent();var r=p.getSlideType(i);var n=ze(i);var a=p.getObjImagePadding();var s=p.getScaleMode(i);G(n);i.data("isLoading",false);if(p.isSlideCurrent(i))m.trigger(p.events.CURRENTSLIDE_LOAD_END);v.onItemBigImageLoaded(null,e);var o=v.getItem(t);var l={};if(r!="image"&&j.slider_video_constantsize==true)W(e,o);else{l=S.scaleImageFitParent(e,o.imageWidth,o.imageHeight,s,a)}e.fadeTo(0,1);Q(e,r,l);m.trigger(p.events.AFTER_PUT_IMAGE,i)})}}}function F(e,t){try{var i=e.children(".ug-item-wrapper");if(t==null){i.html("");e.removeData("index");e.removeData("type");e.removeData("urlImage");e.removeData("urlImageZoom");return false}var r=e.data("index");e.data("index",t.index);e.data("type",t.type);if(j.slider_enable_links==true&&t.type=="image"){if(t.link)e.addClass("ug-slide-clickable");else e.removeClass("ug-slide-clickable")}B(e,t);var n=ke(e);switch(t.type){case"image":n.hide();break;default:n.show();break}}catch(e){if(typeof e.fileName!="undefined"&&e.fileName=="showbig")v.showErrorMessageReplaceGallery(e.message);i.html("");throw new Error(e);return true}}function Y(){if(!x)return false;if(V()==true)return false;var e=x.getElement();var t=0;if(C.isTextPanelSaparateHover==true||j.slider_textpanel_always_on==true){t=j.slider_controls_appear_duration}e.stop().fadeTo(t,0);e.data("isHidden",true)}function U(){if(!x)return false;if(V()==false)return false;var e=x.getElement();var t=0;if(C.isTextPanelSaparateHover==true||j.slider_textpanel_always_on==true){e.show();x.positionElements();t=j.slider_controls_appear_duration}e.stop().show().fadeTo(t,1);e.data("isHidden",false)}function V(){var e=x.getElement();var t=e.data("isHidden");if(t===false)return false;return true}function X(e,t){if(t==undefined)var t=p.getCurrentSlide();var i=p.getSlideType(t);if(i!=e){throw new Error("Wrong slide type: "+i+", should be: "+e);return false}return true}function Z(){}function J(){var e=p.getCurrentSlide();var t=p.getSlideImage(e);var i=S.getElementSize(e);var r=i.left;var n=i.top;if(j.slider_video_constantsize==true){var a=S.getElementSize(t);r+=a.left;n+=a.top}else{r+=j.slider_video_padding_left;n+=j.slider_video_padding_top}E.setPosition(r,n)}function q(){var e=j.slider_video_constantsize_width;var t=j.slider_video_constantsize_height;E.setSize(e,t);var i=E.getObject();Q(i,"video")}function K(){}function $(e,t,i){m.trigger(p.events.TRANSITION_START);var r=j.slider_transition;if(i)r=i;p.stopSlideAction(null,true);switch(r){default:case"fade":ie(t);break;case"slide":ee(e,t);break;case"lightbox_open":ie(t,false,true);break}}this.switchSlideNums=function(e){m.trigger(p.events.BEFORE_SWITCH_SLIDES);switch(e){case"left":var t=C.numCurrent;C.numCurrent=C.numNext;C.numNext=C.numPrev;C.numPrev=t;break;case"right":var t=C.numCurrent;C.numCurrent=C.numPrev;C.numPrev=C.numNext;C.numNext=t;break;default:throw new Error("wrong direction: "+e);break}m.trigger(p.events.ITEM_CHANGED)};function ee(e,t){var i=p.isAnimating();if(i==true){C.itemWaiting=t;return true}if(C.itemWaiting!=null)C.itemWaiting=null;var r=p.getSlidesReference();switch(e){case"right":F(r.objPrevSlide,t);L();var n=S.getElementSize(r.objPrevSlide);var a=-n.left;p.switchSlideNums("right");break;case"left":F(r.objNextSlide,t);L();var s=S.getElementSize(r.objNextSlide);var a=-s.left;p.switchSlideNums("left");break;default:throw new Error("wrong direction: "+e);break}var o=j.slider_transition_speed;var l=j.slider_transition_easing;var u={duration:o,easing:l,queue:false,always:function(){p.stopSlideAction();E.hide();if(C.itemWaiting!=null){var e=Oe(C.itemWaiting);ee(e,C.itemWaiting)}else{p.placeNabourItems();m.trigger(p.events.TRANSITION_END)}}};_.animate({left:a+"px"},u)}function te(e,t,i){if(i)e.fadeTo(j.slider_transition_speed,t,i);else e.fadeTo(j.slider_transition_speed,t)}function ie(e,t,i){if(!t)var t=false;var r=p.getSlidesReference();F(r.objNextSlide,e);var n=S.getElementSize(r.objCurrentSlide);S.placeElement(r.objNextSlide,n.left,n.top);var a=C.numCurrent;C.numCurrent=C.numNext;C.numNext=a;m.trigger(p.events.ITEM_CHANGED);r.objNextSlide.stop(true);r.objCurrentSlide.stop(true);if(t==true){r.objCurrentSlide.fadeTo(0,0);r.objNextSlide.fadeTo(0,1);p.placeNabourItems();m.trigger(p.events.TRANSITION_END);if(i!==true)E.hide()}else{r.objNextSlide.fadeTo(0,0);te(r.objCurrentSlide,0,function(){p.placeNabourItems();m.trigger(p.events.TRANSITION_END);if(i!==true)E.hide()});if(E.isVisible()==true){var s=E.getObject();te(s,0)}te(r.objNextSlide,1)}}function re(){}function ne(){if(j.slider_fullscreen_button_mobilehide==true&&I)I.hide();if(j.slider_play_button_mobilehide==true&&y)y.hide();if(j.slider_zoompanel_mobilehide==true&&b)b.getElement().hide()}function ae(){if(j.slider_fullscreen_button_mobilehide==true&&I)I.show();if(j.slider_play_button_mobilehide==true&&y)y.show();if(j.slider_zoompanel_mobilehide==true&&b)b.getElement().show()}function se(){var e=v.isMobileMode();if(e)ne();else ae()}function oe(){var e=f.children(".ug-slider-control");return e}function le(e){if(S.isTimePassed("sliderControlsToggle")==false)return false;if(C.isControlsVisible==false)return false;if(!e)var e=false;var t=oe();if(e===true)t.stop().fadeTo(0,0).hide();else{t.stop().fadeTo(j.slider_controls_appear_duration,0,function(){t.hide()})}C.isControlsVisible=false}function ue(e){if(j.slider_controls_always_on==true)de(e)}function de(e){if(S.isTimePassed("sliderControlsToggle")==false)return false;if(C.isControlsVisible==true)return true;if(!e)var e=false;var t=oe();if(e===true)t.stop().show();else{t.stop().show().fadeTo(0,0);t.fadeTo(j.slider_controls_appear_duration,1)}C.isControlsVisible=true}function fe(){if(C.isControlsVisible==false)de();else le()}function _e(e){if(e==C.currentControlsMode)return false;switch(e){case"image":if(b)b.getElement().show();break;case"video":if(b)b.getElement().hide();break;default:throw new Error("wrong controld mode: "+e);break}C.currentControlsMode=e}function ge(){}function ce(e,t,i){var r=v.getSelectedItem();p.setItem(r,false,i);var n=r.index;if(w)w.setActive(n);if(x){if(C.isTextPanelSaparateHover==false)U()}if(r.type=="image"){_e("image")}else{_e("video")}}function he(e,t){v.selectItem(t)}function pe(e){if(a&&a.isTapEventOccured(e)==false)return true;m.trigger(p.events.CLICK,e)}function me(){var e=p.getCurrentSlide();var t=e.hasClass("ug-slide-clickable");var i=p.getCurrentItem();if(t){if(j.slider_links_newpage==false){location.href=i.link}else{window.open(i.link,"_blank")}return true}if(j.slider_controls_always_on==false&&j.slider_controls_appear_ontap==true&&p.isCurrentSlideType("image")==true){fe();if(x&&j.slider_textpanel_always_on==true&&p.isCurrentSlideType("image")&&p.isCurrentSlideImageFit())U()}}function ve(e){if(x&&p.isCurrentSlideType("image")&&p.isCurrentSlideImageFit()==false)Y()}function be(){de()}function ye(){le()}function Ie(e){var t=e.parent();p.startSlideAction(t)}function we(){if(v.isPlayMode()){v.pausePlaying()}m.trigger(p.events.ACTION_START)}function Ee(){if(v.isPlayMode()){v.continuePlaying()}m.trigger(p.events.ACTION_END)}function Te(e,t,i){if(g.data("index")==t){objItem=v.getItem(t);B(g,objItem,true,true)}if(c.data("index")==t){objItem=v.getItem(t);B(c,objItem,true,true)}if(h.data("index")==t){objItem=v.getItem(t);B(h,objItem,true,true)}}function Se(e,t,i){if(g.data("index")==t){objItem=v.getItem(t);B(g,objItem,true);preloadItem4kImage(objItem)}if(c.data("index")==t){objItem=v.getItem(t);B(c,objItem,true);preloadItem4kImage(objItem)}if(h.data("index")==t){objItem=v.getItem(t);B(h,objItem,true);preloadItem4kImage(objItem)}}function Pe(e,t){t=jQuery(t);var i=p.getSlideImage(t);var r=ke(t);var n=S.getElementSize(i);S.placeElement(r,"center","middle",n.left,n.top,i)}function xe(e){var t=ke(e);S.addClassOnHover(t);S.setButtonOnClick(t,Ie)}function je(){s.on(v.events.ITEM_IMAGE_UPDATED,Se);s.on(v.events.ITEM_4K_IMAGE_UPDATED,Te);s.on(v.events.ITEM_CHANGE,ce);if(w)jQuery(w).on(w.events.BULLET_CLICK,he);if(j.slider_enable_arrows==true){S.addClassOnHover(d,"ug-arrow-hover");S.addClassOnHover(u,"ug-arrow-hover");v.setNextButton(d);v.setPrevButton(u)}if(j.slider_controls_always_on==false){f.hover(be,ye)}f.on("touchend click",pe);m.on(p.events.CLICK,me);if(x&&C.isTextPanelSaparateHover==true){f.hover(U,Y)}if(y){S.addClassOnHover(y,"ug-button-hover");v.setPlayButton(y)}if(I){S.addClassOnHover(I,"ug-button-hover");v.setFullScreenToggleButton(I)}if(t){m.on(p.events.ZOOM_CHANGE,ve)}if(b)b.initEvents();E.initEvents();jQuery(E).on(E.events.SHOW,we);jQuery(E).on(E.events.HIDE,Ee);xe(g);xe(c);xe(h);m.on(p.events.AFTER_PUT_IMAGE,Pe);f.on("mouseenter",".ug-item-wrapper img",function(e){m.trigger(p.events.IMAGE_MOUSEENTER)});f.on("mouseleave",".ug-item-wrapper img",function(e){var t=p.isMouseInsideSlideImage(e);if(t==false)m.trigger(p.events.IMAGE_MOUSELEAVE)})}this.destroy=function(){m.off(p.events.AFTER_PUT_IMAGE);s.off(v.events.ITEM_IMAGE_UPDATED);s.off(v.events.ITEM_CHANGE);if(w)jQuery(w).on(w.events.BULLET_CLICK);f.off("mouseenter");f.off("mouseleave");f.off("touchend");f.off("click");m.off(p.events.CLICK);if(t)m.off(p.events.ZOOM_CHANGE);m.off(p.events.BEFORE_SWITCH_SLIDES);jQuery(E).off(E.events.SHOW);jQuery(E).off(E.events.HIDE);E.destroy();f.off("mouseenter",".ug-item-wrapper img");f.off("mouseleave",".ug-item-wrapper img")};function Ae(){}function Ce(){var e;switch(j.slider_loader_type){default:case 1:e="ug-loader1";break;case 2:e="ug-loader2";break;case 3:e="ug-loader3";break;case 4:e="ug-loader4";break;case 5:e="ug-loader5";break;case 6:e="ug-loader6";break;case 7:e="ug-loader7";break;case 8:e="ug-loader8";break;case 9:e="ug-loader9";break}if(j.slider_loader_color=="black")e+=" ug-loader-black";return e}function Me(e){switch(e){case 1:return g;break;case 2:return c;break;case 3:return h;break;default:throw new Error("wrong num: "+e);break}}function Oe(e){var t=p.getSlidesReference();var i=t.objCurrentSlide.data("index");var r=e.index;var n="left";if(i>r)n="right";return n}function ze(e){if(!e)var e=p.getCurrentSlide();var t=e.children(".ug-slider-preloader");return t}function ke(e){var t=e.children(".ug-button-videoplay");return t}function Ne(e){if(!e)var e=p.getCurrentSlide();var t=e.data("index");if(t==undefined)return null;var i=v.getItem(t);return i}function Le(e){var t=e.data("slidenum");return t}this.________EXTERNAL_GENERAL___________=function(){};this.init=function(e,t,i){r(e,t,i)};this.getSlideImage=function(e){if(!e)var e=p.getCurrentSlide();var t=e.find(".ug-item-wrapper img");return t};this.setHtml=function(e){n(e)};this.run=function(){i()};this.isInnerInPlace=function(){var e=p.getSlidesReference();var t=S.getElementSize(e.objCurrentSlide);var i=-t.left;var r=S.getElementSize(_);if(i==r.left)return true;else return false};this.isAnimating=function(){var e=_.is(":animated");return e};this.isSlideCurrent=function(e){var t=e.data("slidenum");if(C.numCurrent==t)return true;return false};this.isSlideHasItem=function(e){var t=e.data("index");if(t===undefined||t===null)return false;return true};this.getObjImagePadding=function(){var e={padding_top:j.slider_image_padding_top,padding_bottom:j.slider_image_padding_bottom,padding_left:j.slider_image_padding_left,padding_right:j.slider_image_padding_right};return e};this.getSlidesReference=function(){var e={objPrevSlide:Me(C.numPrev),objNextSlide:Me(C.numNext),objCurrentSlide:Me(C.numCurrent)};return e};this.getCurrentSlide=function(){var e=p.getSlidesReference();return e.objCurrentSlide};this.getCurrentItemIndex=function(){var e=p.getSlidesReference();var t=e.objCurrentSlide.data("index");if(t===null||t===undefined)t=-1;return t};this.getCurrentItem=function(){var e=p.getCurrentItemIndex();if(e==-1)return null;var t=v.getItem(e);return t};this.getSlideType=function(e){if(e==undefined)e=p.getCurrentSlide();var t=e.data("type");return t};this.isMouseInsideSlideImage=function(e){var t=p.getSlideImage();var i=S.getMousePosition(e);if(i.pageX===undefined)i=a.getLastMousePos();var r=S.getMouseElementPoint(i,t);var n=S.getElementSize(t);isMouseInside=S.isPointInsideElement(r,n);return isMouseInside};this.isCurrentSlideType=function(e){var t=p.getSlideType();if(t==e)return true;return false};this.isCurrentSlideLoadingImage=function(){var e=p.getCurrentSlide();var t=e.data("isLoading");if(t===true)return true;return false};this.setItem=function(e,t,i){var r=p.getSlidesReference();var n=r.objCurrentSlide.data("index");var a=e.index;if(a==n){return true}var s=n==undefined;if(s){F(r.objCurrentSlide,e);p.placeNabourItems()}else{var o="left";var l=v.getNumItems();if(i=="next")o="left";else if(i=="prev"||n>a)o="right";else if(n>a)o="right";$(o,e,t)}};this.placeNabourItems=function(){var e=p.getSlidesReference();var t=e.objCurrentSlide.data("index");var i=v.getPrevItem(t);var r=v.getNextItem(t);F(e.objNextSlide,r);F(e.objPrevSlide,i);L()};this.________EXTERNAL_API___________=function(){};this.stopSlideAction=function(e,t){if(!e)e=p.getCurrentSlide();if(t===true)E.pause();else E.hide()};this.startSlideAction=function(e){if(!e)e=p.getCurrentSlide();var t=Ne(e);if(t.type=="image")return true;if(j.slider_video_constantsize==true)q();J();E.show();switch(t.type){case"youtube":E.playYoutube(t.videoid);break;case"vimeo":E.playVimeo(t.videoid);break;case"html5video":E.playHtml5Video(t.videoogv,t.videowebm,t.videomp4,t.urlImage);break;case"soundcloud":E.playSoundCloud(t.trackid);break;case"wistia":E.playWistia(t.videoid);break}};this.getScaleMode=function(e){if(!e)var e=p.getCurrentSlide();var t=p.getSlideType(e);if(t!="image")return j.slider_scale_mode_media;if(j.slider_scale_mode==j.slider_scale_mode_fullscreen)return j.slider_scale_mode;if(v.isFullScreen()==true)return j.slider_scale_mode_fullscreen;else return j.slider_scale_mode};this.getObjects=function(){var e={g_objSlider:f,g_objInner:_,g_options:j,g_objZoomSlider:t};return e};this.getObjZoom=function(){return t};this.getOptions=function(){return j};this.getElement=function(){return f};this.getVideoObject=function(){return E};this.isCurrentSlideImageFit=function(){var e=p.getCurrentSlide();var t=p.getSlideType(e);X("image",e);var i=p.getSlideImage(e);if(i.length==0)return false;var r=S.isImageFitParent(i);return r};this.isCurrentImageInPlace=function(){var e=p.getSlideImage();if(e.length==0)return false;var t=p.getScaleMode();var i=p.getObjImagePadding();var r=Ne();var n=e.parent();var a=S.getImageInsideParentData(n,r.imageWidth,r.imageHeight,t,i);var s=S.getElementSize(e);var o=false;if(a.imageWidth==s.width)o=true;return o};this.isSlideActionActive=function(){return E.isVisible()};this.isSwiping=function(){if(!a)return false;var e=a.isTouchActive();return e};this.isPreloading=function(){var e=ze();if(e.is(":visible"))return true;return false};this.setOptions=function(e){if(T)e=S.convertCustomPrefixOptions(e,T,"slider");j=jQuery.extend(j,e)};this.setSize=function(e,t){if(e<0||t<0)return true;var i={};i["width"]=e+"px";i["height"]=t+"px";f.css(i);var r={};r["height"]=t+"px";r["top"]="0px";r["left"]="0px";_.css(r);var n={};n["height"]=t+"px";n["width"]=e+"px";g.css(n);c.css(n);h.css(n);var a=e-j.slider_item_padding_left-j.slider_item_padding_right;var s=t-j.slider_item_padding_top-j.slider_item_padding_bottom;var o={};o["width"]=a+"px";o["height"]=s+"px";o["top"]=j.slider_item_padding_top+"px";o["left"]=j.slider_item_padding_left+"px";f.find(".ug-item-wrapper").css(o);if(x){x.setSizeByParent()}k();R(g);R(c);R(h);L();var l=p.getSlideType();if(l!="image"&&j.slider_video_constantsize==true){q()}else{var u=e-j.slider_video_padding_left-j.slider_video_padding_right;var d=t-j.slider_video_padding_top-j.slider_video_padding_bottom;E.setSize(u,d)}J()};this.refreshSlideItems=function(){if(p.isAnimating()==true)return true;R(g);R(c);R(h);L()};this.isMouseOver=function(){return f.ismouseover()};this.setPosition=function(e,t){S.placeElement(f,e,t)};this.zoomIn=function(){if(!t)return true;t.zoomIn()};this.zoomOut=function(){if(!t)return true;t.zoomOut()};this.zoomBack=function(){if(!t)return true;t.zoomBack()}}function UGTextPanel(){var n=this;var a,r,_,g;var s,o,l;var c=new UGFunctions,u="";var h={textpanel_align:"bottom",textpanel_margin:0,textpanel_text_valign:"middle",textpanel_padding_top:10,textpanel_padding_bottom:10,textpanel_height:null,textpanel_padding_title_description:5,textpanel_padding_right:11,textpanel_padding_left:11,textpanel_fade_duration:200,textpanel_enable_title:true,textpanel_enable_description:true,textpanel_enable_bg:true,textpanel_bg_color:"#000000",textpanel_bg_opacity:.4,textpanel_title_color:null,textpanel_title_font_family:null,textpanel_title_text_align:null,textpanel_title_font_size:null,textpanel_title_bold:null,textpanel_css_title:{},textpanel_desc_color:null,textpanel_desc_font_family:null,textpanel_desc_text_align:null,textpanel_desc_font_size:null,textpanel_desc_bold:null,textpanel_css_description:{},textpanel_desc_style_as_title:false,textpanel_bg_css:{}};var p={isFirstTime:true,setInternalHeight:true,lastTitleBottom:0,lastDescHeight:0};function i(e,t){if(!t)var t=h.textpanel_padding_top;var i=t;if(_){var r=i;c.placeElement(_,0,r);var n=_.is(":visible");if(n==true){var a=c.getElementSize(_);var i=a.bottom;if(i>0)p.lastTitleBottom=i}else{var i=20;if(p.lastTitleBottom>0)i=p.lastTitleBottom}}var s="";if(g)s=jQuery.trim(g.text());if(s!=""){var o=i;if(_)o+=h.textpanel_padding_title_description;c.placeElement(g,0,o);var l=jQuery(g).is(":visible");if(l==true){var u=c.getElementSize(g);i=u.bottom;if(u.height>0)p.lastDescHeight=u.height}else{var d=16;if(p.lastDescHeight>0)d=p.lastDescHeight;i=o+d}}if(!h.textpanel_height&&p.setInternalHeight==true){var f=i+h.textpanel_padding_bottom;m(f,e)}}function d(){var e=0;if(_)e+=_.outerHeight();if(g){var t="";if(g)t=jQuery.trim(g.text());if(t!=""){if(_)e+=h.textpanel_padding_title_description;e+=g.outerHeight()}}return e}function t(){var e=d();var t=(o.height()-e)/2;i(false,t)}function f(){var e=d();var t=o.height()-e-h.textpanel_padding_bottom;i(false,t)}this.positionElements=function(e){if(!h.textpanel_height||h.textpanel_text_valign=="top"){i(e);return false}switch(h.textpanel_text_valign){default:case"top":i(false);break;case"bottom":f();break;case"center":case"middle":t();break}};function m(e,t){if(!t)var t=false;if(t==true){if(s){var i=s.height();if(e>i)s.height(e)}var r={height:e+"px"};a.add(o).animate(r,h.textpanel_fade_duration)}else{if(s)s.height(e);a.add(o).height(e)}}this.init=function(e,t,i){l=e;if(i){u=i;t=c.convertCustomPrefixOptions(t,u,"textpanel")}if(t)h=jQuery.extend(h,t);if(h.textpanel_enable_title==false&&h.textpanel_enable_description==false)throw new Error("Textpanel Error: The title or description must be enabled");if(h.textpanel_height&&h.textpanel_height<0)h.textpanel_height=null;if(h.textpanel_desc_style_as_title==true){if(!h.textpanel_desc_color)h.textpanel_desc_color=h.textpanel_title_color;if(!h.textpanel_desc_bold)h.textpanel_desc_bold=h.textpanel_title_bold;if(!h.textpanel_desc_font_family)h.textpanel_desc_font_family=h.textpanel_title_font_family;if(!h.textpanel_desc_font_size)h.textpanel_desc_font_size=h.textpanel_title_font_size;if(!h.textpanel_desc_text_align)h.textpanel_desc_text_align=h.textpanel_title_text_align}};this.appendHTML=function(e,t){r=e;if(t){t=" "+t}else t="";var i="<div class='ug-textpanel"+t+"'>";if(h.textpanel_enable_bg==true)i+="<div class='ug-textpanel-bg"+t+"'></div>";i+="<div class='ug-textpanel-textwrapper"+t+"'>";if(h.textpanel_enable_title==true)i+="<div class='ug-textpanel-title"+t+"'></div>";if(h.textpanel_enable_description==true)i+="<div class='ug-textpanel-description"+t+"'></div>";i+="</div></div>";e.append(i);a=e.children(".ug-textpanel");o=a.children(".ug-textpanel-textwrapper");v()};function v(){if(h.textpanel_enable_bg==true){s=a.children(".ug-textpanel-bg");s.fadeTo(0,h.textpanel_bg_opacity);var e={"background-color":h.textpanel_bg_color};e=jQuery.extend(e,h.textpanel_bg_css);s.css(e)}if(h.textpanel_enable_title==true){_=o.children(".ug-textpanel-title");var t={};if(h.textpanel_title_color!==null)t["color"]=h.textpanel_title_color;if(h.textpanel_title_font_family!==null)t["font-family"]=h.textpanel_title_font_family;if(h.textpanel_title_text_align!==null)t["text-align"]=h.textpanel_title_text_align;if(h.textpanel_title_font_size!==null)t["font-size"]=h.textpanel_title_font_size+"px";if(h.textpanel_title_bold!==null){if(h.textpanel_title_bold===true)t["font-weight"]="bold";else t["font-weight"]="normal"}if(h.textpanel_css_title)t=jQuery.extend(t,h.textpanel_css_title);_.css(t)}if(h.textpanel_enable_description==true){g=o.children(".ug-textpanel-description");var i={};if(h.textpanel_desc_color!==null)i["color"]=h.textpanel_desc_color;if(h.textpanel_desc_font_family!==null)i["font-family"]=h.textpanel_desc_font_family;if(h.textpanel_desc_text_align!==null)i["text-align"]=h.textpanel_desc_text_align;if(h.textpanel_desc_font_size!==null)i["font-size"]=h.textpanel_desc_font_size+"px";if(h.textpanel_desc_bold!==null){if(h.textpanel_desc_bold===true)i["font-weight"]="bold";else i["font-weight"]="normal"}if(h.textpanel_css_title)i=jQuery.extend(i,h.textpanel_css_description);g.css(i)}}function e(){var e=l.getSelectedItem();n.setText(e.title,e.description)}function b(){jQuery(l).on(l.events.ITEM_CHANGE,e)}this.destroy=function(){jQuery(l).off(l.events.ITEM_CHANGE)};this.run=function(){n.setSizeByParent();b()};this.setPanelSize=function(e,t){p.setInternalHeight=true;if(!t)var t=80;else p.setInternalHeight=false;if(h.textpanel_height)t=h.textpanel_height;a.width(e);a.height(t);if(s){s.width(e);s.height(t)}var i=e-h.textpanel_padding_left-h.textpanel_padding_right;var r=h.textpanel_padding_left;c.setElementSizeAndPosition(o,r,0,i,t);if(_)_.width(i);if(g)g.width(i);if(p.isFirstTime==false)n.positionElements(false)};this.setSizeByParent=function(){var e=c.getElementSize(r);n.setPanelSize(e.width)};this.setTextPlain=function(e,t){if(_)_.html(e);if(g)g.html(t)};this.setText=function(e,t){if(p.isFirstTime==true){n.setTextPlain(e,t);p.isFirstTime=false;n.positionElements(false)}else{o.stop().fadeTo(h.textpanel_fade_duration,0,function(){n.setTextPlain(e,t);n.positionElements(true);jQuery(this).fadeTo(h.textpanel_fade_duration,1)})}};this.positionPanel=function(e,t){var i={};if(e!==undefined&&e!==null){i.top=e;i.bottom="auto"}else{switch(h.textpanel_align){case"top":i.top=h.textpanel_margin+"px";break;case"bottom":i.top="auto";i.bottom=h.textpanel_margin+"px";break;case"middle":i.top=c.getElementRelativePos(a,"middle",h.textpanel_margin);break}}if(t!==undefined&&t!==null)i.left=t;a.css(i)};this.setOptions=function(e){if(u)e=c.convertCustomPrefixOptions(e,u,"textpanel");h=jQuery.extend(h,e)};this.getElement=function(){return a};this.getSize=function(){var e=c.getElementSize(a);return e};this.refresh=function(e,t,i,r){v();if(!i)n.setSizeByParent();else n.setPanelSize(i,r);n.positionElements(false);if(t!==true)n.positionPanel();if(e===true)n.show()};this.hide=function(){a.hide()};this.show=function(){a.show()};this.getOptions=function(){return h};this.getOption=function(e){if(h.hasOwnProperty(e)==false)return null;return h[e]}}function UGZoomButtonsPanel(){var e=this;var i,r,n,a,s;var o=new UGSlider;var t=new UGFunctions;var l={slider_zoompanel_skin:""};var u={};this.init=function(e,t){o=e;if(t)l=jQuery.extend(l,t)};this.appendHTML=function(e){r=e;var t="<div class='ug-slider-control ug-zoompanel ug-skin-"+l.slider_zoompanel_skin+"'>";t+="<div class='ug-zoompanel-button ug-zoompanel-plus' title='Zoom In'></div>";t+="<div class='ug-zoompanel-button ug-zoompanel-minus ug-zoompanel-button-disabled' title='Zoom Out'></div>";t+="<div class='ug-zoompanel-button ug-zoompanel-return ug-zoompanel-button-disabled' title='Reset Zoom'></div>";t+="</div>";e.append(t);i=e.children(".ug-zoompanel");n=i.children(".ug-zoompanel-plus");a=i.children(".ug-zoompanel-minus");s=i.children(".ug-zoompanel-return")};this.setObjects=function(e,t,i){n=e;a=t;s=i;if(a)a.addClass("ug-zoompanel-button-disabled");if(s)s.addClass("ug-zoompanel-button-disabled")};this.getElement=function(){return i};function d(e){if(!e)return true;if(e.hasClass("ug-zoompanel-button-disabled"))return true;return false}function f(e){if(e)e.addClass("ug-zoompanel-button-disabled")}function _(e){if(e)e.removeClass("ug-zoompanel-button-disabled")}function g(){if(o.isCurrentSlideType("image")==false)return true;var e=o.isCurrentSlideImageFit();if(e==true){if(d(a)==false){f(a);f(s)}}else{if(d(a)==true){_(a);_(s)}}}e.initEvents=function(){t.addClassOnHover(n,"ug-button-hover");t.addClassOnHover(a,"ug-button-hover");t.addClassOnHover(s,"ug-button-hover");t.setButtonOnClick(n,function(){if(d(n)==true)return true;o.zoomIn()});t.setButtonOnClick(a,function(){if(d(a)==true)return true;o.zoomOut()});t.setButtonOnClick(s,function(){if(d(s)==true)return true;o.zoomBack()});jQuery(o).on(o.events.ZOOM_CHANGE,g);jQuery(o).on(o.events.ITEM_CHANGED,g)}}function UGBullets(){var i=this,n=0,r=new UniteGalleryMain;var a,s,o=-1,l;var t=new UGFunctions;var u={isInited:false};var d={bullets_skin:"",bullets_addclass:"",bullets_space_between:-1};this.events={BULLET_CLICK:"bullet_click"};this.init=function(e,t,i){r=e;if(i)n=i;else n=r.getNumItems();u.isInited=true;d=jQuery.extend(d,t);if(d.bullets_skin=="")d.bullets_skin=d.gallery_skin};function f(){var e="";var t="";if(d.bullets_space_between!=-1)t=" style='margin-left:"+d.bullets_space_between+"px'";for(var i=0;i<n;i++){if(i==0)e+="<div class='ug-bullet'></div>";else e+="<div class='ug-bullet'"+t+"></div>"}a.html(e);if(!l){var r=a.find(".ug-bullet:first-child");if(r.length)l=r.width()}}this.getBulletsWidth=function(){if(n==0)return 0;if(!l)return 0;var e=n*l+(n-1)*d.bullets_space_between;return e};this.appendHTML=function(e){s=e;h();var t="";if(d.bullets_addclass!="")t=" "+d.bullets_addclass;var i="<div class='ug-slider-control ug-bullets ug-skin-"+d.bullets_skin+t+"'>";i+="</div>";a=jQuery(i);e.append(a);f();g()};this.updateNumBullets=function(e){n=e;f();g()};function _(e){if(i.isActive(e)==true)return true;var t=e.index();jQuery(i).trigger(i.events.BULLET_CLICK,t)}function g(){var e=a.children(".ug-bullet");t.setButtonOnClick(e,_);e.on("mousedown mouseup",function(e){return false})}this.getElement=function(){return a};this.setActive=function(e){h();c(e);var t=a.children(".ug-bullet");t.removeClass("ug-bullet-active");var i=jQuery(t[e]);i.addClass("ug-bullet-active");o=e};this.isActive=function(e){c(e);if(typeof e!="number")var t=e;else{var t=a.children(".ug-bullet")[e]}if(t.hasClass("ug-bullet-active"))return true;return false};this.getNumBullets=function(){return n};function c(e){if(e<0||e>=n)throw new Error("wrong bullet index: "+e)}function h(){if(u.isInited==true)return true;throw new Error("The bullets are not inited!")}}function UGProgressBar(){var i=this,e=false;var t=0,n,a,s=new UGFunctions;var o={slider_progressbar_color:"#ffffff",slider_progressbar_opacity:.6,slider_progressbar_line_width:5};this.put=function(e,t){if(t)o=jQuery.extend(o,t);e.append("<div class='ug-progress-bar'><div class='ug-progress-bar-inner'></div></div>");n=e.children(".ug-progress-bar");a=n.children(".ug-progress-bar-inner");a.css("background-color",o.slider_progressbar_color);n.height(o.slider_progressbar_line_width);a.height(o.slider_progressbar_line_width);a.width("0%");var i=o.slider_progressbar_opacity;var r=a[0];r.style.opacity=i;r.style.filter="alpha(opacity="+i*100+")"};this.putHidden=function(e,t){i.put(e,t);n.hide()};this.getElement=function(){return n};this.setSize=function(e){n.width(e);a.width(e);i.draw()};this.setPosition=function(e,t,i,r){s.placeElement(n,e,t,i,r)};this.draw=function(){var e=t*100;a.width(e+"%")};this.setProgress=function(e){t=s.normalizePercent(e);i.draw()};this.getType=function(){return"bar"}}function UGProgressPie(){var i=this,l=false;var t,u,r=new UGFunctions;var d={slider_progresspie_type_fill:false,slider_progresspie_color1:"#B5B5B5",slider_progresspie_color2:"#E5E5E5",slider_progresspie_stroke_width:6,slider_progresspie_width:30,slider_progresspie_height:30};this.put=function(e,t){if(t)d=jQuery.extend(d,t);e.append("<canvas class='ug-canvas-pie' width='"+d.slider_progresspie_width+"' height='"+d.slider_progresspie_height+"'></canvas>");u=e.children(".ug-canvas-pie")};this.putHidden=function(e,t){i.put(e,t);n(.1);u.hide()};this.getElement=function(){return u};this.setPosition=function(e,t){r.placeElement(u,e,t)};this.getSize=function(){var e={width:d.slider_progresspie_width,height:d.slider_progresspie_height};return e};function n(e){if(!e)var e=0;var t=Math.min(d.slider_progresspie_width,d.slider_progresspie_height)/2;var i=u[0].getContext("2d");if(l==false){l=true;i.rotate(Math.PI*(3/2));i.translate(-2*t,0)}i.clearRect(0,0,d.slider_progresspie_width,d.slider_progresspie_height);var r=d.slider_progresspie_width/2;var n=d.slider_progresspie_height/2;var a=0;var s=e*Math.PI*2;if(d.slider_progresspie_type_fill==true){i.beginPath();i.moveTo(r,n);i.arc(r,n,t,a,s);i.lineTo(r,n);i.fillStyle=d.slider_progresspie_color1;i.fill();i.closePath()}else{i.globalCompositeOperation="source-over";i.beginPath();i.moveTo(r,n);i.arc(r,n,t,a,s);i.lineTo(r,n);i.fillStyle=d.slider_progresspie_color1;i.fill();i.closePath();i.globalCompositeOperation="destination-out";var o=t-d.slider_progresspie_stroke_width;i.beginPath();i.moveTo(r,n);i.arc(r,n,o,a,s);i.lineTo(r,n);i.fillStyle=d.slider_progresspie_color1;i.fill();i.closePath()}if(d.slider_progresspie_type_fill==true){a=s;s=Math.PI*2;i.beginPath();i.arc(r,n,t,a,s);i.lineTo(r,n);i.fillStyle=d.slider_progresspie_color2;i.fill();i.closePath()}}this.setProgress=function(e){e=r.normalizePercent(e);t=e;n(e)};this.getType=function(){return"pie"}}function UGTouchSliderControl(){var d,f,_=new UGSlider;var g,l,e=this;var u=new UGFunctions;var l={slider_transition_continuedrag_speed:250,slider_transition_continuedrag_easing:"linear",slider_transition_return_speed:300,slider_transition_return_easing:"easeInOutQuad"};var c={touch_active:false,startMouseX:0,startMouseY:0,lastMouseX:0,lastMouseY:0,startPosx:0,startTime:0,isInitDataValid:false,slides:null,lastNumTouches:0,isDragging:false,storedEventID:"touchSlider",videoStartX:0,isDragVideo:false,videoObject:null};function h(e){if(!e)var e=_.getSlidesReference();var t=u.getElementSize(e.objCurrentSlide);var i=-t.left;var r=u.getElementSize(f);var n=i-r.left;return n}function s(){var e=_.getSlidesReference();var t=h(e);var i=Math.round(e.objCurrentSlide.width()*3/8);if(Math.abs(t)>=i)return true;var r=Math.abs(c.lastMouseX-c.startMouseX);var n=Math.abs(c.lastMouseY-c.startMouseY);if(r<20)return false;var a=jQuery.now();var s=a-c.startTime;if(s<500)return true;return false}this.isTapEventOccured=function(e){var t=u.getArrTouches(e);var i=t.length;if(i!=0||c.lastNumTouches!=0){c.lastNumTouches=i;return false}c.lastNumTouches=i;var r=_.getSlidesReference();var n=h(r);var a=Math.abs(c.lastMouseX-c.startMouseX);var s=Math.abs(c.lastMouseY-c.startMouseY);var o=jQuery.now();var l=o-c.startTime;if(a<20&&s<50&&l<500)return true;return false};function o(e){if(_.isInnerInPlace()==true)return false;g.trigger(_.events.BEFORE_RETURN);if(!e)var e=_.getSlidesReference();var t=u.getElementSize(e.objCurrentSlide);var o=-t.left;f.animate({left:o+"px"},{duration:l.slider_transition_return_speed,easing:l.slider_transition_continuedrag_easing,queue:false,progress:function(e,t,i){if(c.isDragVideo==true){var r=u.getElementSize(f);var n=r.left;var a=n-o;var s=c.videoStartX+a;c.videoObject.css("left",s)}},complete:function(){g.trigger(_.events.AFTER_RETURN)}})}function p(e){_.getVideoObject().hide();_.switchSlideNums(e);_.placeNabourItems()}function m(){var e=_.getSlidesReference();var t=h(e);if(t==0)return false;var i=t>0?"left":"right";var r=false;switch(i){case"right":if(_.isSlideHasItem(e.objPrevSlide)){var n=u.getElementSize(e.objPrevSlide);var a=-n.left}else r=true;break;case"left":if(_.isSlideHasItem(e.objNextSlide)){var s=u.getElementSize(e.objNextSlide);var a=-s.left}else r=true;break}if(r==true){o(e)}else{f.stop().animate({left:a+"px"},{duration:l.slider_transition_continuedrag_speed,easing:l.slider_transition_continuedrag_easing,queue:false,progress:function(){if(c.isDragVideo==true){var e=u.getElementSize(f);var t=e.left;var i=t-c.startPosx;var r=c.videoStartX+i;c.videoObject.css("left",r)}},always:function(){p(i);g.trigger(_.events.AFTER_DRAG_CHANGE)}})}}function r(e){var t=c.lastMouseX-c.startMouseX;if(t==0)return true;var i=t<0?"left":"right";var r=_.getObjZoom();if(r){var n=r.isPanEnabled(e,i);if(n==true){c.isInitDataValid=false;return true}else{if(c.isInitDataValid==false){v(e);return true}}}var a=c.startPosx+t;if(t>0&&a>0)a=a/3;else if(t<0){var s=a+f.width();var o=d.width();if(s<o){a=c.startPosx+t/3}}if(c.isDragging==false){c.isDragging=true;g.trigger(_.events.START_DRAG)}f.css("left",a+"px");if(c.isDragVideo==true){var l=a-c.startPosx;var u=c.videoStartX+l;c.videoObject.css("left",u)}}function v(e){var t=u.getMousePosition(e);c.startMouseX=t.pageX;c.startMouseY=t.pageY;c.lastMouseX=c.startMouseX;c.lastMouseY=c.startMouseY;c.startTime=jQuery.now();var i=u.getArrTouches(e);c.startArrTouches=u.getArrTouchPositions(i);var r=u.getElementSize(f);c.startPosx=r.left;c.isInitDataValid=true;c.isDragVideo=false;u.storeEventData(e,c.storedEventID)}function b(e){c.touch_active=false}function y(e,t){c.touch_active=true;v(t)}function t(e){e.preventDefault();c.isDragging=false;if(_.isAnimating()==true){f.stop(true,true)}var t=u.getArrTouches(e);if(t.length>1){if(c.touch_active==true){b("1")}return true}if(c.touch_active==true){return true}y("1",e)}function i(e){if(c.touch_active==false)return true;if(e.buttons==0){b("2");m();return true}u.updateStoredEventData(e,c.storedEventID);e.preventDefault();var t=u.getMousePosition(e);c.lastMouseX=t.pageX;c.lastMouseY=t.pageY;var i=null;if(l.slider_vertical_scroll_ondrag==true)i=u.handleScrollTop(c.storedEventID);if(i!=="vert")r(e)}function n(e){var t=u.getArrTouches(e);var i=t.length;var r=_.isInnerInPlace();if(r==true&&c.touch_active==false&&i==0){return true}if(i==0&&c.touch_active==true){b("3");var n=false;var a=u.wasVerticalScroll(c.storedEventID);if(a==false)n=s();if(n==true)m();else o()}else{if(i==1&&c.touch_active==false){y("2",e)}}}function a(){d.bind("mousedown touchstart",t);jQuery("body").bind("mousemove touchmove",i);jQuery(window).add("body").bind("mouseup touchend",n)}this.init=function(e,t){_=e;g=jQuery(_);g_objects=e.getObjects();d=g_objects.g_objSlider;f=g_objects.g_objInner;l=jQuery.extend(l,t);a()};this.getLastMousePos=function(){var e={pageX:c.lastMouseX,pageY:c.lastMouseY};return e};this.isTouchActive=function(){return c.touch_active}}function UGZoomSliderControl(){var i,r,g=new UGSlider,c;var h=new UGFunctions;var e=this;var p={slider_zoom_step:1.2,slider_zoom_max_ratio:6,slider_zoom_return_pan_duration:400,slider_zoom_return_pan_easing:"easeOutCubic"};var m={isPanActive:false,startMouseX:0,startMouseY:0,lastMouseX:0,lastMouseY:0,startImageX:0,startImageY:0,panXActive:false,panYActive:false,objImage:null,objImageSize:null,objParent:null,objParentSize:null,objSlide:null,storeImageLastTime:0,isZoomActive:false,startDistance:0,startMiddlePoint:null,imageOrientPoint:null,objFitImageSize:null,isZoomedOnce:false};function n(e,t){g=e;c=jQuery(g);g_objects=e.getObjects();i=g_objects.g_objSlider;r=g_objects.g_objInner;p=jQuery.extend(p,t);M()}function u(){var e=g.getScaleMode();if(e!="down")e="fit";return e}function s(){var e=jQuery.now();var t=e-m.storeImageLastTime;if(t<20)return false;var i=g.getSlidesReference();m.objSlide=i.objCurrentSlide;m.objImage=i.objCurrentSlide.find("img");if(m.objImage.length==0)return false;m.objImageSize=h.getElementSize(m.objImage);m.objParent=m.objImage.parent();m.objParentSize=h.getElementSize(m.objParent);var r=u();objPadding=g.getObjImagePadding();m.objFitImageSize=h.getImageInsideParentDataByImage(m.objImage,r,objPadding);var e=jQuery.now();m.storeImageLastTime=e;return true}function o(e,t){var i=g.getSlidesReference();var r=i.objCurrentSlide.find("img");var n=u();c.trigger(g.events.ZOOM_START);var a=true;var s=g.getObjImagePadding();if(e=="back"){var o=h.getImageOriginalSize(r);h.scaleImageFitParent(r,o.width,o.height,n,s)}else{var l=e=="in"?true:false;a=h.zoomImageInsideParent(r,l,p.slider_zoom_step,t,n,p.slider_zoom_max_ratio,s)}if(a==true){c.trigger(g.events.ZOOMING);c.trigger(g.events.ZOOM_CHANGE);c.trigger(g.events.ZOOM_END)}}function t(){}function l(e,t,i){var r=h.getArrTouches(t);if(i===true){if(r.length!=1)return false}else{if(r.length>1)return false}if(h.isElementBiggerThenParent(e))return true;return false}function a(e){var t=h.getMousePosition(e);m.startMouseX=t.pageX;m.startMouseY=t.pageY;m.lastMouseX=m.startMouseX;m.lastMouseY=m.startMouseY;m.startImageX=m.objImageSize.left;m.startImageY=m.objImageSize.top;m.panXActive=m.objImageSize.width>m.objParentSize.width;m.panYActive=m.objImageSize.height>m.objParentSize.height}function d(e){m.isPanActive=true;a(e)}function f(e){if(m.objImage==undefined||m.objImage.length==0)return true;var t=h.getMousePosition(e);var i=t.pageX-m.startMouseX;var r=t.pageY-m.startMouseY;var n=t.pageX-m.lastMouseX;var a=t.pageY-m.lastMouseY;var s=n<0?"left":"right";var o=a<0?"up":"down";m.lastMouseX=t.pageX;m.lastMouseY=t.pageY;var l=h.getElementSize(m.objImage);if(m.panYActive==false){a=0}else{if(o=="down"&&l.top>0){a=a/3}else if(o=="up"&&l.bottom<m.objParentSize.height){a=a/3}}if(m.panXActive==false||g.isInnerInPlace()==false){n=0}else{if(s=="right"&&l.left>0){n=n/3}else if(s=="left"&&l.right<m.objParentSize.width){n=n/3}}var u=l.left+n;var d=l.top+a;h.placeElement(m.objImage,u,d)}function _(){var e=false,t=false,i=0,r=0;var n=h.getElementSize(m.objImage);var a=g.getObjImagePadding();var s=h.getElementCenterPosition(m.objImage,a);m.panXActive=m.objImageSize.width>m.objParentSize.width;m.panYActive=m.objImageSize.height>m.objParentSize.height;if(m.panYActive==true){if(n.top>0){r=0;t=true}else if(n.bottom<m.objParentSize.height){r=m.objParentSize.height-n.height;t=true}}else{if(n.top!=s.top){t=true;r=s.top}}if(m.panXActive==true){if(n.left>0){i=0;e=true}else if(n.right<m.objParentSize.width){i=m.objParentSize.width-n.width;e=true}}else{if(n.left!=s.left){e=true;i=s.left}}var o={};if(t==true)o.top=r+"px";if(e==true)o.left=i+"px";if(t==true||e==true){m.objImage.animate(o,{duration:p.slider_zoom_return_pan_duration,easing:p.slider_zoom_return_pan_easing,queue:false})}}function v(){if(m.objImage&&m.objImage.is(":animated"))return true;return false}function b(){}function y(){}function I(e){m.isZoomActive=true;m.startDistance=h.getDistance(e[0].pageX,e[0].pageY,e[1].pageX,e[1].pageY);if(m.startDistance==0)m.startDistance=1;m.startMiddlePoint=h.getMiddlePoint(e[0].pageX,e[0].pageY,e[1].pageX,e[1].pageY);m.objImageSize=h.getElementSize(m.objImage);m.startImageX=m.objImageSize.left;m.startImageY=m.objImageSize.top;m.imageOrientPoint=h.getElementLocalPoint(m.startMiddlePoint,m.objImage);var t=h.isPointInsideElement(m.imageOrientPoint,m.objImageSize);if(t==false){m.imageOrientPoint=h.getElementCenterPoint(m.objImage)}c.trigger(g.events.ZOOM_START)}function w(e){if(m.isZoomActive==false)return false;var t=h.getArrTouches(e);if(t.length!=2){m.isZoomActive=false;c.trigger(g.events.ZOOM_END)}}function E(e){if(m.isZoomActive==true)return true;var t=h.getArrTouches(e);if(t.length!=2)return true;I(t)}function T(e){var t=h.getArrTouches(e);var i=h.getDistance(t[0].pageX,t[0].pageY,t[1].pageX,t[1].pageY);var r=i/m.startDistance;var n=h.getMiddlePoint(t[0].pageX,t[0].pageY,t[1].pageX,t[1].pageY);var a=m.objImageSize.width*r;var s=m.objImageSize.height*r;var o=h.getImageOriginalSize(m.objImage);var l=1;if(o.width>0)l=a/o.width;if(l>p.slider_zoom_max_ratio)return true;panX=-(m.imageOrientPoint.x*r-m.imageOrientPoint.x);panY=-(m.imageOrientPoint.y*r-m.imageOrientPoint.y);var u=n.x-m.startMiddlePoint.x;var d=n.y-m.startMiddlePoint.y;var f=m.startImageX+panX+u;var _=m.startImageY+panY+d;h.setElementSizeAndPosition(m.objImage,f,_,a,s);c.trigger(g.events.ZOOMING);c.trigger(g.events.ZOOM_CHANGE)}function S(){if(m.objImage==undefined||m.objImage.length==0)return true;var e=h.getElementSize(m.objImage);if(e.width<m.objFitImageSize.imageWidth){m.objImage.css({position:"absolute",margin:"none"});var t={top:m.objFitImageSize.imageTop+"px",left:m.objFitImageSize.imageLeft+"px",width:m.objFitImageSize.imageWidth+"px",height:m.objFitImageSize.imageHeight+"px"};m.objImage.animate(t,{duration:p.slider_zoom_return_pan_duration,easing:p.slider_zoom_return_pan_easing,queue:false})}else{_()}}function P(){}function x(e){if(g.isCurrentSlideType("image")==false)return true;var t=s();if(m.objImage==undefined||m.objImage.length==0)return true;e.preventDefault();if(v()==true){m.objImage.stop(true)}if(m.isZoomActive==true){w(e)}else{E(e)}if(m.isZoomActive==true){m.isPanActive=false}else if(l(m.objImage,e)==true&&m.isZoomedOnce==true){d(e)}}function j(e){if(g.isCurrentSlideType("image")==false)return true;var t=jQuery(e.target);if(t.data("ug-button")==true){return false}var i=s();if(m.objImage==undefined||m.objImage.length==0)return true;var r=m.isPanActive;var n=m.isZoomActive;if(g.isInnerInPlace()==false){m.isZoomActive=false;m.isPanActive=false;return true}if(m.isZoomActive==true){w(e)}else{E(e)}if(m.isZoomActive==true){m.isPanActive=false}else{var a=l(m.objImage,e,true);if(m.isPanActive==true){m.isPanActive=false}else if(a==true){d(e)}}if((r||n)&&m.isZoomActive==false&&m.isPanActive==false){S()}}function A(e){if(g.isCurrentSlideType("image")==false)return true;if(m.isZoomActive==true){T(e)}else if(m.isPanActive==true){f(e)}}function C(e,t,i,r){if(p.slider_zoom_mousewheel==false)return true;if(g.isCurrentSlideType("image")==false)return true;e.preventDefault();var n=t>0;var a=h.getMousePosition(e);var s=n==true?"in":"out";o(s,a)}function M(){i.on("mousewheel",C);i.bind("mousedown touchstart",x);jQuery("body").bind("mousemove touchmove",A);jQuery(window).add("body").bind("mouseup touchend",j);c.bind(g.events.BEFORE_RETURN,function(){S()});c.bind(g.events.ITEM_CHANGED,function(){m.isZoomedOnce=false});c.bind(g.events.ZOOM_CHANGE,function(){m.isZoomedOnce=true})}this.________EXTERNAL_____________=function(){};this.isPanEnabled=function(e,t){s();if(m.objImage==undefined||m.objImage.length==0)return false;if(m.isZoomedOnce==false)return false;if(l(m.objImage,e)==false)return false;if(g.isInnerInPlace()==false)return false;if(t=="left"){if(m.objImageSize.right<=m.objParentSize.width)return false}else{if(m.objImageSize.left>=0)return false}return true};this.init=function(e,t){n(e,t)};this.zoomIn=function(){o("in")};this.zoomOut=function(){o("out")};this.zoomBack=function(){o("back")}}function UGWistiaAPI(){this.isAPILoaded=false;var e=this,t=jQuery(this),a;var o,l=false;this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"};function s(){return typeof Wistia!="undefined"}this.loadAPI=function(){if(g_ugWistiaAPI.isAPILoaded==true)return true;if(s()){g_ugWistiaAPI.isAPILoaded=true;return true}g_ugFunctions.loadJs("fast.wistia.com/assets/external/E-v1.js",true);g_ugWistiaAPI.isAPILoaded=true};function u(e,t,i,r,n){o=null;l=false;var a=e+"_video";var s="<div id='"+a+"' class='wistia_embed' style='width:"+i+";height:"+r+";' data-video-width='"+i+"' data-video-height='"+r+"'>&nbsp;</div>";jQuery("#"+e).html(s);o=Wistia.embed(t,{version:"v1",videoWidth:i,videoHeight:r,container:a,autoPlay:n});l=true;d()}function d(){o.bind("play",function(){t.trigger(e.events.START_PLAYING)});o.bind("pause",function(){t.trigger(e.events.STOP_PLAYING)});o.bind("end",function(){t.trigger(e.events.STOP_PLAYING);t.trigger(e.events.VIDEO_ENDED)})}this.doCommand=function(e){if(o==null)return false;if(l==false)return false;switch(e){case"play":o.play();break;case"pause":o.pause();break}};this.pause=function(){e.doCommand("pause")};this.play=function(){e.doCommand("play")};this.putVideo=function(e,t,i,r,n){if(s()){u(e,t,i,r,n);return true}this.loadAPI();a=setInterval(function(){if(s()){u(e,t,i,r,n);clearInterval(a)}},500)};this.isPlayerReady=function(){if(l&&o)return true;return false}}function UGSoundCloudAPI(){this.isAPILoaded=false;var e=this,t=jQuery(this),a;var l,u;this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"};function s(){return typeof SC!="undefined"}this.loadAPI=function(){if(g_ugSoundCloudAPI.isAPILoaded==true)return true;if(s()){g_ugSoundCloudAPI.isAPILoaded=true;return true}g_ugFunctions.loadJs("w.soundcloud.com/player/api.js",true);g_ugSoundCloudAPI.isAPILoaded=true};function o(e,t,i,r,n){l=null;g_isPlayerReady=false;var a=e+"_iframe";var s=location.protocol+"//w.soundcloud.com/player/?url=http://api.soundcloud.com/tracks/"+t;s+="&amp;buying=false&amp;liking=false&amp;download=false&amp;sharing=false&amp;show_artwork=true&show_comments=false&amp;show_playcount=true&amp;show_user=false&amp;hide_related=true&amp;visual=true&amp;start_track=0&amp;callback=true";if(n===true)s+="&amp;auto_play=true";else s+="&amp;auto_play=false";var o="<iframe id='"+a+"' src="+s+" width='"+i+"' height='"+r+"' frameborder='0' scrolling='no' webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>";jQuery("#"+e).html(o);l=SC.Widget(a);l.bind(SC.Widget.Events.READY,function(){if(l){g_isPlayerReady=true;d()}});u=e}function d(){l.bind(SC.Widget.Events.PLAY,function(){t.trigger(e.events.START_PLAYING)});l.bind(SC.Widget.Events.PAUSE,function(){t.trigger(e.events.STOP_PLAYING)});l.bind(SC.Widget.Events.FINISH,function(){t.trigger(e.events.STOP_PLAYING);t.trigger(e.events.VIDEO_ENDED)})}this.putSound=function(e,t,i,r,n){if(s()){o(e,t,i,r,n);return true}this.loadAPI();a=setInterval(function(){if(s()){o(e,t,i,r,n);clearInterval(a)}},500)};this.doCommand=function(e){if(l==null)return false;if(g_isPlayerReady==false)return false;switch(e){case"play":l.play();break;case"pause":l.pause();break}};this.pause=function(){e.doCommand("pause")};this.play=function(){e.doCommand("play")};this.destroy=function(){g_isPlayerReady=false;l=null;if(u){jQuery("#"+u).html("");u=null}}}function UGHtml5MediaAPI(){this.isAPILoaded=false;var e=this,t=jQuery(this),a;var f;this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"};this.loadAPI=function(){if(g_ugHtml5MediaAPI.isAPILoaded==true)return true;if(s()){g_ugHtml5MediaAPI.isAPILoaded=true;return true}g_ugFunctions.loadJs("cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/mediaelement.min.js",true);g_ugFunctions.loadCss("cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/mediaelementplayer.min.css",true);g_ugHtml5MediaAPI.isAPILoaded=true};function s(){return typeof mejs!="undefined"}function o(e,t,i,r,n){f=null;g_isPlayerReady=false;var a=location.protocol+"//cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/flashmediaelement-cdn.swf";var s=location.protocol+"//cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/silverlightmediaelement.xap";var o=e+"_video";var l="";if(n&&n===true)l="autoplay='autoplay'";var u="";if(t.posterImage)u="poster='"+t.posterImage+"'";var d="<video id='"+o+"' width='"+i+"' height='"+r+"'  controls='controls' preload='none' "+l+" "+u+">";if(t.mp4!="")d+="<source type='video/mp4' src='"+t.mp4+"' />";if(t.webm!="")d+="<source type='video/webm' src='"+t.webm+"' />";if(t.ogv!="")d+="<source type='video/ogg' src='"+t.ogv+"' />";d+="<object width='"+i+"' height='"+r+"' type='application/x-shockwave-flash' data='"+a+"'>";d+="<param name='movie' value='"+a+"' />";d+="<param name='flashvars' value='controls=true&file="+t.mp4+"' />";d+="</object>";d+="</video>";jQuery("#"+e).html(d);new MediaElement(o,{enablePluginDebug:false,flashName:a,silverlightName:s,success:function(e,t){g_isPlayerReady=true;f=e;if(n==false)f.pause();_()},error:function(e){trace(e)}})}function _(){g_ugFunctions.addEvent(f,"play",function(){t.trigger(e.events.START_PLAYING)});g_ugFunctions.addEvent(f,"pause",function(){t.trigger(e.events.STOP_PLAYING)});g_ugFunctions.addEvent(f,"ended",function(){t.trigger(e.events.STOP_PLAYING);t.trigger(e.events.VIDEO_ENDED)})}this.putVideo=function(e,t,i,r,n){if(s()){o(e,t,i,r,n);return true}this.loadAPI();a=setInterval(function(){if(s()){o(e,t,i,r,n);clearInterval(a)}},500)};this.doCommand=function(e){if(f==null)return false;if(g_isPlayerReady==false)return false;switch(e){case"play":f.play();break;case"pause":f.pause();break}};this.pause=function(){e.doCommand("pause")};this.play=function(){e.doCommand("play")}}function UGVimeoAPI(){this.isAPILoaded=false;var i=this,e=jQuery(this),a;var l=null,u=false,d,r=false;this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"};this.loadAPI=function(){if(g_ugVimeoAPI.isAPILoaded==true)return true;if(s()){g_ugVimeoAPI.isAPILoaded=true;return true}g_ugFunctions.loadJs("f.vimeocdn.com/js/froogaloop2.min.js",true);g_ugVimeoAPI.isAPILoaded=true};function s(){return typeof Froogaloop!="undefined"}function o(e,t,i,r,n){l=null;u=false;var a=location.protocol+"//player.vimeo.com/video/"+t+"?api=1";if(n===true)a+="&amp;byline=0&amp;autoplay=1&amp;title=0&amp;portrait=0";var s="<iframe src="+a+" width='"+i+"' height='"+r+"' frameborder='0' webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>";jQuery("#"+e).html(s);var o=jQuery("#"+e+" iframe")[0];l=Froogaloop(o);l.addEvent("ready",function(){if(l){u=true;f()}});d=e}function f(){if(!l)return false;l.addEvent("cuechange",function(){if(r==true)i.play()});l.addEvent("play",function(){e.trigger(i.events.START_PLAYING)});l.addEvent("pause",function(){e.trigger(i.events.STOP_PLAYING)});l.addEvent("finish",function(){e.trigger(i.events.STOP_PLAYING);e.trigger(i.events.VIDEO_ENDED)})}this.doCommand=function(e){if(l==null)return false;if(u==false)return false;switch(e){default:l.api(e);break}};this.pause=function(){i.doCommand("pause")};this.play=function(){i.doCommand("play")};this.destroy=function(){if(l){l.api("unload");l=null;u=false}if(d){jQuery("#"+d).html("")}};this.putVideo=function(e,t,i,r,n){if(s()){o(e,t,i,r,n);return true}this.loadAPI();a=setInterval(function(){if(s()){o(e,t,i,r,n);clearInterval(a)}},500)};this.isPlayerReady=function(){if(u&&l)return true;return false};this.changeVideo=function(e,t){if(i.isPlayerReady()==false)return false;r=t;l.api("loadVideo",e)};this.getVideoImages=function(e,i,r){var t=location.protocol+"//vimeo.com/api/v2/video/"+e+".json";$.ajax({url:t,type:"get",async:false,success:function(e){var t={};t.preview=e[0].thumbnail_large;t.thumb=e[0].thumbnail_medium;r(i,t)},error:function(){}})}}function UGYoutubeAPI(){this.isAPILoaded=false;var i=this,s=null,a,o=false;var t=jQuery(this),r=-1,l;var u={video_youtube_showinfo:true};this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"};function d(e,t,i,r,n){if(s&&o){s.destroy()}var a={controls:2,showinfo:u.video_youtube_showinfo,rel:0};if(n===true)a.autoplay=1;o=false;s=new YT.Player(e,{height:r,width:i,videoId:t,playerVars:a,events:{onReady:_,onStateChange:g}});l=e}function f(){if(typeof YT!="undefined"&&typeof YT.Player!="undefined")return true;return false}this.setOptions=function(e){u=jQuery.extend(u,e)};this.putVideo=function(e,t,i,r,n){if(f()){d(e,t,i,r,n);return true}this.loadAPI();a=setInterval(function(){if(f()){d(e,t,i,r,n);clearInterval(a)}},500)};function _(){o=true}function g(){if(typeof s.getPlayerState!="function"){trace("Youtube API error: can't get player state");return false}var e=s.getPlayerState();switch(e){case YT.PlayerState.PLAYING:t.trigger(i.events.START_PLAYING);break;case YT.PlayerState.ENDED:t.trigger(i.events.STOP_PLAYING);t.trigger(i.events.VIDEO_ENDED);break;default:if(r==YT.PlayerState.PLAYING)t.trigger(i.events.STOP_PLAYING);break}r=e}this.loadAPI=function(){if(g_ugYoutubeAPI.isAPILoaded==true)return true;if(typeof YT!="undefined"){g_ugYoutubeAPI.isAPILoaded=true;return true}g_ugFunctions.loadJs("https://www.youtube.com/player_api",false);g_ugYoutubeAPI.isAPILoaded=true};this.doCommand=function(e,t){if(!s)return true;if(o==false)return false;switch(e){case"play":if(typeof s.playVideo!="function")return false;s.playVideo();break;case"pause":if(typeof s.pauseVideo!="function")return false;s.pauseVideo();break;case"seek":if(typeof s.seekTo!="function")return false;s.seekTo(t);break;case"stopToBeginning":var i=s.getPlayerState();s.pauseVideo();switch(i){case YT.PlayerState.PLAYING:case YT.PlayerState.ENDED:case YT.PlayerState.PAUSED:s.seekTo(0);break}break}};this.play=function(){i.doCommand("play")};this.pause=function(){i.doCommand("pause")};this.destroy=function(){try{if(s){o=false;s.clearVideo();s.destroy()}}catch(e){jQuery("#"+l).html("")}};this.stopToBeginning=function(){i.doCommand("stopToBeginning")};this.changeVideo=function(e,t){if(i.isPlayerReady()==false)return false;if(t&&t==true)s.loadVideoById(e,0,"large");else s.cueVideoById(e,0,"large")};this.isPlayerReady=function(){if(o&&s)return true;return false};this.getVideoImages=function(e){var t={};t.preview="https://i.ytimg.com/vi/"+e+"/sddefault.jpg";t.thumb="https://i.ytimg.com/vi/"+e+"/default.jpg";return t}}function UGVideoPlayer(){var t=this,r,e=jQuery(this),i=new UGFunctions;var n=new UGYoutubeAPI,a=new UGVimeoAPI;var s=new UGHtml5MediaAPI,o=new UGSoundCloudAPI,l=new UGWistiaAPI;var u,d,f,_,g,c,h;var p=null;var m={video_enable_closebutton:true};this.events={SHOW:"video_show",HIDE:"video_hide",PLAY_START:"video_play_start",PLAY_STOP:"video_play_stop",VIDEO_ENDED:"video_ended"};var v={standAloneMode:false,youtubeInnerID:"",vimeoPlayerID:"",html5PlayerID:"",wistiaPlayerID:"",soundCloudPlayerID:""};this.init=function(e,t,i){r=i;if(!r)throw new Error("missing gallery ID for video player, it's a must!");m=jQuery.extend(m,e);n.setOptions(m);if(t&&t==true)v.standAloneMode=true};this.setHtml=function(e){v.youtubeInnerID=r+"_youtube_inner";v.vimeoPlayerID=r+"_videoplayer_vimeo";v.html5PlayerID=r+"_videoplayer_html5";v.wistiaPlayerID=r+"_videoplayer_wistia";v.soundCloudPlayerID=r+"_videoplayer_soundcloud";var t="<div class='ug-videoplayer' style='display:none'>";t+="<div class='ug-videoplayer-wrapper ug-videoplayer-youtube' style='display:none'><div id='"+v.youtubeInnerID+"'></div></div>";t+="<div id='"+v.vimeoPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-vimeo' style='display:none'></div>";t+="<div id='"+v.html5PlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-html5'></div>";t+="<div id='"+v.soundCloudPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-soundcloud'></div>";t+="<div id='"+v.wistiaPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-wistia'></div>";if(v.standAloneMode==false&&m.video_enable_closebutton==true)t+="<div class='ug-videoplayer-button-close'></div>";t+="</div>";e.append(t);u=e.children(".ug-videoplayer");d=u.children(".ug-videoplayer-youtube");f=u.children(".ug-videoplayer-vimeo");_=u.children(".ug-videoplayer-html5");c=u.children(".ug-videoplayer-soundcloud");h=u.children(".ug-videoplayer-wistia");if(v.standAloneMode==false&&m.video_enable_closebutton==true)g=u.children(".ug-videoplayer-button-close")};function b(){}function y(){t.hide()}function I(){e.trigger(t.events.PLAY_START);if(g)g.hide()}function w(){e.trigger(t.events.PLAY_STOP);if(g)g.show()}function E(){e.trigger(t.events.VIDEO_ENDED)}function T(){if(g){i.setButtonMobileReady(g);i.setButtonOnClick(g,y)}jQuery(n).on(n.events.START_PLAYING,I);jQuery(n).on(n.events.STOP_PLAYING,w);jQuery(n).on(n.events.VIDEO_ENDED,E);jQuery(a).on(a.events.START_PLAYING,I);jQuery(a).on(a.events.STOP_PLAYING,w);jQuery(a).on(a.events.VIDEO_ENDED,E);jQuery(s).on(s.events.START_PLAYING,I);jQuery(s).on(s.events.STOP_PLAYING,w);jQuery(s).on(s.events.VIDEO_ENDED,E);jQuery(o).on(o.events.START_PLAYING,I);jQuery(o).on(o.events.STOP_PLAYING,w);jQuery(o).on(o.events.VIDEO_ENDED,E);jQuery(l).on(l.events.START_PLAYING,I);jQuery(l).on(l.events.STOP_PLAYING,w);jQuery(l).on(l.events.VIDEO_ENDED,E)}this.destroy=function(){if(g){g.off("click");g.off("touchend")}jQuery(n).off(n.events.START_PLAYING);jQuery(n).off(n.events.STOP_PLAYING);jQuery(a).off(a.events.START_PLAYING);jQuery(a).off(a.events.STOP_PLAYING);jQuery(s).off(s.events.START_PLAYING);jQuery(s).off(s.events.STOP_PLAYING);jQuery(o).off(o.events.START_PLAYING,I);jQuery(o).off(o.events.STOP_PLAYING,w);jQuery(l).off(l.events.START_PLAYING,I);jQuery(l).off(l.events.STOP_PLAYING,w);p=null};this.initEvents=function(){T()};this.setSize=function(e,t){i.setElementSize(u,e,t);if(g)i.placeElement(g,"right","top")};this.setPosition=function(e,t){i.placeElement(u,e,t)};this.getObject=function(){return u};this.show=function(){if(t.isVisible()==true)return true;u.show();u.fadeTo(0,1);if(g)g.show();e.trigger(t.events.SHOW)};this.hide=function(){if(t.isVisible()==false)return true;S();p=null;u.hide();e.trigger(t.events.HIDE)};this.getActiveAPI=function(){switch(p){case"youtube":return n;break;case"vimeo":return a;break;case"wistia":return l;break;case"soundcloud":return o;break;case"html5":return s;break;default:return null;break}};this.pause=function(){var e=t.getActiveAPI();if(e==null)return false;if(typeof e.pause=="function")e.pause()};this.isVisible=function(){return u.is(":visible")};function S(e){var t=["youtube","vimeo","html5","soundcloud","wistia"];for(var i in t){var r=t[i];if(r==e)continue;switch(r){case"youtube":n.pause();n.destroy();d.hide();break;case"vimeo":a.pause();a.destroy();f.hide();break;case"html5":s.pause();_.hide();break;case"soundcloud":o.pause();o.destroy();c.hide();break;case"wistia":l.pause();h.hide();break}}}this.playYoutube=function(e,t){if(typeof t=="undefined")var t=true;S("youtube");d.show();var i=d.children("#"+v.youtubeInnerID);if(i.length==0)d.append("<div id='"+v.youtubeInnerID+"'></div>");if(n.isPlayerReady()==true&&v.standAloneMode==true)n.changeVideo(e,t);else{n.putVideo(v.youtubeInnerID,e,"100%","100%",t)}p="youtube"};this.playVimeo=function(e,t){if(typeof t=="undefined")var t=true;S("vimeo");f.show();a.putVideo(v.vimeoPlayerID,e,"100%","100%",t);p="vimeo"};this.playHtml5Video=function(e,t,i,r,n){if(typeof n=="undefined")var n=true;S("html5");_.show();var a={ogv:e,webm:t,mp4:i,posterImage:r};s.putVideo(v.html5PlayerID,a,"100%","100%",n);p="html5"};this.playSoundCloud=function(e,t){if(typeof t=="undefined")var t=true;S("soundcloud");c.show();o.putSound(v.soundCloudPlayerID,e,"100%","100%",t);p="soundcloud"};this.playWistia=function(e,t){if(typeof t=="undefined")var t=true;S("wistia");h.show();l.putVideo(v.wistiaPlayerID,e,"100%","100%",t);p="wistia"}}var g_ugYoutubeAPI=new UGYoutubeAPI;var g_ugVimeoAPI=new UGVimeoAPI;var g_ugHtml5MediaAPI=new UGHtml5MediaAPI;var g_ugSoundCloudAPI=new UGSoundCloudAPI;var g_ugWistiaAPI=new UGWistiaAPI;jQuery.fn.unitegallery=function(e){var t=jQuery(this);var i="#"+t.attr("id");if(!e)var e={};var r=new UniteGalleryMain;r.run(i,e);var n=new UG_API(r);return n};function ugCheckForMinJQueryVersion(){var e=g_ugFunctions.checkMinJqueryVersion("1.8.0");if(e==false)throw new Error("The gallery can run from jquery 1.8 You have jQuery "+jQuery.fn.jquery+" Please update your jQuery library.")}function ugCheckForErrors(t,i){function e(){if(typeof jQuery=="undefined")throw new Error("jQuery library not included")}function r(){if(typeof jQuery.fn.unitegallery=="function")return true;var e="You have some jquery.js library include that comes after the gallery files js include.";e+="<br> This include eliminates the gallery libraries, and make it not work.";if(i=="cms"){e+="<br><br> To fix it you can:<br>&nbsp;&nbsp;&nbsp; 1. In the Gallery Settings -> Troubleshooting set option:  <strong><b>Put JS Includes To Body</b></strong> option to true.";e+="<br>&nbsp;&nbsp;&nbsp; 2. Find the double jquery.js include and remove it."}else{e+="<br><br> Please find and remove this jquery.js include and the gallery will work. <br> * There should be only one jquery.js include before all other js includes in the page."}throw new Error(e)}try{if(i=="jquery"){e();ugCheckForMinJQueryVersion()}else{ugCheckForMinJQueryVersion();r()}}catch(e){var n=e.message;n="Unite Gallery Error: "+n;n="<div style='font-size:16px;color:#BC0C06;max-width:900px;border:1px solid red;padding:10px;'>"+n+"</div>";if(i=="jquery"){var a=document.getElementById(t);a.innerHTML=n;a.style.display="block"}else jQuery(t).show().html(n);return false}return true}function UniteGalleryMain(){var t=this;var g_galleryID;var g_objGallery=jQuery(t),g_objWrapper,g_objParent;var g_objThumbs,g_objSlider,g_functions=new UGFunctions,g_objTabs,g_objLoadMore;var g_arrItems=[],g_numItems,g_selectedItem=null,g_selectedItemIndex=-1;var g_objTheme,g_objCache={};this.events={ITEM_CHANGE:"item_change",SIZE_CHANGE:"size_change",ENTER_FULLSCREEN:"enter_fullscreen",EXIT_FULLSCREEN:"exit_fullscreen",START_PLAY:"start_play",STOP_PLAY:"stop_play",PAUSE_PLAYING:"pause_playing",CONTINUE_PLAYING:"continue_playing",SLIDER_ACTION_START:"slider_action_start",SLIDER_ACTION_END:"slider_action_end",ITEM_IMAGE_UPDATED:"item_image_updated",ITEM_4K_IMAGE_UPDATED:"item_4K_image_updated",GALLERY_KEYPRESS:"gallery_keypress",GALLERY_BEFORE_REQUEST_ITEMS:"gallery_before_request_items",OPEN_LIGHTBOX:"open_lightbox",CLOSE_LIGHTBOX:"close_lightbox"};var g_options={gallery_width:900,gallery_height:500,gallery_min_width:150,gallery_min_height:100,gallery_theme:"default",gallery_skin:"default",gallery_images_preload_type:"minimal",gallery_autoplay:false,gallery_play_interval:3e3,gallery_pause_on_mouseover:true,gallery_mousewheel_role:"zoom",gallery_control_keyboard:true,gallery_carousel:true,gallery_preserve_ratio:true,gallery_background_color:"",gallery_debug_errors:false,gallery_shuffle:false,gallery_urlajax:null,gallery_enable_tabs:false,gallery_enable_loadmore:false,gallery_enable_cache:true,gallery_initial_catid:"",gallery_enable_lazyload:false};var g_temp={objCustomOptions:{},isAllItemsPreloaded:false,isFreestyleMode:false,lastWidth:0,lastHeigh:0,handleResize:null,isInited:false,isPlayMode:false,isPlayModePaused:false,playTimePassed:0,playTimeLastStep:0,playHandle:"",playStepInterval:33,objProgress:null,isFakeFullscreen:false,thumbsType:null,isYoutubePresent:false,isVimeoPresent:false,isHtml5VideoPresent:false,isSoundCloudPresent:false,isWistiaPresent:false,resizeDelay:100,isRunFirstTime:true,originalOptions:{},funcCustomHeight:null};function __________INIT_GALLERY_______(){}function getThemeFunction(e){var t=e;if(t.indexOf("UGTheme_")==-1)t="UGTheme_"+t;return t}function initTheme(objCustomOptions){if(objCustomOptions.hasOwnProperty("gallery_theme"))g_options.gallery_theme=objCustomOptions.gallery_theme;else{var defaultTheme=g_options.gallery_theme;if(g_ugFunctions.isThemeRegistered(defaultTheme)==false)g_options.gallery_theme=g_ugFunctions.getFirstRegisteredTheme()}var themeFunction=getThemeFunction(g_options.gallery_theme);try{g_options.gallery_theme=eval(themeFunction)}catch(e){}g_options.gallery_theme=eval(themeFunction);g_objTheme=new g_options.gallery_theme;g_objTheme.init(t,objCustomOptions)}function resetOptions(){g_options=jQuery.extend({},g_temp.originalOptions);g_selectedItemIndex=-1;g_selectedItem=null;g_objSlider=undefined;g_objThumbs=undefined;g_objSlider=undefined}function checkForStartupErrors(){try{ugCheckForMinJQueryVersion()}catch(e){throwErrorShowMessage(e.message)}if(typeof g_objWrapper.outerWidth()=="object")throwErrorShowMessage("You have some buggy script. most chances jquery-ui.js that destroy jquery outerWidth, outerHeight functions. The gallery can't run. Please update jquery-ui.js to latest version.");setTimeout(function(){ugCheckForErrors(g_galleryID,"cms")},5e3)}function runGallery(e,i,r,n){var a=typeof i=="object";if(a)g_temp.objCustomOptions=i;if(g_temp.isRunFirstTime==true){g_galleryID=e;g_objWrapper=jQuery(g_galleryID);if(g_objWrapper.length==0){trace("div with id: "+g_galleryID+" not found");return false}g_objParent=g_objWrapper.parent();checkForStartupErrors();g_temp.originalOptions=jQuery.extend({},g_options);if(a)g_options=jQuery.extend(g_options,i);if(g_options.gallery_enable_cache==true&&g_options.gallery_initial_catid)cacheItems(g_options.gallery_initial_catid);t.setSizeClass();var s=g_objWrapper.children();fillItemsArray(s);loadAPIs();g_objWrapper.find("img").fadeTo(0,0).hide();g_objWrapper.show();clearInitData()}else{t.destroy();resetOptions();g_options=jQuery.extend(g_options,g_temp.objCustomOptions);if(r){if(n&&g_options.gallery_enable_cache==true)cacheItems(n,r);if(r=="noitems"){showErrorMessage("No items in this category","");return false}g_objWrapper.html(r);var s=g_objWrapper.children();fillItemsArray(s);loadAPIs();g_objWrapper.children().fadeTo(0,0).hide();g_objWrapper.show();clearInitData()}}if(g_temp.isRunFirstTime==true&&g_options.gallery_enable_tabs==true){g_objTabs=new UGTabs;g_objTabs.init(t,g_options)}if(g_temp.isRunFirstTime==true&&g_options.gallery_enable_loadmore==true){g_objLoadMore=new UGLoadMore;g_objLoadMore.init(t,g_options)}if(a)modifyInitParams(g_temp.objCustomOptions);validateParams();if(g_options.gallery_shuffle==true)t.shuffleItems();initTheme(g_temp.objCustomOptions);setGalleryHtml();setHtmlObjectsProperties();var o=g_objWrapper.width();if(o==0){g_functions.waitForWidth(g_objWrapper,runGalleryActually)}else runGalleryActually()}function runGalleryActually(){t.setSizeClass();if(g_temp.isFreestyleMode==false){if(g_options.gallery_preserve_ratio==true)setHeightByOriginalRatio()}g_objTheme.run();if(g_objTabs&&g_temp.isRunFirstTime)g_objTabs.run();preloadBigImages();initEvents();if(g_numItems>0)t.selectItem(0);if(g_options.gallery_autoplay==true)t.startPlayMode();g_temp.isRunFirstTime=false}function showErrorMessage(e,t){if(typeof t=="undefined")var t="<b>Unite Gallery Error: </b>";else t="<b>"+t+": </b>";e=t+e;var i="<div class='ug-error-message-wrapper'><div class='ug-error-message'>"+e+"</div></div>";g_objWrapper.children().remove();g_objWrapper.html(i);g_objWrapper.show()}function throwErrorShowMessage(e){showErrorMessage(e);throw new Error(e)}function modifyInitParams(){if(!g_options.gallery_images_preload_type)g_options.gallery_images_preload_type="minimal";if(g_options.gallery_min_height==undefined||g_options.gallery_height<g_options.gallery_min_height){g_options.gallery_min_height=0}if(g_options.gallery_min_width==undefined||g_options.gallery_width<g_options.gallery_min_width){g_options.gallery_min_width=0}}function validateParams(){if(!g_options.gallery_theme)throw new Error("The gallery can't run without theme");if(jQuery.isNumeric(g_options.gallery_height)&&g_options.gallery_height<g_options.gallery_min_height)throw new Error("The <b>gallery_height</b> option must be bigger then <b>gallery_min_height option</b>");if(g_options.gallery_width<g_options.gallery_min_width)throw new Error("The <b>gallery_width</b> option must be bigger then <b>gallery_min_width option</b>")}function setGalleryHtml(){g_objWrapper.addClass("ug-gallery-wrapper");g_objWrapper.append("<div class='ug-overlay-disabled' style='display:none'></div>");t.setSizeClass()}function clearInitData(){var e=g_objWrapper.children().remove()}function storeLastSize(){var e=t.getSize();g_temp.lastWidth=e.width;g_temp.lastHeight=e.height}function setHeightByOriginalRatio(){var e=t.getSize();var i=e.width/e.height;if(i!=e.orig_ratio){var r=e.width/e.orig_ratio;r=Math.round(r);if(r<g_options.gallery_min_height)r=g_options.gallery_min_height;g_objWrapper.height(r)}}function setHtmlObjectsProperties(){var e=g_functions.getCssSizeParam(g_options.gallery_width);var t={"max-width":e,"min-width":g_functions.getCssSizeParam(g_options.gallery_min_width)};if(g_temp.isFreestyleMode==false){var i=g_functions.getCssSizeParam(g_options.gallery_height);t["height"]=i}else{t["overflow"]="visible"}if(g_options.gallery_background_color)t["background-color"]=g_options.gallery_background_color;g_objWrapper.css(t)}function fillItemByChild(i){var e=t.isMobileMode();var r=i.prop("tagName").toLowerCase();var n="";if(r=="a"){n=i.attr("href");i=i.children();var r=i.prop("tagName").toLowerCase()}var a=i.data("type");if(a==undefined)a="image";var s={};s.type=a;if(r=="img"){var o=i.data("lazyload-src");if(o&&o!=""){i.attr("src",o);jQuery.removeData(i,"lazyload-src")}var l=i.data("image");var u=i.data("thumb");var d=i.data("bigImage");if(typeof l=="undefined")l=null;if(typeof u=="undefined")u=null;if(typeof d=="undefined")d=null;var f=i.attr("src"),_=i.data("srcDesktop"),f=i.data("srcLaptop"),g=i.data("srcTablet");if(!l)l=f;if(!u)u=f;if(!d)d=f;if(!u)u=l;if(!l)l=u;if(!d)d=l;s.imageSrcThumb=u;s.imageSrc=l;s.imageSrcZoom=d;s.urlThumb=u;s.urlImage=l;s.urlImageZoom=d;s.title=i.attr("alt");s.objThumbImage=i;s.objThumbImage.attr("src",s.urlThumb)}else{if(a=="image"){trace("Problematic gallery item found:");trace(i);trace("Please look for some third party js script that could add this item to the gallery");throw new Error("The item should not be image type")}s.urlThumb=i.data("thumb");s.title=i.data("title");s.objThumbImage=null;s.urlImage=i.data("image");s.urlImageZoom=i.data("bigImage")}if(e==true){var c=i.data("thumb-mobile");if(typeof c!="undefined"&&c!=""){s.urlThumb=c;if(r=="img")i.attr("src",s.urlThumb)}var h=i.data("image-mobile");if(typeof h!="undefined"&&h!="")s.urlImage=h}s.link=n;s.description=i.attr("title");if(!s.description)s.description=i.data("description");if(!s.description)s.description="";s.isNewAdded=false;s.isLoaded=false;s.isThumbImageLoaded=false;s.objPreloadImage=null;s.isBigImageLoadStarted=false;s.isBigImageLoaded=false;s.isBigImageLoadError=false;s.is4kImageLoadStarted=false;s.is4kImageLoaded=false;s.is4kImageLoadError=false;s.imageWidth=0;s.imageHeight=0;s.lazyload=g_options.gallery_enable_lazyload;s.thumbWidth=0;s.thumbHeight=0;s.thumbRatioByWidth=0;s.thumbRatioByHeight=0;var p=i.data("width");var m=i.data("height");if(p&&typeof p=="number"&&m&&typeof m=="number"){s.thumbWidth=p;s.thumbHeight=m;s.thumbRatioByWidth=p/m;s.thumbRatioByHeight=m/p}s.addHtml=null;var v=s.urlImage==undefined||s.urlImage=="";var b=s.urlThumb==undefined||s.urlThumb=="";switch(s.type){case"youtube":s.videoid=i.data("videoid");if(v||b){var y=g_ugYoutubeAPI.getVideoImages(s.videoid);if(v){s.urlImage=y.preview;s.urlImageZoom=y.preview}if(b){s.urlThumb=y.thumb;if(r=="img")i.attr("src",s.urlThumb)}}g_temp.isYoutubePresent=true;break;case"vimeo":s.videoid=i.data("videoid");if(v||b){g_ugVimeoAPI.getVideoImages(s.videoid,"",function(e,t){if(v){s.urlImage=t.preview;s.urlImageZoom=t.preview}if(b){s.urlThumb=t.thumb;if(r=="img"){i.attr("src",s.urlThumb)}}})}g_temp.isVimeoPresent=true;break;case"html5video":s.videoogv=i.data("videoogv");s.videowebm=i.data("videowebm");s.videomp4=i.data("videomp4");g_temp.isHtml5VideoPresent=true;break;case"soundcloud":s.trackid=i.data("trackid");g_temp.isSoundCloudPresent=true;break;case"wistia":s.videoid=i.data("videoid");g_temp.isWistiaPresent=true;break;case"custom":var I=i.children("img");if(I.length){I=jQuery(I[0]);s.urlThumb=I.attr("src");s.title=I.attr("alt");s.objThumbImage=I}var w=i.children().not("img:first-child");if(w.length)s.addHtml=w.clone();break}if(s.objThumbImage){s.objThumbImage.removeAttr("data-big-image","");s.objThumbImage.removeAttr("data-description","");s.objThumbImage.removeAttr("data-image","");s.objThumbImage.removeAttr("data-thumb","");s.objThumbImage.removeAttr("title","")}return s}function fillItemsArray(e,t){if(t!==true){g_arrItems=[]}else{for(var i=0;i<g_numItems;i++)g_arrItems[i].isNewAdded=false}for(var i=0;i<e.length;i++){var r=jQuery(e[i]);var n=fillItemByChild(r);numIndex=g_arrItems.length;n.index=numIndex;if(t===true){n.isNewAdded=true}g_arrItems.push(n)}g_numItems=g_arrItems.length}function loadAPIs(){if(g_temp.isYoutubePresent)g_ugYoutubeAPI.loadAPI();if(g_temp.isVimeoPresent)g_ugVimeoAPI.loadAPI();if(g_temp.isHtml5VideoPresent)g_ugHtml5MediaAPI.loadAPI();if(g_temp.isSoundCloudPresent)g_ugSoundCloudAPI.loadAPI();if(g_temp.isWistiaPresent)g_ugWistiaAPI.loadAPI()}function preloadBigImages(){if(g_options.gallery_enable_lazyload)return;if(g_options.gallery_images_preload_type=="visible"&&!g_objThumbs)g_options.gallery_images_preload_type="minimal";if(g_temp.isAllItemsPreloaded==true)return true;switch(g_options.gallery_images_preload_type){default:case"minimal":break;case"all":jQuery(g_arrItems).each(function(){preloadItemImage(this)});break;case"visible":jQuery(g_arrItems).each(function(){var e=this;var t=g_objThumbs.isItemThumbVisible(e);if(t==true)preloadItemImage(e)});break}}function checkPreloadItemImage(e){if(e.isBigImageLoadStarted==true||e.isBigImageLoaded==true||e.isBigImageLoadError==true){return false}switch(g_options.gallery_images_preload_type){default:case"minimal":break;case"all":preloadItemImage(e);break;case"visible":var t=g_objThumbs.isItemThumbVisible(e);if(t==true)preloadItemImage(e);break}}function preloadItemImage(e){if(e.isBigImageLoadStarted==true||e.isBigImageLoaded==true||e.isBigImageLoadError==true){return true}var i=e.urlImage;if(i==""||i==undefined){e.isBigImageLoadError=true;return false}e.isBigImageLoadStarted=true;e.objPreloadImage=jQuery("<img/>").attr("src",i);e.objPreloadImage.data("itemIndex",e.index);e.objPreloadImage.on("load",t.onItemBigImageLoaded);e.objPreloadImage.on("error",function(){var e=jQuery(this);var i=e.data("itemIndex");var r=g_arrItems[i];r.isBigImageLoadError=true;r.isBigImageLoaded=false;var n=jQuery(this).attr("src");console.log("Can't load image: "+n);g_objGallery.trigger(t.events.ITEM_IMAGE_UPDATED,[i,r.urlImage]);r.objThumbImage.attr("src",r.urlThumb)});checkAllItemsStartedPreloading()}this.onItemBigImageLoaded=function(e,t){if(!t)var t=jQuery(this);var i=t.data("itemIndex");var r=g_arrItems[i];r.isBigImageLoaded=true;var n=g_functions.getImageOriginalSize(t);r.imageWidth=n.width;r.imageHeight=n.height;preloadItem4kImage(r)};function preload4KBigImages(){if(g_options.gallery_images_preload_type=="visible"&&!g_objThumbs)g_options.gallery_images_preload_type="minimal";if(g_temp.isAll4KItemsPreloaded==true)return true;switch(g_options.gallery_images_preload_type){default:case"minimal":break;case"all":jQuery(g_arrItems).each(function(){preloadItem4kImage(this)});break;case"visible":jQuery(g_arrItems).each(function(){var e=this;var t=g_objThumbs.isItemThumbVisible(e);if(t==true)preloadItem4kImage(e)});break}}function checkPreload4KItemImage(e){if(e.isBigImageLoadStarted==true||e.isBigImageLoaded==true||e.isBigImageLoadError==true){return false}switch(g_options.gallery_images_preload_type){default:case"minimal":break;case"all":preloadItem4kImage(e);break;case"visible":var t=g_objThumbs.isItemThumbVisible(e);if(t==true)preloadItem4kImage(e);break}}function preloadItem4kImage(e){if(e.is4kImageLoadStarted==true||e.is4kImageLoaded==true||e.is4kImageLoadError==true){return true}var i=e.urlImageZoom;if(i==""||i==undefined){e.is4kImageLoadError=true;return false}e.is4kImageLoadStarted=true;e.objPreloadImage=jQuery("<img/>").attr("src",i);e.objPreloadImage.data("itemIndex",e.index);e.objPreloadImage.on("load",function(){t.onItem4kImageLoaded.apply(this);g_objGallery.trigger(t.events.ITEM_4K_IMAGE_UPDATED,[e.index,e.imageUrlZoom])});e.objPreloadImage.on("error",function(){var e=jQuery(this);var i=e.data("itemIndex");var r=g_arrItems[i];r.is4kImageLoadError=true;r.is4kImageLoaded=false;var n=jQuery(this).attr("src");console.log("Can't load image: "+n);g_objGallery.trigger(t.events.ITEM_IMAGE_UPDATED,[i,r.imageUrlZoom]);r.objThumbImage.attr("src",r.urlThumb)})}this.onItem4kImageLoaded=function(e,t){if(!t)var t=jQuery(this);var i=t.data("itemIndex");var r=g_arrItems[i];r.is4kImageLoaded=true;r.imageUrl=r.imageUrlZoom;var n=g_functions.getImageOriginalSize(t);r.imageWidth=n.width;r.imageHeight=n.height};this.checkFillImageSize=function(e,t){if(!t){var i=e.data("itemIndex");if(i===undefined)throw new Error("Wrong image given to gallery.checkFillImageSize");var t=g_arrItems[i]}var r=g_functions.getImageOriginalSize(e);t.imageWidth=r.width;t.imageHeight=r.height};function preloadNearBigImages(e){if(g_temp.isAllItemsPreloaded==true)return false;if(!e)var e=g_selectedItem;if(!e)return true;var t=e.index;var i=t-1;var r=t+1;if(i>0)preloadItemImage(g_arrItems[i]);if(r<g_numItems)preloadItemImage(g_arrItems[r])}function checkAllItemsStartedPreloading(){if(g_temp.isAllItemsPreloaded==true)return false;for(var e in g_arrItems){if(g_arrItems[e].isBigImageLoadStarted==false)return false}g_temp.isAllItemsPreloaded=true}this.setFreestyleMode=function(){g_temp.isFreestyleMode=true};this.attachThumbsPanel=function(e,t){g_temp.thumbsType=e;g_objThumbs=t};this.initSlider=function(e,i){if(!e)var e={};e=jQuery.extend(g_temp.objCustomOptions,e);g_objSlider=new UGSlider;g_objSlider.init(t,e,i)};function __________END_INIT_GALLERY_______(){}function __________EVENTS_____________(){}this.onGalleryMouseWheel=function(e,i,r,n){e.preventDefault();if(i>0)t.prevItem();else t.nextItem()};function onSliderMouseEnter(e){if(g_options.gallery_pause_on_mouseover==true&&t.isFullScreen()==false&&g_temp.isPlayMode==true&&g_objSlider&&g_objSlider.isSlideActionActive()==false)t.pausePlaying()}function onSliderMouseLeave(e){if(g_options.gallery_pause_on_mouseover==true&&g_temp.isPlayMode==true&&g_objSlider&&g_objSlider.isSlideActionActive()==false){var i=g_objSlider.isCurrentSlideLoadingImage();if(i==false)t.continuePlaying()}}function onKeyPress(e){var i=jQuery(e.target);if(i.is("textarea")||i.is("select")||i.is("input"))return true;var r=e.charCode?e.charCode:e.keyCode?e.keyCode:e.which?e.which:0;var n=true;switch(r){case 39:t.nextItem();break;case 37:t.prevItem();break;default:n=false;break}if(n==true){e.preventDefault();e.stopPropagation();e.stopImmediatePropagation()}g_objGallery.trigger(t.events.GALLERY_KEYPRESS,[r,e])}function onGalleryResized(){var e=t.getSize();if(e.width==0)return true;t.setSizeClass();var e=t.getSize();if(e.width!=g_temp.lastWidth||g_temp.isFreestyleMode==false&&e.height!=g_temp.lastHeight){var i=false;if(g_temp.funcCustomHeight){var r=g_temp.funcCustomHeight(e);if(r){g_objWrapper.height(r);i=true}}if(i==false&&g_options.gallery_preserve_ratio==true&&g_temp.isFreestyleMode==false)setHeightByOriginalRatio();storeLastSize();g_objGallery.trigger(t.events.SIZE_CHANGE)}}function onThumbsChange(e){if(g_options.gallery_images_preload_type=="visible"&&g_temp.isAllItemsPreloaded==false){preloadBigImages()}}function onFullScreenChange(){var e=g_functions.isFullScreen();var i=e?t.events.ENTER_FULLSCREEN:t.events.EXIT_FULLSCREEN;var r=g_functions.getGlobalData("fullscreenID");if(g_galleryID!==r)return true;if(e){g_objWrapper.addClass("ug-fullscreen")}else{g_objWrapper.removeClass("ug-fullscreen")}g_objGallery.trigger(i);onGalleryResized()}function onItemImageUpdated(e,i){var r=t.getItem(i);checkPreloadItemImage(r)}function onCurrentSlideImageLoadEnd(){if(t.isPlayMode()==true)t.continuePlaying()}function initEvents(){g_objWrapper.on("dragstart",function(e){e.preventDefault()});g_objGallery.on(t.events.ITEM_IMAGE_UPDATED,onItemImageUpdated);if(g_objThumbs){switch(g_temp.thumbsType){case"strip":jQuery(g_objThumbs).on(g_objThumbs.events.STRIP_MOVE,onThumbsChange);break;case"grid":jQuery(g_objThumbs).on(g_objThumbs.events.PANE_CHANGE,onThumbsChange);break}}if(g_options.gallery_mousewheel_role=="advance"&&g_temp.isFreestyleMode==false)g_objWrapper.on("mousewheel",t.onGalleryMouseWheel);storeLastSize();jQuery(window).resize(function(){g_objWrapper.css("width","auto");g_functions.whenContiniousEventOver("gallery_resize",onGalleryResized,g_temp.resizeDelay)});setTimeout(function(){setInterval(onGalleryResized,2e3)},1e4);g_functions.addFullScreenChangeEvent(onFullScreenChange);if(g_objSlider){jQuery(g_objSlider).on(g_objSlider.events.ITEM_CHANGED,function(){var e=g_objSlider.getCurrentItemIndex();if(e!=-1)t.selectItem(e)});if(g_options.gallery_pause_on_mouseover==true){var e=g_objSlider.getElement();e.hover(onSliderMouseEnter,onSliderMouseLeave);g_objGallery.on(t.events.ENTER_FULLSCREEN,function(){onSliderMouseLeave()})}retriggerEvent(g_objSlider,g_objSlider.events.ACTION_START,t.events.SLIDER_ACTION_START);retriggerEvent(g_objSlider,g_objSlider.events.ACTION_END,t.events.SLIDER_ACTION_END);jQuery(g_objSlider).on(g_objSlider.events.CURRENTSLIDE_LOAD_END,onCurrentSlideImageLoadEnd)}if(g_options.gallery_control_keyboard==true)jQuery(document).keydown(onKeyPress)}this.destroy=function(){g_objWrapper.off("dragstart");g_objGallery.off(t.events.ITEM_IMAGE_UPDATED);g_objGallery.off(t.events.ITEM_4K_IMAGE_UPDATED);if(g_objThumbs){switch(g_temp.thumbsType){case"strip":jQuery(g_objThumbs).off(g_objThumbs.events.STRIP_MOVE);break;case"grid":jQuery(g_objThumbs).off(g_objThumbs.events.PANE_CHANGE);break}}g_objWrapper.off("mousewheel");jQuery(window).off("resize");g_functions.destroyFullScreenChangeEvent();if(g_objSlider){jQuery(g_objSlider).off(g_objSlider.events.ITEM_CHANGED);var e=g_objSlider.getElement();e.off("mouseenter");e.off("mouseleave");g_objGallery.off(t.events.ENTER_FULLSCREEN);jQuery(g_objSlider).off(g_objSlider.events.ACTION_START);jQuery(g_objSlider).off(g_objSlider.events.ACTION_END);jQuery(g_objSlider).off(g_objSlider.events.CURRENTSLIDE_LOAD_END)}if(g_options.gallery_control_keyboard==true)jQuery(document).off("keydown");if(g_objTheme&&typeof g_objTheme.destroy=="function"){g_objTheme.destroy()}g_objWrapper.html("")};function __________GENERAL_______(){}this.getArrItems=function(){return g_arrItems};this.getObjects=function(){var e={g_galleryID:g_galleryID,g_objWrapper:g_objWrapper,g_objThumbs:g_objThumbs,g_objSlider:g_objSlider,g_options:g_options,g_arrItems:g_arrItems,g_numItems:g_numItems};return e};this.getObjSlider=function(){return g_objSlider};this.getItem=function(e){if(e<0){throw new Error("item with index: "+e+" not found");return null}if(e>=g_numItems){throw new Error("item with index: "+e+" not found");return null}return g_arrItems[e]};this.getWidth=function(){var e=t.getSize();return e.width};this.getHeight=function(){var e=t.getSize();return e.height};this.getSize=function(){var e=g_functions.getElementSize(g_objWrapper);e.orig_width=g_options.gallery_width;e.orig_height=g_options.gallery_height;e.orig_ratio=e.orig_width/e.orig_height;return e};this.getGalleryID=function(){var e=g_galleryID.replace("#","");return e};this.getNextItem=function(e,t){if(typeof e=="object")e=e.index;var i=e+1;if(t!==true&&g_numItems==1)return null;if(i>=g_numItems){if(g_options.gallery_carousel==true||t===true)i=0;else return null}var r=g_arrItems[i];return r};this.getPrevItem=function(e){if(typeof e=="object")e=e.index;var t=e-1;if(t<0){if(g_options.gallery_carousel==true||forceCarousel===true)t=g_numItems-1;else return null}var i=g_arrItems[t];return i};this.getSelectedItem=function(){return g_selectedItem};this.getSelectedItemIndex=function(){return g_selectedItemIndex};this.getNumItems=function(){return g_numItems};this.isLastItem=function(){if(g_selectedItemIndex==g_numItems-1)return true;return false};this.isFirstItem=function(){if(g_selectedItemIndex==0)return true;return false};this.getOptions=function(){return g_options};this.getElement=function(){return g_objWrapper};this.___________SET_CONTROLS___________=function(){};this.setNextButton=function(e){e.data("ug-button",true);g_functions.setButtonOnClick(e,t.nextItem)};this.setPrevButton=function(e){e.data("ug-button",true);g_functions.setButtonOnClick(e,t.prevItem)};this.setFullScreenToggleButton=function(e){e.data("ug-button",true);g_functions.setButtonOnTap(e,t.toggleFullscreen);g_objGallery.on(t.events.ENTER_FULLSCREEN,function(){e.addClass("ug-fullscreenmode")});g_objGallery.on(t.events.EXIT_FULLSCREEN,function(){e.removeClass("ug-fullscreenmode")})};this.destroyFullscreenButton=function(e){g_functions.destroyButton(e);g_objGallery.off(t.events.ENTER_FULLSCREEN);g_objGallery.off(t.events.EXIT_FULLSCREEN)};this.setPlayButton=function(e){e.data("ug-button",true);g_functions.setButtonOnClick(e,t.togglePlayMode);g_objGallery.on(t.events.START_PLAY,function(){e.addClass("ug-stop-mode")});g_objGallery.on(t.events.STOP_PLAY,function(){e.removeClass("ug-stop-mode")})};this.destroyPlayButton=function(e){g_functions.destroyButton(e);g_objGallery.off(t.events.START_PLAY);g_objGallery.off(t.events.STOP_PLAY)};this.setProgressIndicator=function(e){g_temp.objProgress=e};this.setTextContainers=function(i,r){g_objGallery.on(t.events.ITEM_CHANGE,function(){var e=t.getSelectedItem();i.html(e.title);r.html(e.description)})};this.showDisabledOverlay=function(){g_objWrapper.children(".ug-overlay-disabled").show()};this.hideDisabledOverlay=function(){g_objWrapper.children(".ug-overlay-disabled").hide()};this.___________END_SET_CONTROLS___________=function(){};function cacheItems(e,t){if(t){var i=t;if(i!="noitems")i=jQuery(t).clone()}else{var i=g_objWrapper.children().clone()}g_objCache[e]=i}function removeAllSizeClasses(e){if(!e)e=g_objWrapper;e.removeClass("ug-under-480");e.removeClass("ug-under-780");e.removeClass("ug-under-960")}function retriggerEvent(e,t,i){jQuery(e).on(t,function(e){g_objGallery.trigger(i,[this])})}function advanceNextStep(){var e=jQuery.now();var i=e-g_temp.playTimeLastStep;g_temp.playTimeLastStep=e;var r=t.isGalleryVisible();if(r==false){return false}g_temp.playTimePassed+=i;if(g_temp.objProgress){var n=g_temp.playTimePassed/g_options.gallery_play_interval;g_temp.objProgress.setProgress(n)}if(g_temp.playTimePassed>=g_options.gallery_play_interval){t.nextItem();g_temp.playTimePassed=0}}this.___________PLAY_MODE___________=function(){};this.startPlayMode=function(){g_temp.isPlayMode=true;g_temp.isPlayModePaused=false;g_temp.playTimePassed=0;g_temp.playTimeLastStep=jQuery.now();g_temp.playHandle=setInterval(advanceNextStep,g_temp.playStepInterval);if(g_temp.objProgress){var e=g_temp.objProgress.getElement();g_temp.objProgress.setProgress(0);e.show()}g_objGallery.trigger(t.events.START_PLAY);if(g_objSlider&&g_objSlider.isCurrentSlideLoadingImage()==true){t.pausePlaying()}};this.resetPlaying=function(){if(g_temp.isPlayMode==false)return true;g_temp.playTimePassed=0;g_temp.playTimeLastStep=jQuery.now()};this.pausePlaying=function(){if(g_temp.isPlayModePaused==true)return true;g_temp.isPlayModePaused=true;clearInterval(g_temp.playHandle);g_objGallery.trigger(t.events.PAUSE_PLAYING)};this.continuePlaying=function(){if(g_temp.isPlayModePaused==false)return true;g_temp.isPlayModePaused=false;g_temp.playTimeLastStep=jQuery.now();g_temp.playHandle=setInterval(advanceNextStep,g_temp.playStepInterval)};this.stopPlayMode=function(){g_temp.isPlayMode=false;clearInterval(g_temp.playHandle);g_temp.playTimePassed=0;if(g_temp.objProgress){var e=g_temp.objProgress.getElement();e.hide()}g_objGallery.trigger(t.events.STOP_PLAY)};this.isPlayMode=function(){return g_temp.isPlayMode};this.togglePlayMode=function(){if(t.isPlayMode()==false)t.startPlayMode();else t.stopPlayMode()};function unselectSeletedItem(){if(g_selectedItem==null)return true;if(g_objThumbs)g_objThumbs.setThumbUnselected(g_selectedItem.objThumbWrapper);g_selectedItem=null;g_selectedItemIndex=-1}this.___________GENERAL_EXTERNAL___________=function(){};this.shuffleItems=function(){g_arrItems=g_functions.arrayShuffle(g_arrItems);for(var e in g_arrItems)g_arrItems[e].index=parseInt(e)};this.setOptions=function(e){g_options=jQuery.extend(g_options,e)};this.selectItem=function(e,i){if(typeof e=="number")e=t.getItem(e);var r=e.index;if(r==g_selectedItemIndex)return true;unselectSeletedItem();g_selectedItem=e;g_selectedItemIndex=r;g_objGallery.trigger(t.events.ITEM_CHANGE,[e,i]);if(g_temp.isPlayMode==true){t.resetPlaying();var n=g_objSlider.isCurrentSlideLoadingImage();if(n==true)t.pausePlaying()}};this.nextItem=function(){var e=g_selectedItemIndex+1;if(g_numItems==0)return true;if(g_options.gallery_carousel==false&&e>=g_numItems)return true;if(e>=g_numItems)e=0;t.selectItem(e,"next")};this.prevItem=function(){var e=g_selectedItemIndex-1;if(g_selectedItemIndex==-1)e=0;if(g_numItems==0)return true;if(g_options.gallery_carousel==false&&e<0)return true;if(e<0)e=g_numItems-1;t.selectItem(e,"prev")};function toFakeFullScreen(){jQuery("body").addClass("ug-body-fullscreen");g_objWrapper.addClass("ug-fake-fullscreen");g_temp.isFakeFullscreen=true;g_objGallery.trigger(t.events.ENTER_FULLSCREEN);g_objGallery.trigger(t.events.SIZE_CHANGE)}function exitFakeFullscreen(){jQuery("body").removeClass("ug-body-fullscreen");g_objWrapper.removeClass("ug-fake-fullscreen");g_temp.isFakeFullscreen=false;g_objGallery.trigger(t.events.EXIT_FULLSCREEN);g_objGallery.trigger(t.events.SIZE_CHANGE)}this.isFullScreen=function(){if(g_temp.isFakeFullscreen==true)return true;if(g_functions.isFullScreen()==true)return true;return false};this.isFakeFullscreen=function(){return g_temp.isFakeFullscreen};this.toFullScreen=function(){g_functions.setGlobalData("fullscreenID",g_galleryID);var e=g_objWrapper.get(0);var t=g_functions.toFullscreen(e);if(t==false)toFakeFullScreen()};this.exitFullScreen=function(){if(g_temp.isFakeFullscreen==true)exitFakeFullscreen();else g_functions.exitFullscreen()};this.toggleFullscreen=function(){if(t.isFullScreen()==false){t.toFullScreen()}else{t.exitFullScreen()}};this.resize=function(e,t,i){g_objWrapper.css("width","auto");g_objWrapper.css("max-width",e+"px");if(t)g_objWrapper.height(t);if(!i&&i!==true)onGalleryResized()};this.setSizeClass=function(e,i){if(!e)var e=g_objWrapper;if(!i){var r=t.getSize();var i=r.width}if(i==0)var i=jQuery(window).width();var n="";if(i<=480){n="ug-under-480"}else if(i<=780){n="ug-under-780"}else if(i<960){n="ug-under-960"}if(e.hasClass(n)==true)return true;removeAllSizeClasses(e);if(n!="")e.addClass(n)};this.isMobileMode=function(){if(g_objWrapper.hasClass("ug-under-480"))return true;return false};this.isSmallWindow=function(){var e=jQuery(window).width();if(!e)return true;if(e<=480)return true;return false};this.isGalleryVisible=function(){var e=g_objWrapper.is(":visible");return e};this.changeItems=function(e,t){if(!e)var e="noitems";runGallery(g_galleryID,"nochange",e,t)};this.addItems=function(e){if(!e||e.length==0)return false;var t=g_objWrapper.children(".ug-newitems-wrapper");if(t.length==0)g_objWrapper.append("<div class='ug-newitems-wrapper' style='display:none'></div>");t=g_objWrapper.children(".ug-newitems-wrapper");t.append(e);var i=jQuery(t.children());fillItemsArray(i,true);loadAPIs();if(!g_objTheme||typeof g_objTheme.addItems!="function")throw new Error("addItems function not found in the theme");t.remove();g_objTheme.addItems()};this.getNewAddedItemsIndexes=function(){var i=[];jQuery.each(g_arrItems,function(e,t){if(t.isNewAdded==true)i.push(e)});return i};this.showErrorMessageReplaceGallery=function(e){showErrorMessage(e)};this.setFuncCustomHeight=function(e){g_temp.funcCustomHeight=e};this.__________EXTERNAL_EVENTS_______=function(){};this.triggerEvent=function(e,t){if(!t)g_objGallery.trigger(e);else{if(jQuery.type(t)!="array")t=[t];g_objGallery.trigger(e,t)}};this.onEvent=function(e,t){g_objGallery.on(e,t)};this.destroyEvent=function(e){g_objGallery.off(e)};this.__________AJAX_REQUEST_______=function(){};this.ajaxRequest=function(e,t,i,r){if(!i||typeof i!="function")throw new Error("ajaxRequest error: success function should be passed");var n=g_options.gallery_urlajax;if(!n||n=="")throw new Error("ajaxRequest error: Ajax url don't passed");if(typeof t=="undefined")var t={};var a={action:"unitegallery_ajax_action",client_action:e,galleryID:g_galleryID,data:t};jQuery.ajax({type:"post",url:g_options.gallery_urlajax,dataType:"json",data:a,success:function(e){if(!e){throw new Error("Empty ajax response!")}if(e==-1||e===0)throw new Error("ajax error!!!");if(typeof e.success=="undefined")throw new Error("ajax error!!!");if(e.success==false){showErrorMessage(e.message,"ajax error");return false}i(e)},error:function(e,t,i){console.log("Ajax Error!!! "+t);responseText=e.responseText;if(r&&typeof r=="function"){r(responseText)}else trace(responseText)}})};this.requestNewItems=function(e,i,r){var n=g_options.gallery_enable_cache;if(!r)r=e;if(i==true)n=false;if(n==true&&g_objCache.hasOwnProperty(r)){var a=g_objCache[r];t.changeItems(a,r)}else{g_objGallery.trigger(t.events.GALLERY_BEFORE_REQUEST_ITEMS);t.ajaxRequest("front_get_cat_items",{catid:e},function(e){var i=e.html;t.changeItems(i,r)})}};this.run=function(e,t){var i=g_options.gallery_debug_errors;if(t&&t.hasOwnProperty("gallery_debug_errors"))g_options.gallery_debug_errors=t.gallery_debug_errors;if(g_options.gallery_debug_errors==true){try{runGallery(e,t)}catch(e){if(typeof e=="object"){var r=e.message;var n=e.lineNumber;var a=e.fileName;var s=e.stack;r+=" <br><br> in file: "+a;r+=" <b> line "+n+"</b>";trace(e)}else{var r=e}r=r.replace("Error:","");showErrorMessage(r)}}else{runGallery(e,t)}}}function UGLightbox(){var a=this,i=jQuery(this);var s=new UniteGalleryMain,r,_;var g=new UGSlider,n,c,h,p;var m=new UGFunctions,l=new UGTextPanel,u;var o;var v={lightbox_type:"wide",lightbox_show_textpanel:true,lightbox_textpanel_width:550,lightbox_hide_arrows_onvideoplay:true,lightbox_arrows_position:"sides",lightbox_arrows_offset:10,lightbox_arrows_inside_offset:10,lightbox_arrows_inside_alwayson:false,lightbox_overlay_color:null,lightbox_overlay_opacity:1,lightbox_top_panel_opacity:null,lightbox_show_numbers:true,lightbox_numbers_size:null,lightbox_numbers_color:null,lightbox_numbers_padding_top:null,lightbox_numbers_padding_right:null,lightbox_compact_closebutton_offsetx:1,lightbox_compact_closebutton_offsety:1,lightbox_close_on_emptyspace:true};this.events={LIGHTBOX_INIT:"lightbox_init"};var b={topPanelHeight:44,initTextPanelHeight:26,isOpened:false,isRightNowOpened:false,putSlider:true,isCompact:false,fadeDuration:300,positionFrom:null,textPanelTop:null,textPanelLeft:null,isArrowsInside:false,isArrowsOnHoverMode:false,lastMouseX:null,lastMouseY:null,originalOptions:null,isSliderChangedOnce:false,isTopPanelEnabled:true};var d={lightbox_slider_controls_always_on:true,lightbox_slider_enable_bullets:false,lightbox_slider_enable_arrows:false,lightbox_slider_enable_progress_indicator:false,lightbox_slider_enable_play_button:false,lightbox_slider_enable_fullscreen_button:false,lightbox_slider_enable_zoom_panel:false,lightbox_slider_enable_text_panel:false,lightbox_slider_scale_mode_media:"down",lightbox_slider_scale_mode:"down",lightbox_slider_loader_type:3,lightbox_slider_loader_color:"black",lightbox_slider_transition:"fade",lightbox_slider_image_padding_top:b.topPanelHeight,lightbox_slider_image_padding_bottom:0,lightbox_slider_video_padding_top:0,lightbox_slider_video_padding_bottom:0,lightbox_textpanel_align:"middle",lightbox_textpanel_padding_top:5,lightbox_textpanel_padding_bottom:5,slider_video_constantsize:false,lightbox_slider_image_border:false,lightbox_textpanel_enable_title:true,lightbox_textpanel_enable_description:false,lightbox_textpanel_desc_style_as_title:true,lightbox_textpanel_enable_bg:false,video_enable_closebutton:false,lightbox_slider_video_enable_closebutton:false,video_youtube_showinfo:false,lightbox_slider_enable_links:false};var f={lightbox_overlay_opacity:.6,lightbox_slider_image_border:true,lightbox_slider_image_shadow:true,lightbox_slider_image_padding_top:30,lightbox_slider_image_padding_bottom:30,slider_video_constantsize:true,lightbox_textpanel_align:"bottom",lightbox_textpanel_title_text_align:"left",lightbox_textpanel_desc_text_align:"left",lightbox_textpanel_padding_left:10,lightbox_textpanel_padding_right:10};function e(){}function y(e,t){s=e;r=jQuery(e);v=jQuery.extend(v,d);v=jQuery.extend(v,t);b.originalOptions=jQuery.extend({},v);if(v.lightbox_type=="compact"){b.isCompact=true;v=jQuery.extend(v,f);v=jQuery.extend(v,t)}I();if(b.putSlider==true){s.initSlider(v,"lightbox");g_objects=e.getObjects();g=g_objects.g_objSlider}else{g=null}if(v.lightbox_show_textpanel==true){l.init(s,v,"lightbox")}else l=null}function I(){if(b.isCompact==true&&v.lightbox_show_textpanel==true){v.lightbox_slider_image_padding_bottom=b.initTextPanelHeight}if(b.isCompact==true&&v.lightbox_arrows_position=="inside"){b.isArrowsInside=true}if(b.isArrowsInside==true&&v.lightbox_arrows_inside_alwayson==false)b.isArrowsOnHoverMode=true;if(v.lightbox_show_textpanel==false){b.isTopPanelEnabled=false;b.topPanelHeight=0;v.lightbox_slider_image_padding_top=0}}function t(){var e="";var t="";if(b.isCompact==true){t=" ug-lightbox-compact"}e+="<div class='ug-gallery-wrapper ug-lightbox"+t+"'>";e+="<div class='ug-lightbox-overlay'></div>";if(b.isCompact==false&&b.isTopPanelEnabled){e+="<div class='ug-lightbox-top-panel'>";e+="<div class='ug-lightbox-top-panel-overlay'></div>";if(v.lightbox_show_numbers)e+="<div class='ug-lightbox-numbers'></div>";e+="</div>"}else{if(v.lightbox_show_numbers)e+="<div class='ug-lightbox-numbers'></div>"}e+="<div class='ug-lightbox-button-close'></div>";e+="<div class='ug-lightbox-arrow-left'></div>";e+="<div class='ug-lightbox-arrow-right'></div>";e+="</div>";_=jQuery(e);jQuery("body").append(_);if(g)g.setHtml(_);n=_.children(".ug-lightbox-overlay");if(b.isCompact==false&&b.isTopPanelEnabled==true){o=_.children(".ug-lightbox-top-panel");if(o.length==0)o=null}p=_.find(".ug-lightbox-button-close");if(v.lightbox_show_numbers)u=_.find(".ug-lightbox-numbers");c=_.children(".ug-lightbox-arrow-left");h=_.children(".ug-lightbox-arrow-right");var i=s.getNumItems();if(i==1){c.addClass("hide");h.addClass("hide")}if(l){if(o)l.appendHTML(o);else l.appendHTML(_)}}function w(){if(v.lightbox_overlay_color!==null)n.css("background-color",v.lightbox_overlay_color);if(v.lightbox_overlay_opacity!==null)n.fadeTo(0,v.lightbox_overlay_opacity);if(o&&v.lightbox_top_panel_opacity!==null){o.children(".ug-lightbox-top-panel-overlay").fadeTo(0,v.lightbox_top_panel_opacity)}if(u){var e={};if(v.lightbox_numbers_size!==null)e["font-size"]=v.lightbox_numbers_size+"px";if(v.lightbox_numbers_color)e["color"]=v.lightbox_numbers_color;if(v.lightbox_numbers_padding_right!==null)e["padding-right"]=v.lightbox_numbers_padding_right+"px";if(v.lightbox_numbers_padding_top!==null)e["padding-top"]=v.lightbox_numbers_padding_top+"px";u.css(e)}}function E(e){if(!g)return true;var t={slider_image_padding_top:e};g.setOptions(t);g.refreshSlideItems()}function T(){}function S(e){if(!o)return false;if(!l)return false;var t=o.height();if(t==0)return false;if(o.is(":visible")==false)return false;var i=t;var r=l.getSize();var n=r.height;if(t!=b.topPanelHeight)i=b.topPanelHeight;if(n>i)i=n;if(t!=i){o.height(i);if(g&&g.isAnimating()==false)E(i)}}function P(e){var t={};var i=v.lightbox_textpanel_width;var r=47;var n=40;var a=e.width-r-n;if(i>a){t.textpanel_padding_left=r;t.textpanel_padding_right=n;t.textpanel_title_text_align="center";t.textpanel_desc_text_align="center"}else{t.textpanel_padding_left=Math.floor((e.width-i)/2);t.textpanel_padding_right=t.textpanel_padding_left;t.textpanel_title_text_align="left";t.textpanel_desc_text_align="left";if(v.lightbox_textpanel_title_text_align)t.textpanel_title_text_align=v.lightbox_textpanel_desc_text_align;if(v.lightbox_textpanel_desc_text_align)t.textpanel_desc_text_align=v.lightbox_textpanel_desc_text_align}l.setOptions(t);l.refresh(true,true);S("positionTextPanelWide");l.positionPanel()}function x(){if(!o)return false;o.hide()}function j(){if(!o)return false;o.show()}function A(){}function C(e){if(b.isOpened==false)return false;if(!l)return false;if(!g)return false;var t=m.getElementSize(_);var i=l.getSize();if(i.width==0||i.height>120)return false;if(!e){var r=g.getSlideImage();var e=m.getElementSize(r)}if(e.height==0||e.width==0)return false;var n=e.bottom+i.height;if(n<t.height)return false;var a=g.getOptions();var s=i.height;if(s!=a.slider_image_padding_bottom){var o={slider_image_padding_bottom:s};if(g.isAnimating()==false){g.setOptions(o);g.refreshSlideItems();return true}}return false}function M(e,t){if(!e){var i=g.getSlideImage();var e=m.getElementSize(i)}b.textPanelTop=e.bottom;if(t===true)l.positionPanel(b.textPanelTop,b.textPanelLeft)}function O(e){var t=m.getElementSize(_);var i=g.getSlideImage();var r=m.getElementSize(i);if(r.width==0)return false;b.textPanelLeft=r.left;b.textPanelTop=r.bottom;var n=r.width;if(u){var a=m.getElementSize(u);n-=a.width;var s=r.right-a.width;m.placeElement(u,s,b.textPanelTop)}if(l){l.show();l.refresh(true,true,n);M(r)}var o=C(r);if(o==false){b.positionFrom="handleCompactTextpanelSizes";if(l){l.positionPanel(b.textPanelTop,b.textPanelLeft);if(e===true){e();J()}}}}function z(){if(g.isCurrentSlideType("image")==false)return true;var e=g.isCurrentImageInPlace()==true;return e}function k(e,t){if(b.isArrowsInside==false)return false;if(!c)return false;var i=z();c.show();h.show();b.positionFrom="positionArrowsInside";if(b.isArrowsOnHoverMode==true&&i==true&&W()==false)B(true);if(i==false){var r=m.getElementRelativePos(c,"left",v.lightbox_arrows_offset);var n=m.getElementRelativePos(c,"middle");var a=m.getElementRelativePos(h,"right",v.lightbox_arrows_offset);var s=n}else{var o=g.getSlideImage();var l=m.getElementSize(o);var u=m.getElementSize(g.getElement());var r=m.getElementRelativePos(c,"left",0,o)+l.left+v.lightbox_arrows_inside_offset;var n=m.getElementRelativePos(c,"middle",0,o)+l.top;var a=m.getElementRelativePos(c,"right",0,o)+l.left-v.lightbox_arrows_inside_offset;var s=n}if(t===true){var d={left:r,top:n};var f={left:a,top:s};c.stop().animate(d,{duration:b.fadeDuration});h.stop().animate(f,{duration:b.fadeDuration})}else{c.stop();h.stop();m.placeElement(c,r,n);m.placeElement(h,a,s)}if(e==true)Y(t)}function N(e,t){b.positionFrom=null;var i=z();var r=2;var n=m.getElementRelativePos(p,"right",2,_);if(i==false){var a=r;var s=n}else{var o=g.getSlideImage();var l=m.getElementSize(o);var u=m.getElementSize(g.getElement());var d=m.getElementSize(p);if(u.top==u.height)u.top=0;var s=u.left+l.right-d.width/2+v.lightbox_compact_closebutton_offsetx;var a=u.top+l.top-d.height/2-v.lightbox_compact_closebutton_offsety;if(a<r)a=r;if(s>n)s=n}if(t===true){var f={left:s,top:a};p.stop().animate(f,{duration:b.fadeDuration})}else{p.stop();m.placeElement(p,s,a)}if(e===true)U(t)}function L(){if(p)p.stop().fadeTo(b.fadeDuration,0);D();Q();b.positionFrom="hideCompactElements";if(b.isArrowsInside==true)B()}function R(){if(p)p.hide();if(c&&b.isArrowsInside==true){c.hide();h.hide()}if(u)u.hide();if(l)l.hide()}function H(){}function G(){var e=m.getElementSize(_);if(o)m.setElementSizeAndPosition(o,0,0,e.width,b.topPanelHeight);if(c&&b.isArrowsInside==false){if(v.lightbox_hide_arrows_onvideoplay==true){c.show();h.show()}m.placeElement(c,"left","middle",v.lightbox_arrows_offset);m.placeElement(h,"right","middle",v.lightbox_arrows_offset)}if(b.isCompact==false)m.placeElement(p,"right","top",2,2);if(l){b.positionFrom="positionElements";if(b.isCompact==false)P(e);else{Z();J()}}var t=e.width;var i=e.height;var r=0;var n=0;if(g){if(o){var a=o.height();var s={slider_image_padding_top:a};g.setOptions(s)}g.setSize(t,i);g.setPosition(n,r)}}function D(){if(l)l.getElement().stop().fadeTo(b.fadeDuration,0)}function Q(){if(u)u.stop().fadeTo(b.fadeDuration,0)}function W(){if(!b.lastMouseX)return true;var e={pageX:b.lastMouseX,pageY:b.lastMouseY};var t=g.isMouseInsideSlideImage(e);return t}function B(e,t){if(!c)return false;if(b.isArrowsOnHoverMode==true&&t===false){if(W()==true);return true}if(e===true){c.stop().fadeTo(0,0);h.stop().fadeTo(0,0)}else{c.stop().fadeTo(b.fadeDuration,0);h.stop().fadeTo(b.fadeDuration,0)}}function F(){if(!c)return true;if(c.is(":visible")==false)return true;var e=c.css("opacity");if(e!=1)return true;return false}function Y(e,t){if(!c)return false;if(b.isArrowsOnHoverMode==true&&t!==true&&z()==true)return true;if(g.isSwiping()==true)return true;if(e!==true){c.stop();h.stop()}c.fadeTo(b.fadeDuration,1);h.fadeTo(b.fadeDuration,1)}function U(e){if(e!==true)p.stop();p.fadeTo(b.fadeDuration,1)}function V(e){if(!l)return false;if(!e)var e=g.getCurrentItem();l.setTextPlain(e.title,e.description)}function X(e){if(!u)return false;if(!e)var e=g.getCurrentItem();var t=s.getNumItems();var i=e.index+1;u.html(i+" / "+t)}function Z(){if(!l)return false;l.getElement().show().stop().fadeTo(b.fadeDuration,1)}function J(){if(u)u.stop().fadeTo(b.fadeDuration,1)}function q(){}function K(){if(b.isCompact==false)return true;L()}function $(){if(b.isCompact==false)return true;b.positionFrom="onZoomChange";N(false,true);k(false,true);if(b.isCompact==true){var e=g.isCurrentSlideType("image")&&g.isCurrentImageInPlace()==true;if(e==false){D();Q()}else{b.positionFrom="onZoomChange";Z();J()}}}function ee(){if(b.isCompact==false)return true;b.positionFrom="onSliderAfterReturn";N(true);k(true);var e=C();if(e==false)O();Z();J()}function te(e,t){t=jQuery(t);if(b.isCompact==false)return true;if(g.isSlideCurrent(t)==false)return true;b.positionFrom="onSliderAfterPutImage";N(true);k(true);O()}function ie(){var e=g.getOptions();var t=e.slider_image_padding_top;if(o){var i=o.height();if(i!=t)E(i)}if(b.isCompact==true){V();X();b.positionFrom="onSliderTransitionEnd";N(true);k(true);if(g.isSlideActionActive()==false){var r=C();if(r==false)O()}Z();J()}}function re(e,t){if(b.isCompact==false){if(u)X(t);if(l){V(t);if(b.isRightNowOpened==false){l.positionElements(false);S("onchange");l.positionPanel()}}}else{if(g.isAnimating()==false){if(l)V(t);if(u)X(t)}}if(b.isSliderChangedOnce==false){b.isSliderChangedOnce=true;i.trigger(a.events.LIGHTBOX_INIT)}}function ne(e,t){var i=g.getSlideType();if(i!="image"&&b.isCompact==false&&g.isSlideActionActive())return true;var r=g.isPreloading();if(r==true){a.close("slider");return true}if(v.lightbox_close_on_emptyspace==true){var n=g.isMouseInsideSlideImage(t);if(n==false)a.close("slider_inside")}}function ae(){G()}function se(){if(o){x()}else{if(u)u.hide()}if(c&&v.lightbox_hide_arrows_onvideoplay==true){c.hide();h.hide()}}function oe(){if(o){j();S("onStopVideo")}else{if(u)u.show()}if(c&&v.lightbox_hide_arrows_onvideoplay==true){c.show();h.show()}}function le(e,t,i){var r=false;switch(t){case 27:if(b.isOpened==true)a.close("keypress");break;case 38:case 40:case 33:case 34:r=true;break}if(b.isOpened==true&&r==true)i.preventDefault()}function ue(){if(b.isArrowsOnHoverMode==true)Y(false,true)}function de(e){b.positionFrom="hideCompactElements";if(b.isArrowsOnHoverMode==true&&z()==true)B(false,true)}function fe(e){b.lastMouseX=e.pageX;b.lastMouseY=e.pageY;var t=F();if(t==true&&W()&&g.isAnimating()==false){b.positionFrom="onMouseMove";if(c&&c.is(":animated")==false)Y(false,true)}}function _e(e,t,i,r){if(b.isOpened==false)return true;switch(v.gallery_mousewheel_role){default:case"zoom":var n=g.getSlideType();if(n!="image")e.preventDefault();break;case"none":e.preventDefault();break;case"advance":s.onGalleryMouseWheel(e,t,i,r);break}}function ge(){n.on("touchstart",function(e){e.preventDefault()});n.on("touchend",function(e){a.close("overlay")});m.addClassOnHover(h,"ug-arrow-hover");m.addClassOnHover(c,"ug-arrow-hover");m.addClassOnHover(p);s.setNextButton(h);s.setPrevButton(c);p.click(function(){a.close("button")});r.on(s.events.ITEM_CHANGE,re);if(g){jQuery(g).on(g.events.TRANSITION_END,ie);jQuery(g).on(g.events.CLICK,ne);var e=g.getVideoObject();jQuery(e).on(e.events.PLAY_START,se);jQuery(e).on(e.events.PLAY_STOP,oe);jQuery(g).on(g.events.START_DRAG,K);jQuery(g).on(g.events.TRANSITION_START,K);jQuery(g).on(g.events.AFTER_DRAG_CHANGE,ee);jQuery(g).on(g.events.AFTER_RETURN,ee);jQuery(g).on(g.events.AFTER_PUT_IMAGE,te);jQuery(g).on(g.events.ZOOM_CHANGE,$);jQuery(g).on(g.events.IMAGE_MOUSEENTER,ue);jQuery(g).on(g.events.IMAGE_MOUSELEAVE,de)}jQuery(window).resize(function(){if(b.isOpened==false)return true;m.whenContiniousEventOver("lightbox_resize",ae,100)});r.on(s.events.GALLERY_KEYPRESS,le);if(b.isArrowsOnHoverMode==true){jQuery(document).bind("mousemove",fe)}_.on("mousewheel",_e)}this.destroy=function(){jQuery(document).unbind("mousemove");n.off("touchstart");n.off("touchend");p.off("click");r.off(s.events.ITEM_CHANGE);if(g){jQuery(g).off(g.events.TRANSITION_END);jQuery(g).off(g.events.CLICK);jQuery(g).off(g.events.START_DRAG);jQuery(g).off(g.events.TRANSITION_START);jQuery(g).off(g.events.AFTER_DRAG_CHANGE);jQuery(g).off(g.events.AFTER_RETURN);var e=g.getVideoObject();jQuery(e).off(e.events.PLAY_START);jQuery(e).off(e.events.PLAY_STOP);jQuery(g).on(g.events.IMAGE_MOUSEENTER,ue);jQuery(g).on(g.events.IMAGE_MOUSELEAVE,de);g.destroy()}jQuery(window).unbind("resize");r.off(s.events.GALLERY_KEYPRESS,le);_.off("mousewheel");_.remove()};this.open=function(e){var t=s.getItem(e);b.isOpened=true;b.isRightNowOpened=true;setTimeout(function(){b.isRightNowOpened=false},100);if(g){g.setItem(t,"lightbox_open")}if(l){l.setTextPlain(t.title,t.description)}n.stop().fadeTo(0,0);_.show();_.fadeTo(0,1);n.stop().fadeTo(b.fadeDuration,v.lightbox_overlay_opacity);G();if(b.isCompact==true){var i=g.isPreloading();if(i==true){R()}else{if(b.isArrowsInside==true){c.hide();h.hide()}}}if(g)g.startSlideAction();r.trigger(s.events.OPEN_LIGHTBOX,t)};this.close=function(e){b.isOpened=false;if(b.isCompact==true)L();if(g)g.stopSlideAction();var t=g.getSlideType();if(t!="image")_.hide();else{_.fadeTo(b.fadeDuration,0,function(){_.hide()})}r.trigger(s.events.CLOSE_LIGHTBOX)};this.init=function(e,t){y(e,t)};function ce(){b.isCompact=false;I();b.isArrowsInside=false;b.isArrowsOnHoverMode=false;v=jQuery.extend({},b.originalOptions);v.lightbox_arrows_position="sides";g.setOptions(v)}this.putHtml=function(){var e=s.isSmallWindow();if(e&&b.isCompact==true)ce();t()};this.run=function(){w();if(g)g.run();ge()}}function UGCarousel(){var r=this,t=jQuery(this);var l=new UniteGalleryMain,i,a;var u=new UGFunctions,n,s=new UGTileDesign;var o=new UGThumbsGeneral,d,f,e=[];var _={carousel_padding:8,carousel_space_between_tiles:20,carousel_navigation_numtiles:3,carousel_scroll_duration:500,carousel_scroll_easing:"easeOutCubic",carousel_autoplay:true,carousel_autoplay_timeout:3e3,carousel_autoplay_direction:"right",carousel_autoplay_pause_onhover:true,carousel_vertical_scroll_ondrag:false};this.events={START_PLAY:"carousel_start_play",PAUSE_PLAY:"carousel_pause_play",STOP_PLAY:"carousel_stop_play"};var g={eventSizeChange:"thumb_size_change",isFirstTimeRun:true,carouselMaxWidth:null,tileWidth:0,initTileWidth:0,initTileHeight:0,sideSpace:1500,spaceActionSize:500,numCurrent:0,touchActive:false,startInnerPos:0,lastTime:0,startTime:0,startMousePos:0,lastMousePos:0,scrollShortDuration:200,scrollShortEasing:"easeOutQuad",handle:null,isPlayMode:false,isPaused:false,storedEventID:"carousel"};function c(){}function h(e,t){g_objects=e.getObjects();l=e;i=jQuery(e);a=g_objects.g_objWrapper;n=g_objects.g_arrItems;_=jQuery.extend(_,t);s.setFixedMode();s.setApproveClickFunction($);s.init(e,_);o=s.getObjThumbs();_=s.getOptions();g.initTileWidth=_.tile_width;g.initTileHeight=_.tile_height;g.tileWidth=_.tile_width}function p(e){if(!e)var e=a;var t="<div class='ug-carousel-wrapper'><div class='ug-carousel-inner'></div></div>";a.append(t);d=a.children(".ug-carousel-wrapper");f=d.children(".ug-carousel-inner");s.setHtml(f);o.getThumbs().fadeTo(0,1)}function m(e,t){if(!t){var t=g.initTileHeight/g.initTileWidth*e}g.tileWidth=e;var i={tile_width:e,tile_height:t};s.setOptions(i);_.tile_width=e;_.tile_height=t;s.resizeAllTiles(e);k(true)}function v(){if(g.carouselMaxWidth===null){throw new Error("The carousel width not set");return false}if(g.tileWidth<g.initTileWidth){var e=g.carouselMaxWidth-_.carousel_padding*2;if(e>g.initTileWidth)e=g.initTileWidth;m(e);var t=u.getNumItemsInSpace(g.carouselMaxWidth,e,_.carousel_space_between_tiles)}else{var t=u.getNumItemsInSpace(g.carouselMaxWidth,g.tileWidth,_.carousel_space_between_tiles);if(t<=0){t=1;var e=g.carouselMaxWidth-_.carousel_padding*2;m(e)}}var i=u.getSpaceByNumItems(t,g.tileWidth,_.carousel_space_between_tiles);i+=_.carousel_padding*2;d.width(i);if(g.isFirstTimeRun==true){K();s.run();jQuery.each(n,function(e,t){t.objThumbWrapper.data("index",e);a.trigger(g.eventSizeChange,[t.objThumbWrapper,true]);t.objTileOriginal=t.objThumbWrapper.clone(true,true)});k(true);if(_.carousel_autoplay==true)r.startAutoplay()}else{if(_.carousel_autoplay==true)r.pauseAutoplay();G(0,false);if(_.carousel_autoplay==true)r.startAutoplay()}B();g.isFirstTimeRun=false}function b(){}function y(){return u.getElementSize(f).left}function I(e){return u.getMousePosition(e).pageX}function w(){var e=f.children(".ug-thumb-wrapper");return e}function E(e){var t=u.getNumItemsInSpace(e,g.tileWidth,_.carousel_space_between_tiles);return t}function T(){return w().length}function S(e){N(e);var t=w();var i=jQuery(t[e]);return i}function P(){return f.children(".ug-thumb-wrapper").first()}function x(){return f.children(".ug-thumb-wrapper").last()}function j(e,t,i){var r=e.data("index");if(r==undefined){throw new Error("every tile should have index!")}var n=[];for(var a=0;a<t;a++){if(i=="prev")var s=l.getPrevItem(r,true);else var s=l.getNextItem(r,true);if(!s){throw new Error("the item to add is empty")}var o=s.objTileOriginal.clone(true,true);r=s.index;o.addClass("cloned");n.push(o)}return n}function A(){var e=u.getElementSize(d);var t=u.getElementSize(f);var i=t.width-e.width+t.left;var r=g.sideSpace-i;return r}function C(){var e=-y();var t=g.sideSpace-e;return t}function M(){var e=u.getElementSize(d);return e.width}function O(){var e=M();var t=E(e);return t}function z(){}function k(e){if(!e)var e=false;var r=w();var n=0;var a=0,s;jQuery.each(r,function(e,t){t=jQuery(t);u.placeElement(t,n,0);var i=u.getElementSize(t);n+=i.width+_.carousel_space_between_tiles;a=Math.max(a,i.height);if(e==r.length-1)s=i.right});f.width(s);a+=_.carousel_padding*2;if(e===true){f.height(a);d.height(a)}G(g.numCurrent,false);return s}function N(e){if(e>w().length-1)throw new Error("Wrogn tile number: "+e)}function L(e,i){if(i=="left")var t=P();else var t=x();var r=i=="left"?"prev":"next";var n=j(t,e,r);jQuery.each(n,function(e,t){if(i=="left")f.prepend(t);else f.append(t);a.trigger(g.eventSizeChange,t);s.loadTileImage(t)})}function R(e,t){N(r);var i=w();var r=i.length;for(var n=0;n<e;n++){if(t=="left")jQuery(i[n]).remove();else{jQuery(i[r-1-n]).remove()}}}function H(e){var t={left:e+"px"};f.css(t)}function G(e,t,i){if(t===undefined){var t=true;if(f.is(":animated"))return true}var r=S(e);var n=u.getElementSize(r);var a=-n.left+_.carousel_padding;var s={left:a+"px"};if(t===true){var o=_.carousel_scroll_duration;var l=_.carousel_scroll_easing;if(i===true){o=g.scrollShortDuration;l=g.scrollShortEasing}f.stop(true).animate(s,{duration:o,easing:l,queue:false,complete:function(){g.numCurrent=e;W(true)}})}else{g.numCurrent=e;f.css(s)}}function D(){var e=-y();var t=E(e);var i=u.getElementSize(S(t)).left;var r=u.getElementSize(S(t+1)).left;if(Math.abs(i-e)<Math.abs(r-e))return t;else return t+1}function Q(){var e=D();G(e,true,true)}function W(){var e=C();var t=A();var i=0,r=0,n=0,a=0;var s=T();if(e>g.spaceActionSize){i=E(e);L(i,"left");g.numCurrent+=i}else if(e<-g.spaceActionSize){var n=E(Math.abs(e));R(n,"left");g.numCurrent-=n}if(t>g.spaceActionSize){r=E(t);L(r,"right")}else if(t<-g.spaceActionSize){a=E(Math.abs(t));R(a,"right")}if(a>s){throw new Error("Can't remove more then num tiles")}var o=false;if(i||r||n||a){k();o=true}return o}function B(e){u.placeElement(f,0,_.carousel_padding);W()}function F(){}this.startAutoplay=function(){g.isPlayMode=true;g.isPaused=false;t.trigger(r.events.START_PLAY);if(g.handle)clearInterval(g.handle);g.handle=setInterval(Y,_.carousel_autoplay_timeout)};this.unpauseAutoplay=function(){if(g.isPlayMode==false)return true;if(g.isPaused==false)return true;r.startAutoplay()};this.pauseAutoplay=function(){if(g.isPlayMode==false)return true;g.isPaused=true;if(g.handle)clearInterval(g.handle);t.trigger(r.events.PAUSE_PLAY)};this.stopAutoplay=function(){if(g.isPlayMode==false)return true;g.isPaused=false;g.isPlayMode=false;if(g.handle)clearInterval(g.handle);t.trigger(r.events.STOP_PLAY)};function Y(){if(_.carousel_autoplay_direction=="left"){r.scrollRight(1)}else{r.scrollLeft(1)}}function U(){}function V(e){if(g.touchActive==true)return true;g.touchActive=true;r.pauseAutoplay();g.startTime=jQuery.now();g.startMousePos=I(e);g.startInnerPos=y();g.lastTime=g.startTime;g.lastMousePos=g.startMousePos;u.storeEventData(e,g.storedEventID)}function X(e){if(g.touchActive==false)return true;u.updateStoredEventData(e,g.storedEventID);e.preventDefault();var t=null;if(_.carousel_vertical_scroll_ondrag==true)t=u.handleScrollTop(g.storedEventID);if(t==="vert")return true;g.lastMousePos=I(e);var i=g.lastMousePos-g.startMousePos;var r=g.startInnerPos+i;var n=i>0?"prev":"next";var a=u.getElementSize(f).width;if(r>0&&n=="prev"){r=r/3}if(r<-a&&n=="next"){r=g.startInnerPos+i/3}H(r)}function Z(e){if(g.touchActive==false)return true;g.touchActive=false;Q();r.unpauseAutoplay()}function J(e){if(_.carousel_autoplay_pause_onhover==false)return true;if(g.isPlayMode==true&&g.isPaused==false)r.pauseAutoplay()}function q(e){if(_.carousel_autoplay_pause_onhover==false)return true;r.unpauseAutoplay()}function K(){s.initEvents();d.bind("mousedown touchstart",V);jQuery("body").bind("mousemove touchmove",X);jQuery(window).add("body").bind("mouseup touchend",Z);d.hover(J,q)}this.destroy=function(){if(g.handle)clearInterval(g.handle);t.off(r.events.START_PLAY);t.off(r.events.STOP_PLAY);d.unbind("mousedown");d.unbind("touchstart");jQuery("body").unbind("mousemove");jQuery("body").unbind("touchmove");jQuery(window).add("body").unbind("mouseup").unbind("touchend");d.off("mouseenter").off("mouseleave");s.destroy()};this.init=function(e,t,i){if(i)this.setMaxWidth(i);h(e,t)};this.setMaxWidth=function(e){g.carouselMaxWidth=e};this.setHtml=function(e){p(e)};this.getElement=function(){return d};this.getObjTileDesign=function(){return s};this.getEstimatedHeight=function(){var e=_.tile_height+_.carousel_padding*2;return e};this.run=function(){v()};this.scrollRight=function(e){if(!e||typeof e=="object")var e=_.carousel_navigation_numtiles;var t=O();if(e>t)e=t;var i=g.numCurrent-e;if(i<=0)i=0;G(i)};this.scrollLeft=function(e){if(!e||typeof e=="object")var e=_.carousel_navigation_numtiles;var t=O();if(e>t)e=t;var i=T();var r=g.numCurrent+e;if(r>=i)r=i-1;G(r)};this.setScrollLeftButton=function(e){u.setButtonMobileReady(e);u.setButtonOnClick(e,r.scrollLeft)};this.setScrollRightButton=function(e){u.setButtonMobileReady(e);u.setButtonOnClick(e,r.scrollRight)};this.setPlayPauseButton=function(e){u.setButtonMobileReady(e);if(g.isPlayMode==true&&g.isPaused==false){e.addClass("ug-pause-icon")}t.on(r.events.START_PLAY,function(){e.addClass("ug-pause-icon")});t.on(r.events.STOP_PLAY,function(){e.removeClass("ug-pause-icon")});u.setButtonOnClick(e,function(){if(g.isPlayMode==false||g.isPaused==true)r.startAutoplay();else r.stopAutoplay()})};function $(){var e=g.lastTime-g.startTime;var t=Math.abs(g.lastMousePos-g.startMousePos);if(e>300)return false;if(t>30)return false;return true}}function UGTabs(){var e=this,t=jQuery(this),i;var r=new UniteGalleryMain,n=new UGFunctions;var a,s;var o={tabs_type:"tabs",tabs_container:"#ug_tabs",tabs_class_selected:"ug-tab-selected"};this.events={};function l(e,t){r=e;i=jQuery(r);o=jQuery.extend(o,t);if(o.tabs_type=="select")s=jQuery(o.tabs_container);else a=jQuery(o.tabs_container+" .ug-tab")}function u(){g()}function d(e){r.requestNewItems(e)}function f(){var e=o.tabs_class_selected;var t=jQuery(this);if(t.hasClass(e))return true;a.not(t).removeClass(e);t.addClass(e);var i=t.data("catid");if(!i)return true;d(i)}function _(){var e=jQuery(this);var t=e.val();if(!t)return true;d(t)}function g(){if(o.tabs_type=="select")s.change(_);else a.click(f)}this.destroy=function(){if(s)s.off("change");if(a)a.off("click")};this.init=function(e,t){l(e,t)};this.run=function(){u()}}function UG_API(e){var r=this,t=jQuery(r);var n=new UniteGalleryMain,a;var s=[];n=e;a=jQuery(e);this.events={API_INIT_FUNCTIONS:"api_init",API_ON_EVENT:"api_on_event"};function o(e){var t={index:e.index,title:e.title,description:e.description,urlImage:e.urlImage,urlImageZoom:e.urlImageZoom,urlThumb:e.urlThumb};var i=e.objThumbImage.data();for(var r in i){switch(r){case"image":case"description":continue;break}t[r]=i[r]}return t}this.on=function(e,i,t){if(t!==true){s.push({event:e,func:i})}switch(e){case"item_change":a.on(n.events.ITEM_CHANGE,function(){var e=n.getSelectedItem();var t=o(e);i(t.index,t)});break;case"resize":a.on(n.events.SIZE_CHANGE,i);break;case"enter_fullscreen":a.on(n.events.ENTER_FULLSCREEN,i);break;case"exit_fullscreen":a.on(n.events.EXIT_FULLSCREEN,i);break;case"play":a.on(n.events.START_PLAY,i);break;case"stop":a.on(n.events.STOP_PLAY,i);break;case"pause":a.on(n.events.PAUSE_PLAYING,i);break;case"continue":a.on(n.events.CONTINUE_PLAYING,i);break;case"open_lightbox":a.on(n.events.OPEN_LIGHTBOX,i);break;case"close_lightbox":a.on(n.events.CLOSE_LIGHTBOX,i);break;default:if(console)console.log("wrong api event: "+e);break}a.trigger(r.events.API_ON_EVENT,[e,i])};this.play=function(){n.startPlayMode()};this.stop=function(){n.stopPlayMode()};this.togglePlay=function(){n.togglePlayMode()};this.enterFullscreen=function(){n.toFullScreen()};this.exitFullscreen=function(){n.exitFullScreen()};this.toggleFullscreen=function(){n.toggleFullscreen()};this.resetZoom=function(){var e=n.getObjSlider();if(!e)return false;e.zoomBack()};this.zoomIn=function(){var e=n.getObjSlider();if(!e)return false;e.zoomIn()};this.zoomOut=function(){var e=n.getObjSlider();if(!e)return false;e.zoomOut()};this.nextItem=function(){n.nextItem()};this.prevItem=function(){n.prevItem()};this.selectItem=function(e){n.selectItem(e)};this.resize=function(e,t){if(t)n.resize(e,t);else n.resize(e)};this.getItem=function(e){var t=n.getItem(e);var i=o(t);return i};this.getNumItems=function(){var e=n.getNumItems();return e};this.reloadGallery=function(e){if(!e)var e={};n.run(null,e);s.map(function(e){r.on(e.event,e.func,true)})};this.destroy=function(){n.destroy()};a.trigger(r.events.API_INIT_FUNCTIONS,r)}function UGLoadMore(){var e=this,t=jQuery(this),i;var r=new UniteGalleryMain,n=new UGFunctions;var a,s,o,l;var u={isInited:false};var d={loadmore_container:"ug_loadmore_wrapper"};this.events={};function f(){a=jQuery("#"+d.loadmore_container);if(a.length==0)return false;s=a.find(".ug-loadmore-button");if(s.length==0)return false;o=a.find(".ug-loadmore-loader");if(o.length==0)return false;l=a.find(".ug-loadmore-error");if(l.length==0)return false;u.isInited=true}function _(){a.show()}function g(){s.hide();o.show();var e={numitems:r.getNumItems()};r.ajaxRequest("front_loadmore",e,function(e){o.hide();var t=e.html_items;var i=e.show_loadmore;if(i==true){s.blur().show();o.hide()}else{a.hide()}r.addItems(t)},function(e){e="Ajax Error!"+e;o.hide();l.show();l.html(e)})}function c(){r.onEvent("tiles_first_placed",_);s.click(g)}this.destroy=function(){if(u.isInited==false)return false};this.init=function(e,t){r=e;i=jQuery(r);d=jQuery.extend(d,t);f();if(u.isInited==false){trace("load more not inited, something is wrong");return false}c()}}
;
(function ($) {
	
	/**
	 * function to load the modal pop-up (see AD-410)
	 * URL format > https://url/?nvmid=buttonid
	 * buttonid is the Id used in a page to open pou-up
	 */
	$(document).ready(function() {
		var urlmodalid = NVIDIAGDC.Browser.getUrlParameter("nvmid");
		if (urlmodalid && urlmodalid.length > 1) {
			urlmodalid = "#" + urlmodalid;

			var isVideo = $(urlmodalid).parent().attr("id");

			if (isVideo) {
				if (isVideo.indexOf("videocomponent") !== -1) {
					setTimeout(function() {
						$(urlmodalid).children().children().click();
					}, 2000);
				}
			} else {
				setTimeout(function() {
					$(urlmodalid).click();
				}, 2000);
			}

		}
		
		 // removing spinner if the nvidia pages opened in iframe ex: iframe forms.
        if(window.frameElement !== null) {
        	var spinner = $(window.parent.document).find('.nv-spinner-container');
            if(spinner && spinner != null) {
                $(spinner).remove();
            }
        }

	});

})(jQuery);
;(function() {

	var deleteCookie = function(name) {
  		document.cookie = name + '=; expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/';
	}

    var getCookie = function(name) {
		var value = "; " + document.cookie;
		var parts = value.split("; " + name + "=");
		if (parts.length == 2) return parts.pop().split(";").shift();
	}

	var setCookie = function(name, value) {
		document.cookie = name+'='+value+'; expires=Thu, 01 Jan 2050 00:00:01 GMT; path=/';
	}

	if(window.cookieHelpers == null) {

		window.cookieHelpers = {
			deleteCookie: deleteCookie,
			getCookie: getCookie,
			setCookie: setCookie
		}

	}
    
}(window, undefined));

/*!

 handlebars v4.0.5

Copyright (C) 2011-2015 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

@license
*/
!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?exports.Handlebars=b():a.Handlebars=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";function d(){var a=r();return a.compile=function(b,c){return k.compile(b,c,a)},a.precompile=function(b,c){return k.precompile(b,c,a)},a.AST=i["default"],a.Compiler=k.Compiler,a.JavaScriptCompiler=m["default"],a.Parser=j.parser,a.parse=j.parse,a}var e=c(1)["default"];b.__esModule=!0;var f=c(2),g=e(f),h=c(21),i=e(h),j=c(22),k=c(27),l=c(28),m=e(l),n=c(25),o=e(n),p=c(20),q=e(p),r=g["default"].create,s=d();s.create=d,q["default"](s),s.Visitor=o["default"],s["default"]=s,b["default"]=s,a.exports=b["default"]},function(a,b){"use strict";b["default"]=function(a){return a&&a.__esModule?a:{"default":a}},b.__esModule=!0},function(a,b,c){"use strict";function d(){var a=new h.HandlebarsEnvironment;return n.extend(a,h),a.SafeString=j["default"],a.Exception=l["default"],a.Utils=n,a.escapeExpression=n.escapeExpression,a.VM=p,a.template=function(b){return p.template(b,a)},a}var e=c(3)["default"],f=c(1)["default"];b.__esModule=!0;var g=c(4),h=e(g),i=c(18),j=f(i),k=c(6),l=f(k),m=c(5),n=e(m),o=c(19),p=e(o),q=c(20),r=f(q),s=d();s.create=d,r["default"](s),s["default"]=s,b["default"]=s,a.exports=b["default"]},function(a,b){"use strict";b["default"]=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b},b.__esModule=!0},function(a,b,c){"use strict";function d(a,b,c){this.helpers=a||{},this.partials=b||{},this.decorators=c||{},i.registerDefaultHelpers(this),j.registerDefaultDecorators(this)}var e=c(1)["default"];b.__esModule=!0,b.HandlebarsEnvironment=d;var f=c(5),g=c(6),h=e(g),i=c(7),j=c(15),k=c(17),l=e(k),m="4.0.5";b.VERSION=m;var n=7;b.COMPILER_REVISION=n;var o={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};b.REVISION_CHANGES=o;var p="[object Object]";d.prototype={constructor:d,logger:l["default"],log:l["default"].log,registerHelper:function(a,b){if(f.toString.call(a)===p){if(b)throw new h["default"]("Arg not supported with multiple helpers");f.extend(this.helpers,a)}else this.helpers[a]=b},unregisterHelper:function(a){delete this.helpers[a]},registerPartial:function(a,b){if(f.toString.call(a)===p)f.extend(this.partials,a);else{if("undefined"==typeof b)throw new h["default"]('Attempting to register a partial called "'+a+'" as undefined');this.partials[a]=b}},unregisterPartial:function(a){delete this.partials[a]},registerDecorator:function(a,b){if(f.toString.call(a)===p){if(b)throw new h["default"]("Arg not supported with multiple decorators");f.extend(this.decorators,a)}else this.decorators[a]=b},unregisterDecorator:function(a){delete this.decorators[a]}};var q=l["default"].log;b.log=q,b.createFrame=f.createFrame,b.logger=l["default"]},function(a,b){"use strict";function c(a){return k[a]}function d(a){for(var b=1;b<arguments.length;b++)for(var c in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],c)&&(a[c]=arguments[b][c]);return a}function e(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1}function f(a){if("string"!=typeof a){if(a&&a.toHTML)return a.toHTML();if(null==a)return"";if(!a)return a+"";a=""+a}return m.test(a)?a.replace(l,c):a}function g(a){return a||0===a?p(a)&&0===a.length?!0:!1:!0}function h(a){var b=d({},a);return b._parent=a,b}function i(a,b){return a.path=b,a}function j(a,b){return(a?a+".":"")+b}b.__esModule=!0,b.extend=d,b.indexOf=e,b.escapeExpression=f,b.isEmpty=g,b.createFrame=h,b.blockParams=i,b.appendContextPath=j;var k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},l=/[&<>"'`=]/g,m=/[&<>"'`=]/,n=Object.prototype.toString;b.toString=n;var o=function(a){return"function"==typeof a};o(/x/)&&(b.isFunction=o=function(a){return"function"==typeof a&&"[object Function]"===n.call(a)}),b.isFunction=o;var p=Array.isArray||function(a){return a&&"object"==typeof a?"[object Array]"===n.call(a):!1};b.isArray=p},function(a,b){"use strict";function c(a,b){var e=b&&b.loc,f=void 0,g=void 0;e&&(f=e.start.line,g=e.start.column,a+=" - "+f+":"+g);for(var h=Error.prototype.constructor.call(this,a),i=0;i<d.length;i++)this[d[i]]=h[d[i]];Error.captureStackTrace&&Error.captureStackTrace(this,c),e&&(this.lineNumber=f,this.column=g)}b.__esModule=!0;var d=["description","fileName","lineNumber","message","name","number","stack"];c.prototype=new Error,b["default"]=c,a.exports=b["default"]},function(a,b,c){"use strict";function d(a){g["default"](a),i["default"](a),k["default"](a),m["default"](a),o["default"](a),q["default"](a),s["default"](a)}var e=c(1)["default"];b.__esModule=!0,b.registerDefaultHelpers=d;var f=c(8),g=e(f),h=c(9),i=e(h),j=c(10),k=e(j),l=c(11),m=e(l),n=c(12),o=e(n),p=c(13),q=e(p),r=c(14),s=e(r)},function(a,b,c){"use strict";b.__esModule=!0;var d=c(5);b["default"]=function(a){a.registerHelper("blockHelperMissing",function(b,c){var e=c.inverse,f=c.fn;if(b===!0)return f(this);if(b===!1||null==b)return e(this);if(d.isArray(b))return b.length>0?(c.ids&&(c.ids=[c.name]),a.helpers.each(b,c)):e(this);if(c.data&&c.ids){var g=d.createFrame(c.data);g.contextPath=d.appendContextPath(c.data.contextPath,c.name),c={data:g}}return f(b,c)})},a.exports=b["default"]},function(a,b,c){"use strict";var d=c(1)["default"];b.__esModule=!0;var e=c(5),f=c(6),g=d(f);b["default"]=function(a){a.registerHelper("each",function(a,b){function c(b,c,f){j&&(j.key=b,j.index=c,j.first=0===c,j.last=!!f,k&&(j.contextPath=k+b)),i+=d(a[b],{data:j,blockParams:e.blockParams([a[b],b],[k+b,null])})}if(!b)throw new g["default"]("Must pass iterator to #each");var d=b.fn,f=b.inverse,h=0,i="",j=void 0,k=void 0;if(b.data&&b.ids&&(k=e.appendContextPath(b.data.contextPath,b.ids[0])+"."),e.isFunction(a)&&(a=a.call(this)),b.data&&(j=e.createFrame(b.data)),a&&"object"==typeof a)if(e.isArray(a))for(var l=a.length;l>h;h++)h in a&&c(h,h,h===a.length-1);else{var m=void 0;for(var n in a)a.hasOwnProperty(n)&&(void 0!==m&&c(m,h-1),m=n,h++);void 0!==m&&c(m,h-1,!0)}return 0===h&&(i=f(this)),i})},a.exports=b["default"]},function(a,b,c){"use strict";var d=c(1)["default"];b.__esModule=!0;var e=c(6),f=d(e);b["default"]=function(a){a.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new f["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},a.exports=b["default"]},function(a,b,c){"use strict";b.__esModule=!0;var d=c(5);b["default"]=function(a){a.registerHelper("if",function(a,b){return d.isFunction(a)&&(a=a.call(this)),!b.hash.includeZero&&!a||d.isEmpty(a)?b.inverse(this):b.fn(this)}),a.registerHelper("unless",function(b,c){return a.helpers["if"].call(this,b,{fn:c.inverse,inverse:c.fn,hash:c.hash})})},a.exports=b["default"]},function(a,b){"use strict";b.__esModule=!0,b["default"]=function(a){a.registerHelper("log",function(){for(var b=[void 0],c=arguments[arguments.length-1],d=0;d<arguments.length-1;d++)b.push(arguments[d]);var e=1;null!=c.hash.level?e=c.hash.level:c.data&&null!=c.data.level&&(e=c.data.level),b[0]=e,a.log.apply(a,b)})},a.exports=b["default"]},function(a,b){"use strict";b.__esModule=!0,b["default"]=function(a){a.registerHelper("lookup",function(a,b){return a&&a[b]})},a.exports=b["default"]},function(a,b,c){"use strict";b.__esModule=!0;var d=c(5);b["default"]=function(a){a.registerHelper("with",function(a,b){d.isFunction(a)&&(a=a.call(this));var c=b.fn;if(d.isEmpty(a))return b.inverse(this);var e=b.data;return b.data&&b.ids&&(e=d.createFrame(b.data),e.contextPath=d.appendContextPath(b.data.contextPath,b.ids[0])),c(a,{data:e,blockParams:d.blockParams([a],[e&&e.contextPath])})})},a.exports=b["default"]},function(a,b,c){"use strict";function d(a){g["default"](a)}var e=c(1)["default"];b.__esModule=!0,b.registerDefaultDecorators=d;var f=c(16),g=e(f)},function(a,b,c){"use strict";b.__esModule=!0;var d=c(5);b["default"]=function(a){a.registerDecorator("inline",function(a,b,c,e){var f=a;return b.partials||(b.partials={},f=function(e,f){var g=c.partials;c.partials=d.extend({},g,b.partials);var h=a(e,f);return c.partials=g,h}),b.partials[e.args[0]]=e.fn,f})},a.exports=b["default"]},function(a,b,c){"use strict";b.__esModule=!0;var d=c(5),e={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(a){if("string"==typeof a){var b=d.indexOf(e.methodMap,a.toLowerCase());a=b>=0?b:parseInt(a,10)}return a},log:function(a){if(a=e.lookupLevel(a),"undefined"!=typeof console&&e.lookupLevel(e.level)<=a){var b=e.methodMap[a];console[b]||(b="log");for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;c>f;f++)d[f-1]=arguments[f];console[b].apply(console,d)}}};b["default"]=e,a.exports=b["default"]},function(a,b){"use strict";function c(a){this.string=a}b.__esModule=!0,c.prototype.toString=c.prototype.toHTML=function(){return""+this.string},b["default"]=c,a.exports=b["default"]},function(a,b,c){"use strict";function d(a){var b=a&&a[0]||1,c=r.COMPILER_REVISION;if(b!==c){if(c>b){var d=r.REVISION_CHANGES[c],e=r.REVISION_CHANGES[b];throw new q["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+d+") or downgrade your runtime to an older version ("+e+").")}throw new q["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").")}}function e(a,b){function c(c,d,e){e.hash&&(d=o.extend({},d,e.hash),e.ids&&(e.ids[0]=!0)),c=b.VM.resolvePartial.call(this,c,d,e);var f=b.VM.invokePartial.call(this,c,d,e);if(null==f&&b.compile&&(e.partials[e.name]=b.compile(c,a.compilerOptions,b),f=e.partials[e.name](d,e)),null!=f){if(e.indent){for(var g=f.split("\n"),h=0,i=g.length;i>h&&(g[h]||h+1!==i);h++)g[h]=e.indent+g[h];f=g.join("\n")}return f}throw new q["default"]("The partial "+e.name+" could not be compiled when running in runtime-only mode")}function d(b){function c(b){return""+a.main(e,b,e.helpers,e.partials,g,i,h)}var f=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],g=f.data;d._setup(f),!f.partial&&a.useData&&(g=j(b,g));var h=void 0,i=a.useBlockParams?[]:void 0;return a.useDepths&&(h=f.depths?b!==f.depths[0]?[b].concat(f.depths):f.depths:[b]),(c=k(a.main,c,e,f.depths||[],g,i))(b,f)}if(!b)throw new q["default"]("No environment passed to template");if(!a||!a.main)throw new q["default"]("Unknown template object: "+typeof a);a.main.decorator=a.main_d,b.VM.checkRevision(a.compiler);var e={strict:function(a,b){if(!(b in a))throw new q["default"]('"'+b+'" not defined in '+a);return a[b]},lookup:function(a,b){for(var c=a.length,d=0;c>d;d++)if(a[d]&&null!=a[d][b])return a[d][b]},lambda:function(a,b){return"function"==typeof a?a.call(b):a},escapeExpression:o.escapeExpression,invokePartial:c,fn:function(b){var c=a[b];return c.decorator=a[b+"_d"],c},programs:[],program:function(a,b,c,d,e){var g=this.programs[a],h=this.fn(a);return b||e||d||c?g=f(this,a,h,b,c,d,e):g||(g=this.programs[a]=f(this,a,h)),g},data:function(a,b){for(;a&&b--;)a=a._parent;return a},merge:function(a,b){var c=a||b;return a&&b&&a!==b&&(c=o.extend({},b,a)),c},noop:b.VM.noop,compilerInfo:a.compiler};return d.isTop=!0,d._setup=function(c){c.partial?(e.helpers=c.helpers,e.partials=c.partials,e.decorators=c.decorators):(e.helpers=e.merge(c.helpers,b.helpers),a.usePartial&&(e.partials=e.merge(c.partials,b.partials)),(a.usePartial||a.useDecorators)&&(e.decorators=e.merge(c.decorators,b.decorators)))},d._child=function(b,c,d,g){if(a.useBlockParams&&!d)throw new q["default"]("must pass block params");if(a.useDepths&&!g)throw new q["default"]("must pass parent depths");return f(e,b,a[b],c,0,d,g)},d}function f(a,b,c,d,e,f,g){function h(b){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],h=g;return g&&b!==g[0]&&(h=[b].concat(g)),c(a,b,a.helpers,a.partials,e.data||d,f&&[e.blockParams].concat(f),h)}return h=k(c,h,a,g,d,f),h.program=b,h.depth=g?g.length:0,h.blockParams=e||0,h}function g(a,b,c){return a?a.call||c.name||(c.name=a,a=c.partials[a]):a="@partial-block"===c.name?c.data["partial-block"]:c.partials[c.name],a}function h(a,b,c){c.partial=!0,c.ids&&(c.data.contextPath=c.ids[0]||c.data.contextPath);var d=void 0;if(c.fn&&c.fn!==i&&(c.data=r.createFrame(c.data),d=c.data["partial-block"]=c.fn,d.partials&&(c.partials=o.extend({},c.partials,d.partials))),void 0===a&&d&&(a=d),void 0===a)throw new q["default"]("The partial "+c.name+" could not be found");return a instanceof Function?a(b,c):void 0}function i(){return""}function j(a,b){return b&&"root"in b||(b=b?r.createFrame(b):{},b.root=a),b}function k(a,b,c,d,e,f){if(a.decorator){var g={};b=a.decorator(b,g,c,d&&d[0],e,f,d),o.extend(b,g)}return b}var l=c(3)["default"],m=c(1)["default"];b.__esModule=!0,b.checkRevision=d,b.template=e,b.wrapProgram=f,b.resolvePartial=g,b.invokePartial=h,b.noop=i;var n=c(5),o=l(n),p=c(6),q=m(p),r=c(4)},function(a,b){(function(c){"use strict";b.__esModule=!0,b["default"]=function(a){var b="undefined"!=typeof c?c:window,d=b.Handlebars;a.noConflict=function(){return b.Handlebars===a&&(b.Handlebars=d),a}},a.exports=b["default"]}).call(b,function(){return this}())},function(a,b){"use strict";b.__esModule=!0;var c={helpers:{helperExpression:function(a){return"SubExpression"===a.type||("MustacheStatement"===a.type||"BlockStatement"===a.type)&&!!(a.params&&a.params.length||a.hash)},scopedId:function(a){return/^\.|this\b/.test(a.original)},simpleId:function(a){return 1===a.parts.length&&!c.helpers.scopedId(a)&&!a.depth}}};b["default"]=c,a.exports=b["default"]},function(a,b,c){"use strict";function d(a,b){if("Program"===a.type)return a;h["default"].yy=n,n.locInfo=function(a){return new n.SourceLocation(b&&b.srcName,a)};var c=new j["default"](b);return c.accept(h["default"].parse(a))}var e=c(1)["default"],f=c(3)["default"];b.__esModule=!0,b.parse=d;var g=c(23),h=e(g),i=c(24),j=e(i),k=c(26),l=f(k),m=c(5);b.parser=h["default"];var n={};m.extend(n,l)},function(a,b){"use strict";var c=function(){function a(){this.yy={}}var b={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(a,b,c,d,e,f,g){var h=f.length-1;switch(e){case 1:return f[h-1];case 2:this.$=d.prepareProgram(f[h]);break;case 3:this.$=f[h];break;case 4:this.$=f[h];break;case 5:this.$=f[h];break;case 6:this.$=f[h];break;case 7:this.$=f[h];break;case 8:this.$=f[h];break;case 9:this.$={type:"CommentStatement",value:d.stripComment(f[h]),strip:d.stripFlags(f[h],f[h]),loc:d.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:f[h],value:f[h],loc:d.locInfo(this._$)};break;case 11:this.$=d.prepareRawBlock(f[h-2],f[h-1],f[h],this._$);break;case 12:this.$={path:f[h-3],params:f[h-2],hash:f[h-1]};break;case 13:this.$=d.prepareBlock(f[h-3],f[h-2],f[h-1],f[h],!1,this._$);break;case 14:this.$=d.prepareBlock(f[h-3],f[h-2],f[h-1],f[h],!0,this._$);break;case 15:this.$={open:f[h-5],path:f[h-4],params:f[h-3],hash:f[h-2],blockParams:f[h-1],strip:d.stripFlags(f[h-5],f[h])};break;case 16:this.$={path:f[h-4],params:f[h-3],hash:f[h-2],blockParams:f[h-1],strip:d.stripFlags(f[h-5],f[h])};break;case 17:this.$={path:f[h-4],params:f[h-3],hash:f[h-2],blockParams:f[h-1],strip:d.stripFlags(f[h-5],f[h])};break;case 18:this.$={strip:d.stripFlags(f[h-1],f[h-1]),program:f[h]};break;case 19:var i=d.prepareBlock(f[h-2],f[h-1],f[h],f[h],!1,this._$),j=d.prepareProgram([i],f[h-1].loc);j.chained=!0,this.$={strip:f[h-2].strip,program:j,chain:!0};break;case 20:this.$=f[h];break;case 21:this.$={path:f[h-1],strip:d.stripFlags(f[h-2],f[h])};break;case 22:this.$=d.prepareMustache(f[h-3],f[h-2],f[h-1],f[h-4],d.stripFlags(f[h-4],f[h]),this._$);break;case 23:this.$=d.prepareMustache(f[h-3],f[h-2],f[h-1],f[h-4],d.stripFlags(f[h-4],f[h]),this._$);break;case 24:this.$={type:"PartialStatement",name:f[h-3],params:f[h-2],hash:f[h-1],indent:"",strip:d.stripFlags(f[h-4],f[h]),loc:d.locInfo(this._$)};break;case 25:this.$=d.preparePartialBlock(f[h-2],f[h-1],f[h],this._$);break;case 26:this.$={path:f[h-3],params:f[h-2],hash:f[h-1],strip:d.stripFlags(f[h-4],f[h])};break;case 27:this.$=f[h];break;case 28:this.$=f[h];break;case 29:this.$={type:"SubExpression",path:f[h-3],params:f[h-2],hash:f[h-1],loc:d.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:f[h],loc:d.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:d.id(f[h-2]),value:f[h],loc:d.locInfo(this._$)};break;case 32:this.$=d.id(f[h-1]);break;case 33:this.$=f[h];break;case 34:this.$=f[h];break;case 35:this.$={type:"StringLiteral",value:f[h],original:f[h],loc:d.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(f[h]),original:Number(f[h]),loc:d.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===f[h],original:"true"===f[h],loc:d.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:d.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:d.locInfo(this._$)};break;case 40:this.$=f[h];break;case 41:this.$=f[h];break;case 42:this.$=d.preparePath(!0,f[h],this._$);break;case 43:this.$=d.preparePath(!1,f[h],this._$);break;case 44:f[h-2].push({part:d.id(f[h]),original:f[h],separator:f[h-1]}),this.$=f[h-2];break;case 45:this.$=[{part:d.id(f[h]),original:f[h]}];break;case 46:this.$=[];break;case 47:f[h-1].push(f[h]);break;case 48:this.$=[f[h]];break;case 49:f[h-1].push(f[h]);break;case 50:this.$=[];break;case 51:f[h-1].push(f[h]);break;case 58:this.$=[];break;case 59:f[h-1].push(f[h]);break;case 64:this.$=[];break;case 65:f[h-1].push(f[h]);break;case 70:this.$=[];break;case 71:f[h-1].push(f[h]);break;case 78:this.$=[];break;case 79:f[h-1].push(f[h]);break;case 82:this.$=[];break;case 83:f[h-1].push(f[h]);break;case 86:this.$=[];break;case 87:f[h-1].push(f[h]);break;case 90:this.$=[];break;case 91:f[h-1].push(f[h]);break;case 94:this.$=[];break;case 95:f[h-1].push(f[h]);break;case 98:this.$=[f[h]];break;case 99:f[h-1].push(f[h]);break;case 100:this.$=[f[h]];break;case 101:f[h-1].push(f[h])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],
48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function(a,b){throw new Error(a)},parse:function(a){function b(){var a;return a=c.lexer.lex()||1,"number"!=typeof a&&(a=c.symbols_[a]||a),a}var c=this,d=[0],e=[null],f=[],g=this.table,h="",i=0,j=0,k=0;this.lexer.setInput(a),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var l=this.lexer.yylloc;f.push(l);var m=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var n,o,p,q,r,s,t,u,v,w={};;){if(p=d[d.length-1],this.defaultActions[p]?q=this.defaultActions[p]:((null===n||"undefined"==typeof n)&&(n=b()),q=g[p]&&g[p][n]),"undefined"==typeof q||!q.length||!q[0]){var x="";if(!k){v=[];for(s in g[p])this.terminals_[s]&&s>2&&v.push("'"+this.terminals_[s]+"'");x=this.lexer.showPosition?"Parse error on line "+(i+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+v.join(", ")+", got '"+(this.terminals_[n]||n)+"'":"Parse error on line "+(i+1)+": Unexpected "+(1==n?"end of input":"'"+(this.terminals_[n]||n)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[n]||n,line:this.lexer.yylineno,loc:l,expected:v})}}if(q[0]instanceof Array&&q.length>1)throw new Error("Parse Error: multiple actions possible at state: "+p+", token: "+n);switch(q[0]){case 1:d.push(n),e.push(this.lexer.yytext),f.push(this.lexer.yylloc),d.push(q[1]),n=null,o?(n=o,o=null):(j=this.lexer.yyleng,h=this.lexer.yytext,i=this.lexer.yylineno,l=this.lexer.yylloc,k>0&&k--);break;case 2:if(t=this.productions_[q[1]][1],w.$=e[e.length-t],w._$={first_line:f[f.length-(t||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(t||1)].first_column,last_column:f[f.length-1].last_column},m&&(w._$.range=[f[f.length-(t||1)].range[0],f[f.length-1].range[1]]),r=this.performAction.call(w,h,j,i,this.yy,q[1],e,f),"undefined"!=typeof r)return r;t&&(d=d.slice(0,-1*t*2),e=e.slice(0,-1*t),f=f.slice(0,-1*t)),d.push(this.productions_[q[1]][0]),e.push(w.$),f.push(w._$),u=g[d[d.length-2]][d[d.length-1]],d.push(u);break;case 3:return!0}}return!0}},c=function(){var a={EOF:1,parseError:function(a,b){if(!this.yy.parser)throw new Error(a);this.yy.parser.parseError(a,b)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a;var b=a.match(/(?:\r\n?|\n).*/g);return b?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b-1),this.offset-=b;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this},more:function(){return this._more=!0,this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=new Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c,d,e;this._more||(this.yytext="",this.match="");for(var f=this._currentRules(),g=0;g<f.length&&(c=this._input.match(this.rules[f[g]]),!c||b&&!(c[0].length>b[0].length)||(b=c,d=g,this.options.flex));g++);return b?(e=b[0].match(/(?:\r\n?|\n).*/g),e&&(this.yylineno+=e.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-e[e.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],a=this.performAction.call(this,this.yy,this,f[d],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),a?a:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return"undefined"!=typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}};return a.options={},a.performAction=function(a,b,c,d){function e(a,c){return b.yytext=b.yytext.substr(a,b.yyleng-c)}switch(c){case 0:if("\\\\"===b.yytext.slice(-2)?(e(0,1),this.begin("mu")):"\\"===b.yytext.slice(-1)?(e(0,1),this.begin("emu")):this.begin("mu"),b.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(b.yytext=b.yytext.substr(5,b.yyleng-9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(b.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return b.yytext=e(1,2).replace(/\\"/g,'"'),80;case 32:return b.yytext=e(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return b.yytext=b.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},a.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],a.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},a}();return b.lexer=c,a.prototype=b,b.Parser=a,new a}();b.__esModule=!0,b["default"]=c},function(a,b,c){"use strict";function d(){var a=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=a}function e(a,b,c){void 0===b&&(b=a.length);var d=a[b-1],e=a[b-2];return d?"ContentStatement"===d.type?(e||!c?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(d.original):void 0:c}function f(a,b,c){void 0===b&&(b=-1);var d=a[b+1],e=a[b+2];return d?"ContentStatement"===d.type?(e||!c?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(d.original):void 0:c}function g(a,b,c){var d=a[null==b?0:b+1];if(d&&"ContentStatement"===d.type&&(c||!d.rightStripped)){var e=d.value;d.value=d.value.replace(c?/^\s+/:/^[ \t]*\r?\n?/,""),d.rightStripped=d.value!==e}}function h(a,b,c){var d=a[null==b?a.length-1:b-1];if(d&&"ContentStatement"===d.type&&(c||!d.leftStripped)){var e=d.value;return d.value=d.value.replace(c?/\s+$/:/[ \t]+$/,""),d.leftStripped=d.value!==e,d.leftStripped}}var i=c(1)["default"];b.__esModule=!0;var j=c(25),k=i(j);d.prototype=new k["default"],d.prototype.Program=function(a){var b=!this.options.ignoreStandalone,c=!this.isRootSeen;this.isRootSeen=!0;for(var d=a.body,i=0,j=d.length;j>i;i++){var k=d[i],l=this.accept(k);if(l){var m=e(d,i,c),n=f(d,i,c),o=l.openStandalone&&m,p=l.closeStandalone&&n,q=l.inlineStandalone&&m&&n;l.close&&g(d,i,!0),l.open&&h(d,i,!0),b&&q&&(g(d,i),h(d,i)&&"PartialStatement"===k.type&&(k.indent=/([ \t]+$)/.exec(d[i-1].original)[1])),b&&o&&(g((k.program||k.inverse).body),h(d,i)),b&&p&&(g(d,i),h((k.inverse||k.program).body))}}return a},d.prototype.BlockStatement=d.prototype.DecoratorBlock=d.prototype.PartialBlockStatement=function(a){this.accept(a.program),this.accept(a.inverse);var b=a.program||a.inverse,c=a.program&&a.inverse,d=c,i=c;if(c&&c.chained)for(d=c.body[0].program;i.chained;)i=i.body[i.body.length-1].program;var j={open:a.openStrip.open,close:a.closeStrip.close,openStandalone:f(b.body),closeStandalone:e((d||b).body)};if(a.openStrip.close&&g(b.body,null,!0),c){var k=a.inverseStrip;k.open&&h(b.body,null,!0),k.close&&g(d.body,null,!0),a.closeStrip.open&&h(i.body,null,!0),!this.options.ignoreStandalone&&e(b.body)&&f(d.body)&&(h(b.body),g(d.body))}else a.closeStrip.open&&h(b.body,null,!0);return j},d.prototype.Decorator=d.prototype.MustacheStatement=function(a){return a.strip},d.prototype.PartialStatement=d.prototype.CommentStatement=function(a){var b=a.strip||{};return{inlineStandalone:!0,open:b.open,close:b.close}},b["default"]=d,a.exports=b["default"]},function(a,b,c){"use strict";function d(){this.parents=[]}function e(a){this.acceptRequired(a,"path"),this.acceptArray(a.params),this.acceptKey(a,"hash")}function f(a){e.call(this,a),this.acceptKey(a,"program"),this.acceptKey(a,"inverse")}function g(a){this.acceptRequired(a,"name"),this.acceptArray(a.params),this.acceptKey(a,"hash")}var h=c(1)["default"];b.__esModule=!0;var i=c(6),j=h(i);d.prototype={constructor:d,mutating:!1,acceptKey:function(a,b){var c=this.accept(a[b]);if(this.mutating){if(c&&!d.prototype[c.type])throw new j["default"]('Unexpected node type "'+c.type+'" found when accepting '+b+" on "+a.type);a[b]=c}},acceptRequired:function(a,b){if(this.acceptKey(a,b),!a[b])throw new j["default"](a.type+" requires "+b)},acceptArray:function(a){for(var b=0,c=a.length;c>b;b++)this.acceptKey(a,b),a[b]||(a.splice(b,1),b--,c--)},accept:function(a){if(a){if(!this[a.type])throw new j["default"]("Unknown type: "+a.type,a);this.current&&this.parents.unshift(this.current),this.current=a;var b=this[a.type](a);return this.current=this.parents.shift(),!this.mutating||b?b:b!==!1?a:void 0}},Program:function(a){this.acceptArray(a.body)},MustacheStatement:e,Decorator:e,BlockStatement:f,DecoratorBlock:f,PartialStatement:g,PartialBlockStatement:function(a){g.call(this,a),this.acceptKey(a,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:e,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(a){this.acceptArray(a.pairs)},HashPair:function(a){this.acceptRequired(a,"value")}},b["default"]=d,a.exports=b["default"]},function(a,b,c){"use strict";function d(a,b){if(b=b.path?b.path.original:b,a.path.original!==b){var c={loc:a.path.loc};throw new q["default"](a.path.original+" doesn't match "+b,c)}}function e(a,b){this.source=a,this.start={line:b.first_line,column:b.first_column},this.end={line:b.last_line,column:b.last_column}}function f(a){return/^\[.*\]$/.test(a)?a.substr(1,a.length-2):a}function g(a,b){return{open:"~"===a.charAt(2),close:"~"===b.charAt(b.length-3)}}function h(a){return a.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function i(a,b,c){c=this.locInfo(c);for(var d=a?"@":"",e=[],f=0,g="",h=0,i=b.length;i>h;h++){var j=b[h].part,k=b[h].original!==j;if(d+=(b[h].separator||"")+j,k||".."!==j&&"."!==j&&"this"!==j)e.push(j);else{if(e.length>0)throw new q["default"]("Invalid path: "+d,{loc:c});".."===j&&(f++,g+="../")}}return{type:"PathExpression",data:a,depth:f,parts:e,original:d,loc:c}}function j(a,b,c,d,e,f){var g=d.charAt(3)||d.charAt(2),h="{"!==g&&"&"!==g,i=/\*/.test(d);return{type:i?"Decorator":"MustacheStatement",path:a,params:b,hash:c,escaped:h,strip:e,loc:this.locInfo(f)}}function k(a,b,c,e){d(a,c),e=this.locInfo(e);var f={type:"Program",body:b,strip:{},loc:e};return{type:"BlockStatement",path:a.path,params:a.params,hash:a.hash,program:f,openStrip:{},inverseStrip:{},closeStrip:{},loc:e}}function l(a,b,c,e,f,g){e&&e.path&&d(a,e);var h=/\*/.test(a.open);b.blockParams=a.blockParams;var i=void 0,j=void 0;if(c){if(h)throw new q["default"]("Unexpected inverse block on decorator",c);c.chain&&(c.program.body[0].closeStrip=e.strip),j=c.strip,i=c.program}return f&&(f=i,i=b,b=f),{type:h?"DecoratorBlock":"BlockStatement",path:a.path,params:a.params,hash:a.hash,program:b,inverse:i,openStrip:a.strip,inverseStrip:j,closeStrip:e&&e.strip,loc:this.locInfo(g)}}function m(a,b){if(!b&&a.length){var c=a[0].loc,d=a[a.length-1].loc;c&&d&&(b={source:c.source,start:{line:c.start.line,column:c.start.column},end:{line:d.end.line,column:d.end.column}})}return{type:"Program",body:a,strip:{},loc:b}}function n(a,b,c,e){return d(a,c),{type:"PartialBlockStatement",name:a.path,params:a.params,hash:a.hash,program:b,openStrip:a.strip,closeStrip:c&&c.strip,loc:this.locInfo(e)}}var o=c(1)["default"];b.__esModule=!0,b.SourceLocation=e,b.id=f,b.stripFlags=g,b.stripComment=h,b.preparePath=i,b.prepareMustache=j,b.prepareRawBlock=k,b.prepareBlock=l,b.prepareProgram=m,b.preparePartialBlock=n;var p=c(6),q=o(p)},function(a,b,c){"use strict";function d(){}function e(a,b,c){if(null==a||"string"!=typeof a&&"Program"!==a.type)throw new k["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+a);b=b||{},"data"in b||(b.data=!0),b.compat&&(b.useDepths=!0);var d=c.parse(a,b),e=(new c.Compiler).compile(d,b);return(new c.JavaScriptCompiler).compile(e,b)}function f(a,b,c){function d(){var d=c.parse(a,b),e=(new c.Compiler).compile(d,b),f=(new c.JavaScriptCompiler).compile(e,b,void 0,!0);return c.template(f)}function e(a,b){return f||(f=d()),f.call(this,a,b)}if(void 0===b&&(b={}),null==a||"string"!=typeof a&&"Program"!==a.type)throw new k["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+a);"data"in b||(b.data=!0),b.compat&&(b.useDepths=!0);var f=void 0;return e._setup=function(a){return f||(f=d()),f._setup(a)},e._child=function(a,b,c,e){return f||(f=d()),f._child(a,b,c,e)},e}function g(a,b){if(a===b)return!0;if(l.isArray(a)&&l.isArray(b)&&a.length===b.length){for(var c=0;c<a.length;c++)if(!g(a[c],b[c]))return!1;return!0}}function h(a){if(!a.path.parts){var b=a.path;a.path={type:"PathExpression",data:!1,depth:0,parts:[b.original+""],original:b.original+"",loc:b.loc}}}var i=c(1)["default"];b.__esModule=!0,b.Compiler=d,b.precompile=e,b.compile=f;var j=c(6),k=i(j),l=c(5),m=c(21),n=i(m),o=[].slice;d.prototype={compiler:d,equals:function(a){var b=this.opcodes.length;if(a.opcodes.length!==b)return!1;for(var c=0;b>c;c++){var d=this.opcodes[c],e=a.opcodes[c];if(d.opcode!==e.opcode||!g(d.args,e.args))return!1}b=this.children.length;for(var c=0;b>c;c++)if(!this.children[c].equals(a.children[c]))return!1;return!0},guid:0,compile:function(a,b){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=b,this.stringParams=b.stringParams,this.trackIds=b.trackIds,b.blockParams=b.blockParams||[];var c=b.knownHelpers;if(b.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0,lookup:!0},c)for(var d in c)d in c&&(b.knownHelpers[d]=c[d]);return this.accept(a)},compileProgram:function(a){var b=new this.compiler,c=b.compile(a,this.options),d=this.guid++;return this.usePartial=this.usePartial||c.usePartial,this.children[d]=c,this.useDepths=this.useDepths||c.useDepths,d},accept:function(a){if(!this[a.type])throw new k["default"]("Unknown type: "+a.type,a);this.sourceNode.unshift(a);var b=this[a.type](a);return this.sourceNode.shift(),b},Program:function(a){this.options.blockParams.unshift(a.blockParams);for(var b=a.body,c=b.length,d=0;c>d;d++)this.accept(b[d]);return this.options.blockParams.shift(),this.isSimple=1===c,this.blockParams=a.blockParams?a.blockParams.length:0,this},BlockStatement:function(a){h(a);var b=a.program,c=a.inverse;b=b&&this.compileProgram(b),c=c&&this.compileProgram(c);var d=this.classifySexpr(a);"helper"===d?this.helperSexpr(a,b,c):"simple"===d?(this.simpleSexpr(a),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("emptyHash"),this.opcode("blockValue",a.path.original)):(this.ambiguousSexpr(a,b,c),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(a){var b=a.program&&this.compileProgram(a.program),c=this.setupFullMustacheParams(a,b,void 0),d=a.path;this.useDecorators=!0,this.opcode("registerDecorator",c.length,d.original)},PartialStatement:function(a){this.usePartial=!0;var b=a.program;b&&(b=this.compileProgram(a.program));var c=a.params;if(c.length>1)throw new k["default"]("Unsupported number of partial arguments: "+c.length,a);c.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):c.push({type:"PathExpression",parts:[],depth:0}));var d=a.name.original,e="SubExpression"===a.name.type;e&&this.accept(a.name),this.setupFullMustacheParams(a,b,void 0,!0);var f=a.indent||"";this.options.preventIndent&&f&&(this.opcode("appendContent",f),f=""),this.opcode("invokePartial",e,d,f),this.opcode("append")},PartialBlockStatement:function(a){this.PartialStatement(a)},MustacheStatement:function(a){this.SubExpression(a),a.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(a){this.DecoratorBlock(a)},ContentStatement:function(a){a.value&&this.opcode("appendContent",a.value)},CommentStatement:function(){},SubExpression:function(a){h(a);var b=this.classifySexpr(a);"simple"===b?this.simpleSexpr(a):"helper"===b?this.helperSexpr(a):this.ambiguousSexpr(a)},ambiguousSexpr:function(a,b,c){var d=a.path,e=d.parts[0],f=null!=b||null!=c;this.opcode("getContext",d.depth),this.opcode("pushProgram",b),this.opcode("pushProgram",c),d.strict=!0,this.accept(d),this.opcode("invokeAmbiguous",e,f)},simpleSexpr:function(a){var b=a.path;b.strict=!0,this.accept(b),this.opcode("resolvePossibleLambda")},helperSexpr:function(a,b,c){var d=this.setupFullMustacheParams(a,b,c),e=a.path,f=e.parts[0];if(this.options.knownHelpers[f])this.opcode("invokeKnownHelper",d.length,f);else{if(this.options.knownHelpersOnly)throw new k["default"]("You specified knownHelpersOnly, but used the unknown helper "+f,a);e.strict=!0,e.falsy=!0,this.accept(e),this.opcode("invokeHelper",d.length,e.original,n["default"].helpers.simpleId(e))}},PathExpression:function(a){this.addDepth(a.depth),this.opcode("getContext",a.depth);var b=a.parts[0],c=n["default"].helpers.scopedId(a),d=!a.depth&&!c&&this.blockParamIndex(b);d?this.opcode("lookupBlockParam",d,a.parts):b?a.data?(this.options.data=!0,this.opcode("lookupData",a.depth,a.parts,a.strict)):this.opcode("lookupOnContext",a.parts,a.falsy,a.strict,c):this.opcode("pushContext")},StringLiteral:function(a){this.opcode("pushString",a.value)},NumberLiteral:function(a){this.opcode("pushLiteral",a.value)},BooleanLiteral:function(a){this.opcode("pushLiteral",a.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(a){var b=a.pairs,c=0,d=b.length;for(this.opcode("pushHash");d>c;c++)this.pushParam(b[c].value);for(;c--;)this.opcode("assignToHash",b[c].key);this.opcode("popHash")},opcode:function(a){this.opcodes.push({opcode:a,args:o.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(a){a&&(this.useDepths=!0)},classifySexpr:function(a){var b=n["default"].helpers.simpleId(a.path),c=b&&!!this.blockParamIndex(a.path.parts[0]),d=!c&&n["default"].helpers.helperExpression(a),e=!c&&(d||b);if(e&&!d){var f=a.path.parts[0],g=this.options;g.knownHelpers[f]?d=!0:g.knownHelpersOnly&&(e=!1)}return d?"helper":e?"ambiguous":"simple"},pushParams:function(a){for(var b=0,c=a.length;c>b;b++)this.pushParam(a[b])},pushParam:function(a){var b=null!=a.value?a.value:a.original||"";if(this.stringParams)b.replace&&(b=b.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),a.depth&&this.addDepth(a.depth),this.opcode("getContext",a.depth||0),this.opcode("pushStringParam",b,a.type),"SubExpression"===a.type&&this.accept(a);else{if(this.trackIds){var c=void 0;if(!a.parts||n["default"].helpers.scopedId(a)||a.depth||(c=this.blockParamIndex(a.parts[0])),c){var d=a.parts.slice(1).join(".");this.opcode("pushId","BlockParam",c,d)}else b=a.original||b,b.replace&&(b=b.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",a.type,b)}this.accept(a)}},setupFullMustacheParams:function(a,b,c,d){var e=a.params;return this.pushParams(e),this.opcode("pushProgram",b),this.opcode("pushProgram",c),a.hash?this.accept(a.hash):this.opcode("emptyHash",d),e},blockParamIndex:function(a){for(var b=0,c=this.options.blockParams.length;c>b;b++){var d=this.options.blockParams[b],e=d&&l.indexOf(d,a);if(d&&e>=0)return[b,e]}}}},function(a,b,c){"use strict";function d(a){this.value=a}function e(){}function f(a,b,c,d){var e=b.popStack(),f=0,g=c.length;for(a&&g--;g>f;f++)e=b.nameLookup(e,c[f],d);return a?[b.aliasable("container.strict"),"(",e,", ",b.quotedString(c[f]),")"]:e}var g=c(1)["default"];b.__esModule=!0;var h=c(4),i=c(6),j=g(i),k=c(5),l=c(29),m=g(l);e.prototype={nameLookup:function(a,b){return e.isValidJavaScriptVariableName(b)?[a,".",b]:[a,"[",JSON.stringify(b),"]"]},depthedLookup:function(a){return[this.aliasable("container.lookup"),'(depths, "',a,'")']},compilerInfo:function(){var a=h.COMPILER_REVISION,b=h.REVISION_CHANGES[a];return[a,b]},appendToBuffer:function(a,b,c){return k.isArray(a)||(a=[a]),a=this.source.wrap(a,b),this.environment.isSimple?["return ",a,";"]:c?["buffer += ",a,";"]:(a.appendToBuffer=!0,a)},initializeBuffer:function(){return this.quotedString("")},compile:function(a,b,c,d){this.environment=a,this.options=b,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!d,this.name=this.environment.name,this.isChild=!!c,this.context=c||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(a,b),this.useDepths=this.useDepths||a.useDepths||a.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||a.useBlockParams;var e=a.opcodes,f=void 0,g=void 0,h=void 0,i=void 0;for(h=0,i=e.length;i>h;h++)f=e[h],this.source.currentLocation=f.loc,g=g||f.loc,this[f.opcode].apply(this,f.args);if(this.source.currentLocation=g,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new j["default"]("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend("var decorators = container.decorators;\n"),this.decorators.push("return fn;"),d?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var k=this.createFunctionContext(d);if(this.isChild)return k;var l={compiler:this.compilerInfo(),main:k};this.decorators&&(l.main_d=this.decorators,l.useDecorators=!0);var m=this.context,n=m.programs,o=m.decorators;for(h=0,i=n.length;i>h;h++)n[h]&&(l[h]=n[h],o[h]&&(l[h+"_d"]=o[h],l.useDecorators=!0));return this.environment.usePartial&&(l.usePartial=!0),this.options.data&&(l.useData=!0),this.useDepths&&(l.useDepths=!0),this.useBlockParams&&(l.useBlockParams=!0),this.options.compat&&(l.compat=!0),d?l.compilerOptions=this.options:(l.compiler=JSON.stringify(l.compiler),this.source.currentLocation={start:{line:1,column:0}},l=this.objectLiteral(l),b.srcName?(l=l.toStringWithSourceMap({file:b.destName}),l.map=l.map&&l.map.toString()):l=l.toString()),l},preamble:function(){this.lastContext=0,this.source=new m["default"](this.options.srcName),this.decorators=new m["default"](this.options.srcName)},createFunctionContext:function(a){var b="",c=this.stackVars.concat(this.registers.list);c.length>0&&(b+=", "+c.join(", "));var d=0;for(var e in this.aliases){var f=this.aliases[e];this.aliases.hasOwnProperty(e)&&f.children&&f.referenceCount>1&&(b+=", alias"+ ++d+"="+e,f.children[0]="alias"+d)}var g=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&g.push("blockParams"),this.useDepths&&g.push("depths");var h=this.mergeSource(b);return a?(g.push(h),Function.apply(this,g)):this.source.wrap(["function(",g.join(","),") {\n  ",h,"}"])},mergeSource:function(a){var b=this.environment.isSimple,c=!this.forceBuffer,d=void 0,e=void 0,f=void 0,g=void 0;return this.source.each(function(a){a.appendToBuffer?(f?a.prepend("  + "):f=a,g=a):(f&&(e?f.prepend("buffer += "):d=!0,g.add(";"),f=g=void 0),e=!0,b||(c=!1))}),c?f?(f.prepend("return "),g.add(";")):e||this.source.push('return "";'):(a+=", buffer = "+(d?"":this.initializeBuffer()),f?(f.prepend("return buffer + "),g.add(";")):this.source.push("return buffer;")),a&&this.source.prepend("var "+a.substring(2)+(d?"":";\n")),this.source.merge()},blockValue:function(a){var b=this.aliasable("helpers.blockHelperMissing"),c=[this.contextName(0)];this.setupHelperArgs(a,0,c);var d=this.popStack();c.splice(1,0,d),this.push(this.source.functionCall(b,"call",c))},ambiguousBlockValue:function(){var a=this.aliasable("helpers.blockHelperMissing"),b=[this.contextName(0)];this.setupHelperArgs("",0,b,!0),this.flushInline();var c=this.topStack();b.splice(1,0,c),this.pushSource(["if (!",this.lastHelper,") { ",c," = ",this.source.functionCall(a,"call",b),"}"])},appendContent:function(a){this.pendingContent?a=this.pendingContent+a:this.pendingLocation=this.source.currentLocation,this.pendingContent=a},append:function(){if(this.isInline())this.replaceStack(function(a){return[" != null ? ",a,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var a=this.popStack();this.pushSource(["if (",a," != null) { ",this.appendToBuffer(a,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(a){this.lastContext=a},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(a,b,c,d){var e=0;d||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(a[e++])),this.resolvePath("context",a,e,b,c)},lookupBlockParam:function(a,b){this.useBlockParams=!0,this.push(["blockParams[",a[0],"][",a[1],"]"]),this.resolvePath("context",b,1)},lookupData:function(a,b,c){a?this.pushStackLiteral("container.data(data, "+a+")"):this.pushStackLiteral("data"),this.resolvePath("data",b,0,!0,c)},resolvePath:function(a,b,c,d,e){var g=this;if(this.options.strict||this.options.assumeObjects)return void this.push(f(this.options.strict&&e,this,b,a));for(var h=b.length;h>c;c++)this.replaceStack(function(e){var f=g.nameLookup(e,b[c],a);return d?[" && ",f]:[" != null ? ",f," : ",e]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(a,b){this.pushContext(),this.pushString(b),"SubExpression"!==b&&("string"==typeof a?this.pushString(a):this.pushStackLiteral(a))},emptyHash:function(a){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(a?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var a=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(a.ids)),this.stringParams&&(this.push(this.objectLiteral(a.contexts)),this.push(this.objectLiteral(a.types))),this.push(this.objectLiteral(a.values))},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},pushLiteral:function(a){this.pushStackLiteral(a)},pushProgram:function(a){null!=a?this.pushStackLiteral(this.programExpression(a)):this.pushStackLiteral(null)},registerDecorator:function(a,b){var c=this.nameLookup("decorators",b,"decorator"),d=this.setupHelperArgs(b,a);this.decorators.push(["fn = ",this.decorators.functionCall(c,"",["fn","props","container",d])," || fn;"])},invokeHelper:function(a,b,c){var d=this.popStack(),e=this.setupHelper(a,b),f=c?[e.name," || "]:"",g=["("].concat(f,d);this.options.strict||g.push(" || ",this.aliasable("helpers.helperMissing")),g.push(")"),this.push(this.source.functionCall(g,"call",e.callParams))},invokeKnownHelper:function(a,b){var c=this.setupHelper(a,b);this.push(this.source.functionCall(c.name,"call",c.callParams))},invokeAmbiguous:function(a,b){this.useRegister("helper");var c=this.popStack();this.emptyHash();var d=this.setupHelper(0,a,b),e=this.lastHelper=this.nameLookup("helpers",a,"helper"),f=["(","(helper = ",e," || ",c,")"];this.options.strict||(f[0]="(helper = ",f.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",f,d.paramsInit?["),(",d.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",d.callParams)," : helper))"])},invokePartial:function(a,b,c){var d=[],e=this.setupParams(b,1,d);a&&(b=this.popStack(),delete e.name),c&&(e.indent=JSON.stringify(c)),e.helpers="helpers",e.partials="partials",e.decorators="container.decorators",a?d.unshift(b):d.unshift(this.nameLookup("partials",b,"partial")),this.options.compat&&(e.depths="depths"),e=this.objectLiteral(e),
d.push(e),this.push(this.source.functionCall("container.invokePartial","",d))},assignToHash:function(a){var b=this.popStack(),c=void 0,d=void 0,e=void 0;this.trackIds&&(e=this.popStack()),this.stringParams&&(d=this.popStack(),c=this.popStack());var f=this.hash;c&&(f.contexts[a]=c),d&&(f.types[a]=d),e&&(f.ids[a]=e),f.values[a]=b},pushId:function(a,b,c){"BlockParam"===a?this.pushStackLiteral("blockParams["+b[0]+"].path["+b[1]+"]"+(c?" + "+JSON.stringify("."+c):"")):"PathExpression"===a?this.pushString(b):"SubExpression"===a?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:e,compileChildren:function(a,b){for(var c=a.children,d=void 0,e=void 0,f=0,g=c.length;g>f;f++){d=c[f],e=new this.compiler;var h=this.matchExistingProgram(d);null==h?(this.context.programs.push(""),h=this.context.programs.length,d.index=h,d.name="program"+h,this.context.programs[h]=e.compile(d,b,this.context,!this.precompile),this.context.decorators[h]=e.decorators,this.context.environments[h]=d,this.useDepths=this.useDepths||e.useDepths,this.useBlockParams=this.useBlockParams||e.useBlockParams):(d.index=h,d.name="program"+h,this.useDepths=this.useDepths||d.useDepths,this.useBlockParams=this.useBlockParams||d.useBlockParams)}},matchExistingProgram:function(a){for(var b=0,c=this.context.environments.length;c>b;b++){var d=this.context.environments[b];if(d&&d.equals(a))return b}},programExpression:function(a){var b=this.environment.children[a],c=[b.index,"data",b.blockParams];return(this.useBlockParams||this.useDepths)&&c.push("blockParams"),this.useDepths&&c.push("depths"),"container.program("+c.join(", ")+")"},useRegister:function(a){this.registers[a]||(this.registers[a]=!0,this.registers.list.push(a))},push:function(a){return a instanceof d||(a=this.source.wrap(a)),this.inlineStack.push(a),a},pushStackLiteral:function(a){this.push(new d(a))},pushSource:function(a){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),a&&this.source.push(a)},replaceStack:function(a){var b=["("],c=void 0,e=void 0,f=void 0;if(!this.isInline())throw new j["default"]("replaceStack on non-inline");var g=this.popStack(!0);if(g instanceof d)c=[g.value],b=["(",c],f=!0;else{e=!0;var h=this.incrStack();b=["((",this.push(h)," = ",g,")"],c=this.topStack()}var i=a.call(this,c);f||this.popStack(),e&&this.stackSlot--,this.push(b.concat(i,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var a=this.inlineStack;this.inlineStack=[];for(var b=0,c=a.length;c>b;b++){var e=a[b];if(e instanceof d)this.compileStack.push(e);else{var f=this.incrStack();this.pushSource([f," = ",e,";"]),this.compileStack.push(f)}}},isInline:function(){return this.inlineStack.length},popStack:function(a){var b=this.isInline(),c=(b?this.inlineStack:this.compileStack).pop();if(!a&&c instanceof d)return c.value;if(!b){if(!this.stackSlot)throw new j["default"]("Invalid stack pop");this.stackSlot--}return c},topStack:function(){var a=this.isInline()?this.inlineStack:this.compileStack,b=a[a.length-1];return b instanceof d?b.value:b},contextName:function(a){return this.useDepths&&a?"depths["+a+"]":"depth"+a},quotedString:function(a){return this.source.quotedString(a)},objectLiteral:function(a){return this.source.objectLiteral(a)},aliasable:function(a){var b=this.aliases[a];return b?(b.referenceCount++,b):(b=this.aliases[a]=this.source.wrap(a),b.aliasable=!0,b.referenceCount=1,b)},setupHelper:function(a,b,c){var d=[],e=this.setupHelperArgs(b,a,d,c),f=this.nameLookup("helpers",b,"helper"),g=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : {}");return{params:d,paramsInit:e,name:f,callParams:[g].concat(d)}},setupParams:function(a,b,c){var d={},e=[],f=[],g=[],h=!c,i=void 0;h&&(c=[]),d.name=this.quotedString(a),d.hash=this.popStack(),this.trackIds&&(d.hashIds=this.popStack()),this.stringParams&&(d.hashTypes=this.popStack(),d.hashContexts=this.popStack());var j=this.popStack(),k=this.popStack();(k||j)&&(d.fn=k||"container.noop",d.inverse=j||"container.noop");for(var l=b;l--;)i=this.popStack(),c[l]=i,this.trackIds&&(g[l]=this.popStack()),this.stringParams&&(f[l]=this.popStack(),e[l]=this.popStack());return h&&(d.args=this.source.generateArray(c)),this.trackIds&&(d.ids=this.source.generateArray(g)),this.stringParams&&(d.types=this.source.generateArray(f),d.contexts=this.source.generateArray(e)),this.options.data&&(d.data="data"),this.useBlockParams&&(d.blockParams="blockParams"),d},setupHelperArgs:function(a,b,c,d){var e=this.setupParams(a,b,c);return e=this.objectLiteral(e),d?(this.useRegister("options"),c.push("options"),["options=",e]):c?(c.push(e),""):e}},function(){for(var a="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),b=e.RESERVED_WORDS={},c=0,d=a.length;d>c;c++)b[a[c]]=!0}(),e.isValidJavaScriptVariableName=function(a){return!e.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(a)},b["default"]=e,a.exports=b["default"]},function(a,b,c){"use strict";function d(a,b,c){if(f.isArray(a)){for(var d=[],e=0,g=a.length;g>e;e++)d.push(b.wrap(a[e],c));return d}return"boolean"==typeof a||"number"==typeof a?a+"":a}function e(a){this.srcFile=a,this.source=[]}b.__esModule=!0;var f=c(5),g=void 0;try{}catch(h){}g||(g=function(a,b,c,d){this.src="",d&&this.add(d)},g.prototype={add:function(a){f.isArray(a)&&(a=a.join("")),this.src+=a},prepend:function(a){f.isArray(a)&&(a=a.join("")),this.src=a+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),e.prototype={isEmpty:function(){return!this.source.length},prepend:function(a,b){this.source.unshift(this.wrap(a,b))},push:function(a,b){this.source.push(this.wrap(a,b))},merge:function(){var a=this.empty();return this.each(function(b){a.add(["  ",b,"\n"])}),a},each:function(a){for(var b=0,c=this.source.length;c>b;b++)a(this.source[b])},empty:function(){var a=this.currentLocation||{start:{}};return new g(a.start.line,a.start.column,this.srcFile)},wrap:function(a){var b=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return a instanceof g?a:(a=d(a,this,b),new g(b.start.line,b.start.column,this.srcFile,a))},functionCall:function(a,b,c){return c=this.generateList(c),this.wrap([a,b?"."+b+"(":"(",c,")"])},quotedString:function(a){return'"'+(a+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(a){var b=[];for(var c in a)if(a.hasOwnProperty(c)){var e=d(a[c],this);"undefined"!==e&&b.push([this.quotedString(c),":",e])}var f=this.generateList(b);return f.prepend("{"),f.add("}"),f},generateList:function(a){for(var b=this.empty(),c=0,e=a.length;e>c;c++)c&&b.add(","),b.add(d(a[c],this));return b},generateArray:function(a){var b=this.generateList(a);return b.prepend("["),b.add("]"),b}},b["default"]=e,a.exports=b["default"]}])});
