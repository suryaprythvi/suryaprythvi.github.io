window.xfalib=window.xfalib||{ut:{},view:{util:{}}};window.xfalib.$=window.$;window.xfalib.jQuery=window.jQuery;window.xfalib._=window._;
(function(h){this.guidelib={util:{},event:{},model:{util:{},mixin:{}},view:{util:{},ad:{layout:{}}},__runtime__:{_private:{},af:{},guideContext:{}},author:{instances:{},editConfigListeners:{}},__internal__:{liveModel:{},liveXmlUtils:{},liveDataUtils:{},GuideDirtyMarkerAndVisitor:{}}};Object.defineProperty(guidelib,"runtime",{get:function(){console.warn("Access to guidelib.runtime would fail server side re-validation. Please correct your scripts.");return guidelib.__runtime__}});Object.defineProperty(guidelib,
"internal",{get:function(){console.warn("Access to guidelib.internal would fail server side re-validation. Please correct your scripts.");return guidelib.__internal__}});h.FD=h.FD||{}})(window);
(function(h,g,k,e){var d=null,b=function(){null==d&&(d=g("#loadingPage"));return d},f=k.util.GuideUtil={GUIDE_ITEM_CONTAINER_SUFFIX:"_guide-item-container",DATA_GUIDE_ITEM_CONTAINER:"data-guide-item-container",GUIDE_ITEM_NAV_CONTAINER_SUFFIX:"_guide-item-nav-container",GUIDE_ITEM_SUFFIX:"_guide-item",DATA_GUIDE_ITEM:"data-guide-item",GUIDE_ITEM_NAV_SUFFIX:"_guide-item-nav",GUIDE_NODE_ID_SUFFIX:"__",GUIDE_VIEW_BIND_ATTR:"data-guide-view-bind",GUIDE_LAYOUT_CLASS:".guideLayout",GUIDE_WIZARD_LAYOUT:"guideWizardLayout",
GUIDE_TABBED_PANEL_LAYOUT:"guideTabbedPanelLayout",GUIDE_VERTICAL_TABBED_PANEL_LAYOUT:"guideVerticalTabbedPanelLayout",DATA_LAYOUT_ITEM_INDEX:"data-layout-item-index",SCRIBBLE_RESIZE_TIME_INTERVAL:1E3,MANDATORY_TEST:"nullTest",FORMAT_TEST:"formatTest",SCRIPT_TEST:"scriptTest",MAXIMUM_VALUE_TEST:"maximumValueTest",MINIMUM_VALUE_TEST:"minimumValueTest",TOTAL_DIGITS_TEST:"totalDigitTest",MINIMUM_LENGTH_TEST:"minimumLengthTest",LENGTH_TEST:"totalLengthTest",FM_DAM_ROOT:"/content/dam/formsanddocuments/",
FM_AF_ROOT:"/content/forms/af/",GUIDE_CONTAINER_FORM_CLASS:"#guideContainerForm",GUIDE_CONTAINER_THEME_CLASS:"#guideContainerTheme",EVENT_PROPERTY_MAPPING:{Calculate:"calcExp",Visibility:"visibleExp",Initialize:"initScript",Click:"clickExp","Value Commit":"valueCommitScript",Enabled:"enabledExp",Validate:"validateExp",Completion:"completionExp",Summary:"summaryExp",Options:"optionsExp",Navigation:"navigationChangeExp"},chartType:{LINE:"line",POINT:"point",LINE_POINT:"linepoint",AREA:"area",BAR:"bar",
COLUMN:"column",PIE:"pie",DONUT:"donut"},xfaExprMap:{clickExp:"click",enabledExp:null,visibleExp:null},_globalUniqueId:(new Date).getTime(),generateUID:function(){return"GUID"+ ++this._globalUniqueId},replaceAll:function(a,c,b){return a.split(c).join(b)},getId:function(a){return"#"+a.replace(/(:|\.|\[|\])/g,"\\$1")},compareVersion:function(a,c){if(!e.isEmpty(a)&&!e.isEmpty(c)){var b=a.split(".");a=c.split(".");if(2===b.length&&2===a.length){c=parseInt(b[0],10);b=parseInt(b[1],10);var f=parseInt(a[0],
10);a=parseInt(a[1],10);return c==f?b-a:c-f}}},_reformatDate:function(a){var c=a;if(null==xfalib.ut.DateInfo.Parse(a)&&a){var b=Date.parse(a);if(isNaN(b)){if(b=a.slice(-4),/^[0-9]+$/.test(b)){var f=k.i18n.calendarSymbols.abbrmonthNames.indexOf(a.substr(4,3))+1;0<f&&(a=a.substr(8,2),/^[0-9]+$/.test(a)&&(c=b+"-"+(10>f?"0":"")+f+"-"+a))}}else a=a.substr(0,10),/^[0-9\-]+$/.test(a)&&(c=a)}return c},formatValue:function(a,c,b){if("date-time"===b||"date"===b)a=k.util.GuideUtil._reformatDate(a);try{var f=
xfalib.ut.PictureFmt.format(a+"",c,null,!0)}catch(l){h.guideBridge._guide.logger().error("Cannot format value "+a+" with "+c,l)}return f?f:a},guideSomToId:function(a){return a?(""+a).replace(/\./g,"-"):null},guideSomToComponentName:function(a){return a?a.substring(a.lastIndexOf(".")+1,a.lastIndexOf("[")):null},isChartLegendApplicable:function(a){return!(a===f.chartType.LINE||a===f.chartType.POINT||a===f.chartType.LINE_POINT||a===f.chartType.AREA)},isChartTooltipApplicable:function(a){return!(a===
f.chartType.LINE||a===f.chartType.AREA)},isChartAxisTitleApplicable:function(a){return!(a===f.chartType.PIE||a===f.chartType.DONUT)},modelElSelector:function(a){var c="["+f.GUIDE_VIEW_BIND_ATTR+"]";a&&(c="["+f.GUIDE_VIEW_BIND_ATTR+'\x3d"'+a+'"]');return c},isChildPartOfContainer:function(a,c){return null!=c&&null!=a?0===c.somExpression.lastIndexOf(a.somExpression,0):!1},relativeSom:function(a,c){return a&&c?(0==c.indexOf("guide[0].")&&(c=c.substring(9)),0==a.indexOf("guide[0].")&&(a=a.substring(9)),
0==c.indexOf(a)?c.substring(a.length+1):c):c},evalSom:function(a,c){return a&&c?a.split(".").reduce(function(a,c){return a[c]},c):null},itemContainerSelector:function(a){return"#"+a+f.GUIDE_ITEM_CONTAINER_SUFFIX},alternateItemContainerSelector:function(a){return"["+f.DATA_GUIDE_ITEM_CONTAINER+"\x3d"+(a+f.GUIDE_ITEM_CONTAINER_SUFFIX)+"]"},itemNavContainerSelector:function(a){a+=f.GUIDE_ITEM_NAV_CONTAINER_SUFFIX;return"#"+a+", [data-guide-id\x3d"+a+"]"},checkIfTableRow:function(a){return a&&a instanceof
k.model.GuideTableRow},itemSelector:function(a,c){return f.checkIfTableRow(c)?"["+f.DATA_GUIDE_ITEM+"\x3d"+a+f.GUIDE_ITEM_SUFFIX+"]":"#"+a+f.GUIDE_ITEM_SUFFIX},itemNavSelector:function(a){a+=f.GUIDE_ITEM_NAV_SUFFIX;return"#"+a+", [data-guide-id\x3d"+a+"]"},summarySelector:function(a){return".guideSummary[data-guide-id\x3d'"+a+"']"},propSelector:function(a,c){return"[data-guide-prop\x3d"+a+"][data-guide-id\x3d'"+c+"']"},getLocalizedMessage:function(a,c,b){b&&(c=c.replace(/{(\d+)}/g,function(a,c){return"undefined"!=
typeof b[c]?b[c]:a}));var f="";a&&(f+=" ["+a+"]");return f+("  "+c+"\r\n")},elIdWithoutNodeIdSuffix:function(a){var c=f.GUIDE_NODE_ID_SUFFIX;return a&&a.indexOf(f.GUIDE_NODE_ID_SUFFIX)==a.length-c.length?a=a.substring(0,a.length-c.length):""},loadCSS:function(a){if(a){var c=h.document.createElement("link");c.setAttribute("rel","stylesheet");c.setAttribute("type","text/css");c.setAttribute("href",a);"undefined"!==typeof c&&h.document.getElementsByTagName("head")[0].appendChild(c)}},setFocusOnFirstItemOfTableRow:function(a){var c=
a.find(".guideTableRuntimeEditControl"),b=null,f=!1;b=null;0<c.length&&c.each(function(){g(this).is(":visible")&&(f=!0,c.eq(0).focus())});f||(b=a.find("td:first-child").find(".guideFieldNode").data("guideViewBind"),b=null!=b?guideBridge._resolveId(b):null,null!=b&&guideBridge.setFocus(b.somExpression))},adjustElementHeight:function(a,c){if(c){c=g("#"+a).find(".guide-modal-body");a=g("#"+a).find(".guide-tnc-content");var b=c.innerHeight()-c.height();c.css("max-height",g(h).height());a.css("max-height",
g(h).height()-b)}else{c=g("#"+a).find(".guideFieldWidget");a=c.css("height");var f=0,e=0,d=null,k=c.clone()[0],q=null;g(k).css({visibility:"hidden","max-height":c.css("max-height"),top:"-2000px",left:"-2000px",position:"absolute",height:"0px"!==a?a:"auto"}).appendTo("body");e=g(k).height();c.children().each(function(a){q=g(k).children().eq(a);q.height()>=e&&null===d?d=g(this):f+=q.height()});d&&0<e-f?d.height(e-f+"px"):0>=e-f&&c.children().first().css("height","auto");g(k).remove()}},_resizeScribbleField:function(){var a=
g(".guidescribble").find(".guideFieldWidget");e.each(a,function(a,b){k.util.GuideUtil._computeHeightAndWidthForScribble(a)})},_computeHeightAndWidthForScribble:function(a){a=g(a);var c=a.innerWidth();var b=a.data("guideAspectRatio");c/=b;c=34>c?34:c;a.css("height",c+"px");a.find("img").css("height",c+"px")},updateContainer:function(a,c){g.ajax({url:a,type:"POST",data:{wcmmode:"disabled",data:c,targetMode:"true"},sync:!0,success:function(a){h.guidelib.guideReplaced||(a=g(a),g(f.GUIDE_CONTAINER_FORM_CLASS).replaceWith(a.filter(f.GUIDE_CONTAINER_FORM_CLASS)),
g(f.GUIDE_CONTAINER_THEME_CLASS).replaceWith(a.filter(f.GUIDE_CONTAINER_THEME_CLASS)))},error:function(a){h.console&&h.console.log(a)}})},fetchDataXml:function(a){var c="",b;a&&(b=JSON.parse(a.guidemergedjson||"null"));b&&(c=b.guideState.completeDataXML);return c},detectContextPath:function(){var a=/^(?:http|https):\/\/[^\/]+(\/.*)\/(?:etc(\/.*)*\/clientlibs|libs(\/.*)*\/clientlibs|apps(\/.*)*\/clientlibs).*\.js(\?.*)?$/,c,b;try{if(!h.CQURLInfo){var f=h.document.getElementsByTagName("script");for(var e=
0;e<f.length;e++)if(b=a.exec(f[e].src))return c=b[1];return""}}catch(p){h.console&&h.console.log(error)}},_getId:function(a){return k.util.GuideUtil.getId(a)},initializeHelp:function(){var a=f._getId;g(h.document).on("click.longDescription keypress.longDescription","[data-guide-longDescription]",function(c){if("keypress"!=c.type||f.isEnterKeyPressed(c)||f.isSpaceBarPressed(c)){c.preventDefault();var b=g(this).data("guide-longdescription");c=b.indexOf("_guideFieldLongDescription");-1===c&&(c=b.indexOf("_guidePanelLongDescription"));
c=g(this).data("guide-longdescription").substring(0,c);var e=c+"_guideFieldShortDescription";var d=g(a(b));b=g(a(e));d.toggle();e=d.is(":visible");c=h.guideBridge._resolveId(c);d=h.guideBridge._guideView.getView(c.somExpression);e?b.hide():(null!=d&&d.setActive(null,!0),g(this).data("guide-alwaysshow")&&b.show());d.visibleHelpElement=e?"longDescription":b.is(":visible")?"shortDescription":"none";c._triggerOnBridge("elementHelpShown",c,d.visibleHelpElement,"",{help:g(xfalib.ut.XfaUtil.prototype.encodeScriptableTags(c[d.visibleHelpElement])).html()})}});
f._initializeShortDescription()},_initializeShortDescription:function(a){e.isUndefined(a)&&(a=h.document);var c=f._getId,b=function(a){var b=g(a).parents(".guideFieldNode").eq(0);a=g(c(b.attr("id")+"_guideFieldLongDescription")).is(":visible");var f=g(b.find("[data-guide-longDescription]")).data("guide-alwaysshow");b=b.find(".short");return void 0===b||null===b||a||f?"":b.html()},d=g(".guideFieldWidget",a);e.isFunction(g.prototype.tooltip)&&0<d.length&&d.tooltip({title:function(){var a=g(this).find("button"),
c=g(this).parents(".guideCheckBoxItem").eq(0),f=g(this).parents(".guideRadioButtonItem").eq(0);return void 0!==a&&0<a.length||void 0!==c&&0<c.length||void 0!==f&&0<f.length?"":b(this)},placement:"bottom",container:".guideContainerWrapperNode",html:!0});a=g("button, .guideRadioButtonItem, .guideCheckBoxItem",a);e.isFunction(g.prototype.tooltip)&&0<a.length&&a.tooltip({title:function(){return b(this)},placement:"bottom",container:".guideContainerWrapperNode",html:!0})},_embedHtml:function(a,c,b){var f=
!1;if(c){f="#"+a.id;var d=c.match(/<div .*?>/),e=a.id.substring(0,a.id.indexOf("__"+a.templateId));c=c.substring(d[0].length,c.lastIndexOf("\x3c/div\x3e"));g(f).html(c);h.guideBridge._guideView&&h.guideBridge._guideView._domTemplateCacheStore.putDomElement("#"+a.templateId,g(f).clone());(a.repeatable||a._ancestorRepeatable)&&g(f).find('[id^\x3d"guideContainer"]').each(function(c,f){c=g(f);f=f.id;0!=f.indexOf(a.templateId+"_")?c.attr("id",b+"__"+c.attr("id")):e&&c.attr("id",e+"__"+f)});f=!0}return f},
isIphoneOrIpad:function(){var a=null!==h.navigator.userAgent.match(/iPad/i),c=null!==h.navigator.userAgent.match(/iPhone/i)||null!==h.navigator.userAgent.match(/iPod/i);return a||c},commonPrefixLen:function(a,c){if(e.isString(a)&&e.isString(c)){var b,f=Math.min(a.length,c.length);for(b=0;b<f&&a.charAt(b)===c.charAt(b);++b);return b}return 0},isAttributeBound:function(a){return e.isString(a)&&2===a.split("/@").length},_countHopsToRootPanel:function(a){for(var c=0;a&&a.parent;){c+=1;if("rootPanelNode"===
a.parent.className)return c;a=a.parent}},_checkIfAncestorIsALazyReference:function(a){for(a=a.parent;a&&!(a instanceof k.model.GuideContainerNode);){if(a._lazyReference)return!0;a=a.parent}return!1},isLazyJson:function(a){return e.isUndefined(a)||e.isEmpty(a.items)?!0:!1},showGuideLoading:function(a){a?(b().addClass("guideLoading"),h.document.body.classList.add("af-freezeBody")):(b().attr("class",""),h.document.body.classList.remove("af-freezeBody"));return this},removeAllMessages:function(){b().empty().removeClass("guideMessage");
return this},showMessages:function(a){e.isArray(a)||(a=[a]);a=a.map(function(a){return g("\x3ch1\x3e\x3c/h1\x3e").text(a)});b().empty().addClass("guideMessage").append(a);return this},fetchXMLNodeValue:function(a,c){if(!e.isUndefined(a)&&(a=g.parseXML(a))&&c){if((c=a.getElementsByTagName(c))&&0<c.length)var b=c[0];if(!e.isUndefined(b))return b.textContent}},_fetchJSONNodeValue:function(a,b){if(!e.isUndefined(a)&&(a=JSON.parse(a))&&b)return xfalib.ut.XfaUtil.prototype.getOrElse(a,"afData."+b,void 0)},
isEnterKeyPressed:function(a){return"Enter"==(a.key||a.keyIdentifier)||13==a.keyCode},isSpaceBarPressed:function(a){return" "==(a.key||a.keyIdentifier)||32==a.keyCode},_updateFileModelsAndLazyMap:function(a){var b=0,f=a.fileUrlList,d=a.lazyAttachmentMap;e.each(a.fileUploadModelsList,function(a){var c=a.fileAttachment,d=[];e.each(a.fileList,function(a){var c=e.isObject(a)&&0<a.val().length;e.isString(a)&&0<a.length?d.push(f[b++]):c&&e.each(a[0].files,function(){d.push(f[b++])})});c.value=d.join("\n")});
var g=b;e.each(d,function(a){for(var b=a.fileList,c=[],d=0;d<b.length;d++)e.isString(b[d])||(b[d]=f[g]),c.push(f[g++]);a.value=c.join("\n")})},_isSchemaBindRef:function(a){var b=!1;a&&-1<a.indexOf("/")&&(b=!0);return b},_isFormTemplateBindRef:function(a){var b=!1;a&&-1<a.indexOf("[")&&(b=!0);return b},_addValues:function(a,b){return e.isNull(a)?b:e.isNull(b)?a:a+b},getValueForBindRefField:function(a,b,d){b=d.internal.liveDataUtils.constants.UNBOUND_TAG;f._isSchemaBindRef(a)&&(b=d.internal.liveDataUtils.constants.BOUND_TAG);
f._isFormTemplateBindRef(a)&&(b=d.internal.liveDataUtils.constants.XFA_TAG);return d.internal.liveDataUtils.getDataValue(a,b)},_checkIfFileIsAccessible:function(a,b){var c=b.name,f=null;return Promise.race([function(a,b,c){return new Promise(function(d,e){f=setTimeout(function(){console.log("Read timeout for file "+c);e(b)},a)})}(1E4,c,a),function(a,b,c,f){return new Promise(function(d,e){var g={fileName:b,file:c},h=c.slice(0,50),n=new FileReader;n.onerror=function(c){clearTimeout(f);console.log("Unable to read file "+
b,c);e(a)};n.onload=function(c){clearTimeout(f);0===c.target.result&&(console.log("File has zero bytes "+b),e(a));d(g)};n.readAsBinaryString(h)})}(c,a,b,f)])},_createGetterSetter:function(a,b,f){var c="_"+b+"_";a.hasOwnProperty(b)||Object.defineProperty(a,b,{get:function(){if(this._private[c])return this._private[c]._getNakedThis()},set:function(a){var f=this._private[c];e.isObject(f)?f[f._default]=a:this.logger().warn("AF","Trying to set unloaded field's model \x3c"+b+"\x3e")}});a._private[c]=f},
_setGuideDataHeader:function(a,b){var c=a.attr("headers");if(c=e.isEmpty(c)?void 0:c.split(" ")[0])b=b.find("#"+c),a.attr("guide-data-header",g.trim(b.text()))},_isIOS:function(){return function(a,b){return b?0<e.filter(a,function(a){return 0<=b.indexOf(a)}).length:!1}("iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";"),navigator.platform)||0<=navigator.userAgent.indexOf("Mac")&&"ontouchend"in document},navigateToURL:function(a,b){var c=h;switch(b){case "SAME_TAB":var f="_self";
c=h.parent;break;case "NEW_WINDOW":f="newwindow";var d="width\x3d1000,height\x3d800"}c.open(Granite.HTTP.externalize(a),f,d)}}})(window,$,guidelib,window._);
(function(h,g,k){function e(){g("a[data-guide-toggle\x3d'accordion-tab']").each(function(b,a){b=g(a).attr("data-guide-id");b=g("#"+b+"_guide-item").hasClass("active");g(a).attr("aria-selected",b).attr("aria-expanded",b)})}var d=function(b){this.element=g(b)},b=g.fn.guidetab;d.prototype.show=function(){var b=this.element,a=b.data("guide-toggle");b.closest("ul:not(.dropdown-menu)");var c=b.attr("data-guide-id"),d="tab"===a||"accordion-tab"===a,g=b.parents("[id\x3d'"+c+"_guide-item']"),l=g.hasClass("active");
c||(b=b.parent("li"),d=d||b.hasClass("stepped"),(c=b.attr("id")||b.attr("data-guide-id"))&&(c=c.substring(0,c.length-k.util.GuideUtil.GUIDE_ITEM_NAV_SUFFIX.length)));c&&d?(h.guideBridge?(d=h.guideBridge._resolveId(c))&&h.guideBridge.setFocus(d.somExpression):h.parent._afAuthorHook&&h.parent.guidelib.author.AuthorUtils?h.parent.guidelib.author.AuthorUtils.setAuthoringFocus(c,h.document):k.author.AuthorUtils&&k.author.AuthorUtils.setAuthoringFocus(c,h.document),"accordion-tab"===a&&(g.toggleClass("active",
!l),e())):d&&console&&console.log&&console.log("could not execute setFocus for:"+c)};g.fn.guidetab=function(b){return this.each(function(){var a=g(this),c=a.data("guidetab");c||a.data("guidetab",c=new d(this));if("string"===typeof b)c[b]()})};g.fn.guidetab.Constructor=d();g.fn.guidetab.noConflict=function(){g.fn.guidetab=b;return this};g(h.document).on("click.guidetab.data-api",'[data-guide-toggle$\x3d"tab"]',function(b){b.preventDefault();g(this).guidetab("show")}).on("keydown.guidetab.data-api",
'[data-guide-toggle$\x3d"tab"], [id$\x3d"'+k.util.GuideUtil.GUIDE_ITEM_NAV_SUFFIX+'"]',function(b){k.util.GuideUtil.isSpaceBarPressed(b)&&(b.preventDefault(),b.stopPropagation(),0<g(b.target).find('[data-guide-toggle$\x3d"tab"]').length?g(this).find('[data-guide-toggle$\x3d"tab"]').guidetab("show"):g(this).guidetab("show"))});h.addEventListener("bridgeInitializeStart",function(b){b=b.detail.guideBridge;b.on(b.GUIDE_BRIDGE_INITIALIZE_COMPLETE,e)})})(window,$,guidelib);
(function(h,g,k){k.util.GuideUtil.showHideNavScroll=function(){var e=g("[data-guide-nav-scroll]");void 0!==e&&null!==e&&_.each(e,function(d){d=g(d);var b=d.hasClass("adTabScroller")?d.parent().find(".adTabbedItemTitleContainer"):d.parent()[0].querySelectorAll('[id*\x3d"'+k.util.GuideUtil.GUIDE_ITEM_NAV_CONTAINER_SUFFIX+'"]');void 0!==b&&null!==b&&void 0!==b[0]&&null!==b[0]&&(b[0].scrollWidth<=b[0].offsetWidth?d.addClass("hide-tab-scroll"):d.removeClass("hide-tab-scroll"))})};k.util.GuideUtil.navScroll=
function(e,d,b,f){var a=g(e),c=0,h;b||(b=1);if(void 0!==a&&null!==a&&(f=a.find(f),0<f.length)){var k=Math.ceil(e.scrollWidth-e.offsetWidth);void 0===a.data("guideNavScrollPos")&&a.attr("data-guide-nav-scroll-pos",0);var l=a.data("guideNavScrollPos");"left"===d?0<=l-b&&(l-=b):"right"===d&&l+b<f.length&&(l+=b);_.each(f,function(a,b){b<l&&(c+=g(a).outerWidth(!0))});if(c>k){var p=0;_.each(f,function(a,b){b<=l&&p<=k&&(h=b,p+=g(a).outerWidth(!0))});l=h;c=p}a.data("guideNavScrollPos",l);a.scrollLeft(c)}}})(window,
$,guidelib);
$(function(h){h("body").on("click","[data-guide-nav-scroll]",function(){var g=h(this).data("guideNavScroll"),k=h(this).hasClass("adTabScroller");var e=k?h(this).parent().find(".adTabbedItemTitleContainer"):h(this).parent().find('[id*\x3d"'+guidelib.util.GuideUtil.GUIDE_ITEM_NAV_CONTAINER_SUFFIX+'"]');!_.isUndefined(e)&&!_.isNull(e)&&0<e.length&&(k?guidelib.util.GuideUtil.navScroll(e[0],g,0,".adTabbedItemTitle"):guidelib.util.GuideUtil.navScroll(e[0],g,0,'[id*\x3d"'+guidelib.util.GuideUtil.GUIDE_ITEM_NAV_SUFFIX+'"]:not(.hidden)'))});
h(window).on("load resize",guidelib.util.GuideUtil.showHideNavScroll)});(function(h){h.log={LogStrings:{}}})(guidelib);
(function(h,g,k){function e(b,f,a){var c=b.prototype;var e=f&&f.hasOwnProperty("constructor")?f.constructor:function(){b.apply(this,arguments)};g.extend(e,b);d.prototype=b.prototype;e.prototype=new d;e._super=b.prototype;e._superClass=b;if(f)for(var h in f)"_defaults"==h&&(f[h]=g.extend({},c[h],f[h])),e.prototype[h]=f[h];a&&g.extend(e,a);e.prototype.constructor=e;e.__super__=b.prototype;return e}h=k.view.ad.layout.LayoutBase=function(b){this.options=g.extend({},this.options,b);this.initialize.apply(this,
arguments)};g.extend(h.prototype,{initialize:function(){}});g.extend(h,{extend:function(b){b=e(this,b);b.extend=this.extend;return b}});var d=function(){}})($,_,window.guidelib);
(function(h,g,k){k.view.ad.layout.LayoutStrategy=k.view.ad.layout.LayoutBase.extend({layoutStrategy:"",initialize:function(e){this.options=this.options||{};this.$element=this.options.$element;this.layoutConfigs=this.getStrategyLayoutConfigs(this.options.layoutConfigs||[]);this.layoutInstances=[]},getStrategyLayoutConfigs:function(e){var d=[];g.each(e,function(b){b.layoutStrategy===this.layoutStrategy&&d.push(b)},this);return d},applyLayoutConfig:function(e,d,b,f){if(e&&e.layoutName){var a=eval(e.layoutName);
a&&(e=new a({$element:this.$element,itemAndTitleArray:d,$container:b,containerId:f,layoutColumns:e.layoutColumns}),this.layoutInstances.push(e))}},done:function(){g.each(this.layoutInstances,function(e,d){e.done();this.layoutInstances[d]=null},this)}})})($,_,window.guidelib);
(function(h,g,k){var e=k.view.ad.layout.ContainerLayoutStrategy=k.view.ad.layout.LayoutStrategy.extend({layoutStrategy:"adContainerStrategy",initialize:function(d){e._super.initialize.call(this,d);g.each(this.layoutConfigs,this.applyLayouts,this)},applyLayouts:function(d,b){var f=d.containerSelector||"ol,ul";var a=(d.containerSelectorLevel?parseInt(d.containerSelectorLevel):d.containerSelectorLevel)||0;var c=this.getTitleSelectors(d.titleSelector);var e=d.itemSelector||"li";f=this.getContainers(f,
a);g.each(f,function(a,f){var k=a.children(e),n=[];g.each(k,function(a,b){b=h(a);a=this.getTitle(h(a),c);n.push({item:b,title:a})},this);this.applyLayoutConfig(d,n,a,b+"-"+f)},this)},getTitleSelectors:function(d){var b=[];d&&b.push(d);b.push("h1");b.push("h2");b.push("h3");b.push("h4");b.push("h5");b.push("h6");return b},getTitle:function(d,b){for(var f,a,c=0;c<b.length;c++)if(f=d.find(b[c]),0<f.length){a=h(f[0]);break}return a},getContainers:function(d,b){var f=[];this.$element.find(d).each(function(a,
c){a=h(c);c=a.parents(d);(0>b||c.length===b)&&f.push(a)});return f}})})($,_,window.guidelib);
(function(h,g,k){var e=k.view.ad.layout.DelimiterLayoutStrategy=k.view.ad.layout.LayoutStrategy.extend({layoutStrategy:"adDelimiterStrategy",standardDelimiters:"h1 h2 h3 h4 h5 h6".split(" "),standardLevels:["first","second","third"],initialize:function(d){e._super.initialize.call(this,d);this.delimiterSelectors=this.extractConfigDelimiters();this.layoutConfigs&&0<this.layoutConfigs.length&&this.applyLayouts(0,this.$element,0)},extractConfigDelimiters:function(){var d=!1,b=[];g.each(this.layoutConfigs,
function(f){var a=f.itemDelimiter;-1<this.standardLevels.indexOf(f.layoutType)&&!a||-1<this.standardDelimiters.indexOf(a)?d=!0:a&&b.push(a)},this);d&&(b=[].concat(this.standardDelimiters).concat(b));return b},getDelimiterLayoutConfig:function(d,b){var f;g.each(this.layoutConfigs,function(a){g.each(this.standardLevels,function(c,e){if(!a.itemDelimiter&&a.layoutType===c&&b===e||a.itemDelimiter&&a.itemDelimiter===d)f=a},this)},this);return f},applyLayouts:function(d,b,f){var a=[],c,e=[];if(!(d>=this.delimiterSelectors.length)){var k=
this.delimiterSelectors[d];if((c=b.find(k))&&0===c.length)return this.applyLayouts(d+1,b,f);var l=this.getDelimiterLayoutConfig(k,f);c.each(function(b,c){b=h(c);var d=b.nextUntil(k);d.splice(0,0,c);d.wrapAll("\x3cdiv\x3e\x3c/div\x3e");c=d.parent();e.push(c);l&&l.titleSelector&&(d=c.find(l.titleSelector))&&0<d.length&&(b=h(d[0]));a.push({item:c,title:b})});l&&(c=l.layoutType+"-"+k,this.applyLayoutConfig(l,a,b,c));g.each(e,function(a){this.applyLayouts(d+1,a,f+1)},this)}}})})($,_,window.guidelib);
(function(h,g,k){k.view.ad.layout.LayoutPlugin=k.view.ad.layout.LayoutBase.extend({layoutName:"",initialize:function(){this.options=this.options||{};this.$element=this.options.$element;this.itemAndTitleArray=this.options.itemAndTitleArray;this.$container=this.getContainer(this.options.$container);this.$container.addClass(this.layoutName);this.containerId=this.options.containerId;this.itemClass=this.layoutName+"Item";this.titleClass=this.layoutName+"Title";this.itemTitleClass=this.layoutName+"ItemTitle";
this.$parentNavMenu=this.constructNavMenuContainer();this.addItemTitle()},done:function(){},getContainer:function(e){return e},constructNavMenuContainer:function(){var e=this.$container.closest("["+k.util.GuideUtil.DATA_LAYOUT_ITEM_INDEX+"]"),d;if(e&&0<e.length){(d=this.$container.parents(".guideAdModule").eq(0))&&0===d.length&&(d=this.$container.parents(".guideAdModuleGroup").eq(0));d=d.data("guide-view-bind");d+=k.util.GuideUtil.GUIDE_ITEM_NAV_CONTAINER_SUFFIX;d=h('[data-guide-id\x3d"'+d+'"]');
var b=e.attr(k.util.GuideUtil.DATA_LAYOUT_ITEM_INDEX);e=b+k.util.GuideUtil.GUIDE_ITEM_NAV_CONTAINER_SUFFIX;var f=b+k.util.GuideUtil.GUIDE_ITEM_NAV_SUFFIX;b=d.find('[data-guide-id\x3d"'+e+'"]');b&&0<b.length||(d=d.find('[data-guide-id\x3d"'+f+'"]'),b=h("\x3cul\x3e\x3c/ul\x3e").attr("data-guide-id",e),b.addClass("tab-navigators tab-navigators-mobile"),d.append(b))}else(e=this.$container.closest(".guideAdModule"))&&0===e.length&&(e=this.$container.closest(".guideAdModuleGroup")),b=e.data("guide-view-bind"),
e=b+k.util.GuideUtil.GUIDE_ITEM_NAV_CONTAINER_SUFFIX,b=h('[data-guide-id\x3d"'+e+'"]'),b.removeClass("hidden");b&&0<b.length||(b=void 0);return b},constructItemTitle:function(e,d){var b=h("\x3c"+this.layoutItemTitleType+"/\x3e"),f=e.title,a=e.item;d="ad-"+d;var c="itemContent"+d,g="itemTitle"+d;a.addClass(this.itemClass);b.attr("data-"+this.layoutName+"-id",d);b.addClass(this.itemTitleClass);b.attr("tabindex",0);if(f&&0<f.length)b.append(f.text()),f.addClass(this.titleClass);else{f=a.html().replace(/<br>|<p>|<\/p>|<div>|<\/div>/gi,
" ").replace(/ +/g," ");f=h("\x3cdiv\x3e\x3c/div\x3e").append(f).text();var m=f.split(" ");m&&(f=4<m.length?m[0]+" "+m[1]+" "+m[2]+" "+m[3]:f,b.append(f))}b.attr("title",b.text());a.attr("data-"+this.layoutName+"-content-id",d);a.attr(k.util.GuideUtil.DATA_LAYOUT_ITEM_INDEX,this.containerId+d);a.attr("id",c);b.attr("id",g);b.attr("role","tab").attr("aria-controls",c);a.attr("role","tabpanel").attr("aria-labeledby",g);e.item=a;this.updateNavMenuForItem(a,b,d);return b},updateNavMenuForItem:function(e,
d,b){if(this.$parentNavMenu){var f=h("\x3cli\x3e\x3c/li\x3e"),a=h("\x3ca\x3e\x3c/a\x3e"),c=d.text();b=this.containerId+b;var g,m="";f.attr("data-guide-id",b+k.util.GuideUtil.GUIDE_ITEM_NAV_SUFFIX);f.attr("title",c);(g=this.$parentNavMenu.parents("li"))&&0<g.length&&(g=h(g[0]).data("path"))&&(m=g);f.attr("data-path",m+"/"+b);a.attr("data-toggle","collapse");a.attr("data-target","#guide-mobile-navigator");a.append(c);a.on("click",function(){f.siblings().removeClass("active");f.addClass("active");d.click();
h("body").animate({scrollTop:e.offset().top},500);e.focus()});f.append(a);this.$parentNavMenu.append(f)}},constructItemTitleForOneActive:function(e,d){var b=this.constructItemTitle(e,d);0===d?this.makeItemTitleActive(e.item,b):this.unmarkItemTitleForOneActive(e.item,b);this.handleItemTitleClick&&(b.on("click",{layoutPlugin:this},this.handleItemTitleClick),b.keydown(this.handleItemTitleKeyDown));return b},handleItemTitleKeyDown:function(e){switch(e.keyCode){case 32:h(this).trigger("click")}},constructItemTitleContainer:function(){var e=
h("\x3c"+this.layoutItemTitleContainerType+"/\x3e");e.addClass(this.layoutName+"ItemTitleContainer").attr("data-"+this.layoutName+"-id",this.containerId);return e},makeItemTitleActive:function(e,d){e.addClass("active").removeClass("hidden");e.attr("aria-hidden","false");d.addClass("active")},unmarkItemTitleActive:function(e,d){e.removeClass("active");d.removeClass("active")},unmarkItemTitleForOneActive:function(e,d){e.addClass("hidden");e.attr("aria-hidden","true");this.unmarkItemTitleActive(e,d)}})})($,
_,window.guidelib);
(function(h,g,k){k.view.ad.layout.TabLayoutPlugin=k.view.ad.layout.LayoutPlugin.extend({layoutName:"adTabbed",layoutItemTitleType:"li",layoutItemTitleContainerType:"ul",addItemTitle:function(){var e=this.constructItemTitleContainer(),d=h("\x3cdiv\x3e\x3c/div\x3e"),b=h("\x3cdiv\x3e\x3c/div\x3e").addClass("adTabScroller adTabLeft").attr("data-guide-nav-scroll","left"),f=h("\x3cdiv\x3e\x3c/div\x3e").addClass("adTabScroller adTabRight").attr("data-guide-nav-scroll","right");this.$container.attr("data-"+this.layoutName+
"-content-id","ad-"+this.containerId);g.each(this.itemAndTitleArray,function(a,b){a=this.constructItemTitleForOneActive(a,b);e.append(a)},this);d.append(b).append(e).append(f);this.$container.before(d)},getContainer:function(e){if(!e.is("ul")&&!e.is("ol")&&this.itemAndTitleArray&&0<this.itemAndTitleArray.length){var d=this.itemAndTitleArray[0].item[0];e=h(d).parent().children();var b=[],f=!1;g.each(e,function(a){d==a&&(f=!0);f&&b.push(a)});return h(b).wrapAll("\x3cdiv\x3e\x3c/div\x3e").parent()}return e},
handleItemTitleClick:function(e){var d=h(this);if(!d.hasClass("active")){e=e.data.layoutPlugin;var b="data-"+e.layoutName.toLowerCase()+"-content-id",f=d.data(e.layoutName.toLowerCase()+"-id"),a=d.parent(e.layoutItemTitleContainerType),c=a.data(e.layoutName.toLowerCase()+"-id");c=a.parent().siblings("["+b+'\x3d"ad-'+c+'"]');b=c.children("["+b+'\x3d"'+f+'"]');e.unmarkItemTitleForOneActive(c.children(".active"),a.children(".active"));e.makeItemTitleActive(b,d);e=a.eq(0);g.isUndefined(e.data("guideNavScrollPos"))&&
e.data("guideNavScrollPos",0);a=e.data("guideNavScrollPos");d=parseInt(d.data("adtabbedId").substr(3));k.util.GuideUtil.navScroll(e,d>a?"right":"left",Math.abs(d-a),".adTabbedItemTitle");k.util.GuideUtil.showHideNavScroll()}},done:function(){var e=this.$container.parents("."+this.layoutName);e&&0<e.length||k.util.GuideUtil.showHideNavScroll()}})})($,_,window.guidelib);
(function(h,g,k){k.view.ad.layout.AccordionLayoutPlugin=k.view.ad.layout.LayoutPlugin.extend({layoutName:"adAccordion",layoutItemTitleType:"div",addItemTitle:function(){g.each(this.itemAndTitleArray,function(e,d){var b=e.item;b.is("li")&&(b.wrapInner("\x3cdiv\x3e\x3c/div\x3e"),b=b.children("div"),e.item=b);e=this.constructItemTitleForOneActive(e,d);b.before(e)},this)},handleItemTitleClick:function(e){var d=h(this);e=e.data.layoutPlugin;var b="data-"+e.layoutName.toLowerCase()+"-content-id",f=d.data(e.layoutName.toLowerCase()+
"-id"),a=d.parent();f=a.children("["+b+'\x3d"'+f+'"]');d.hasClass("active")?(d.removeClass("active"),f.toggleClass("hidden")):(a.is("li")&&(a=a.parent().children()),b=a.children(".active["+b+"]"),a=a.children(".active"),e.unmarkItemTitleForOneActive(b,a),e.makeItemTitleActive(f,d))}})})($,_,window.guidelib);
(function(h,g,k){var e=k.view.ad.layout.AnchorLayoutPlugin=k.view.ad.layout.LayoutPlugin.extend({layoutName:"adAnchor",layoutItemTitleType:"a",layoutItemTitleContainerType:"ul",initialize:function(d){this.mergeWithParent=this.options.mergeWithParent||!0;e._super.initialize.call(this,d)},addItemTitle:function(){var d=this.constructItemTitleContainer(),b="."+this.titleClass,f="data-"+this.layoutName+"-uid";this.$container.attr("data-"+this.layoutName+"-content-id","ad-"+this.containerId);g.each(this.itemAndTitleArray,
function(a,c){var e=a.item;a=this.constructItemTitle(a,c);var g=this.containerId+"data-"+c+"-val-"+a.html();e.attr(f,g);a.attr("href","#"+g);a.wrap("\x3cli\x3e\x3c/li\x3e");c=this.$titles?h(this.$titles[c]):e.find(b);g=h("\x3ca\x3e\x3c/a\x3e").attr("name",g);c&&0<c.length?c.before(g):e.prepend(g);d.append(a.parent())},this);if(this.mergeWithParent){var a=this.$container.closest("["+f+"]");if(a&&0<a.length){var c=this.$element.siblings("."+this.layoutName+"ItemTitleContainer");a='[href\x3d"#'+a.attr(f)+
'"]';(c=c.find(a))&&0<c.length&&c.parent().append(d)}else this.$element.before(d)}else this.$container.before(d)}})})($,_,window.guidelib);
(function(h,g,k){var e=k.view.ad.layout.CardLayoutPlugin=k.view.ad.layout.LayoutPlugin.extend({layoutName:"adCard",layoutItemTitleType:"div",layoutColumns:2,initialize:function(d){this.options.layoutColumns&&null!==this.options.layoutColumns&&(this.layoutColumns=parseInt(this.options.layoutColumns));e._super.initialize.call(this,d)},addItemTitle:function(){g.each(this.itemAndTitleArray,function(d,b){b=this.constructItemTitle(d,b);d.item.prepend(b)},this)},expandCard:function(d){var b=d.data.context;
d=h(this);b=d.closest("."+b.itemClass);d.toggleClass("adCardCollapse");b.toggleClass("adCardFull")},getExpandCard:function(){var d=h("\x3cdiv\x3e\x3c/div\x3e").addClass("adCardExpand").on("click",{context:this},this.expandCard),b=h("\x3cdiv\x3e\x3c/div\x3e").addClass("adCardShade"),f=h("\x3cdiv\x3e\x3c/div\x3e").addClass("adCardIcon");d.append(b,f);return d},done:function(){var d=this.$container.parents("."+this.layoutName);if(!(d&&0<d.length)){var b=this.getExpandCard();d=this.itemAndTitleArray[0].item.closest("."+
this.layoutName);d.find("."+this.itemClass).append(b);if(1<this.layoutColumns){b=h("\x3cdiv\x3e\x3c/div\x3e").addClass("adCardDesktop").attr("data-adCardCol",this.layoutColumns);var f=[],a;for(a=0;a<this.layoutColumns;a++){var c=h("\x3cdiv\x3e\x3c/div\x3e").attr("data-adCardColNum",a);f.push(c)}a=d.children("."+this.itemClass);g.each(a,function(a,b){a=h(a);f[b%this.layoutColumns].append(a.clone(!0));a.addClass("adCardMobile")},this);for(a=0;a<this.layoutColumns;a++)b.append(f[a]);d.append(b)}}}})})($,
_,window.guidelib);
(function(h,g,k){k.util.AdUtil={descriptionPlugin:function(){_.isFunction(g.prototype.tooltip)&&g(this).find("[data-description]").tooltip({title:function(){return decodeURIComponent(g(this).data("description"))},placement:"top",html:!0})},applyLayouts:function(e){var d=[];d.push(new k.view.ad.layout.DelimiterLayoutStrategy(e));d.push(new k.view.ad.layout.ContainerLayoutStrategy(e));_.each(d,function(b,f){b.done();d[f]=null})},applyDescriptionPlugin:function(){g(".guideAdModule, .guideAdModuleGroup").one("mouseenter",k.util.AdUtil.descriptionPlugin)}}})(window,
$,guidelib);
(function(h,g,k,e){var d=k.util.RecaptchaUtil={_tokenChange:function(b,d){var a=null,c=b.attr("af-grecaptcha-response");e.isEmpty(c)||(a={g_recaptcha_response:c,rcCloudServicePath:d.rcCloudServicePath});if(void 0!=g._data(b[0],"events").tokenChange)b.trigger({type:"tokenChange.captcha",token:a});else{b=g("#recaptchaInvisible");var f=h.guideBridge._resolveId(b.attr("modelId"));f.value=a;f._triggerPostSubmission&&(b.removeAttr("af-recaptcha-execute"),setTimeout(function(){h.guideBridge._submitAfterValidation(f._submitParameters.options,f._submitParameters.success,
f._submitParameters.error)}))}},renderRecaptcha:function(b,f){b.append('\x3cdiv class\x3d"g-recaptcha"\x3e\x3c/div\x3e');var a=g("div.g-recaptcha")[0],c,e=b.data("externaldomain")||"",m="";"function"===typeof h.URL?m=(new URL("recaptcha/api.js",e)).toString():(0<e.length&&"/"!=e[e.length-1]&&(e+="/"),m=e+"recaptcha/api.js");k.util.RecaptchaUtil.successCallback=function(a){b.attr("af-grecaptcha-response",a);d._tokenChange(b,f)};k.util.RecaptchaUtil.expiredCallback=function(){grecaptcha.reset(c);b.removeAttr("af-grecaptcha-response");
"invisible"==l.size&&f.mandatory?b.attr("af-recaptcha-execute",""):d._tokenChange(b,f)};var l={sitekey:f.rcSitekey,theme:f.rcTheme||"light",type:f.rcType||"image",size:f.rcSize||"invisible",callback:k.util.RecaptchaUtil.successCallback,"expired-callback":k.util.RecaptchaUtil.expiredCallback};onloadCallbackInternal=function(){return c=grecaptcha.render(a,l)};h.onloadRecaptchaCallback=onloadCallbackInternal;e=b.data("locale");b.append('\x3cscript src\x3d"'+m+"?onload\x3donloadRecaptchaCallback\x26render\x3dexplicit\x26hl\x3d"+
e+'" async defer\x3e\x3c/script\x3e')},recaptchaExecution:function(b){var d=h.guideBridge._resolveId(g("#recaptchaInvisible").attr("modelId"));d._submitParameters=b.submitParameters;d._triggerPostSubmission=b.triggerPostSubmission;grecaptcha.execute()}}})(window,$,guidelib,window._);